{"version":3,"sources":["/home/users/ajeet.kumar/www/html/pos-test/wp-content/plugins/woo-point-of-sale/packages/navigation/src/history.js"],"names":["_history","getHistory","browserHistory","basename","length","action","location","query","search","substring","pathname","path","createHref","args","apply","push","replace","go","goBack","goForward","block","listen","listener"],"mappings":";;;;;;;;;;;AAIA;;AACA;;;;;;AAEA;AAEA,IAAIA,QAAJ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,SAASC,UAAT,GAAsB;AAClB,MAAK,CAAED,QAAP,EAAkB;AACpB,QAAME,cAAc,GAAG,oCAAsB;AAC5CC,MAAAA,QAAQ,EAAE;AADkC,KAAtB,CAAvB;AAGAH,IAAAA,QAAQ,GAAG;AACV,UAAII,MAAJ,GAAa;AACA,eAAOF,cAAc,CAACE,MAAtB;AACZ,OAHS;;AAIV,UAAIC,MAAJ,GAAa;AACA,eAAOH,cAAc,CAACG,MAAtB;AACZ,OANS;;AAOD,UAAIC,QAAJ,GAAe;AACX,YAAQA,QAAR,GAAqBJ,cAArB,CAAQI,QAAR;AACZ,YAAMC,KAAK,GAAG,eAAOD,QAAQ,CAACE,MAAT,CAAgBC,SAAhB,CAA2B,CAA3B,CAAP,CAAd;AACA,YAAMC,QAAQ,GAAGH,KAAK,CAACI,IAAN,IAAcL,QAAQ,CAACI,QAAxC;AAEA,+CACIJ,QADJ;AAECI,UAAAA,QAAQ,EAARA;AAFD;AAIA,OAhBS;;AAiBVE,MAAAA,UAAU,EAAE;AAAA,0CAAKC,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACU,UAAf,CAA0BE,KAA1B,CAAiCZ,cAAjC,EAAiDW,IAAjD,CAAf;AAAA,OAjBF;AAkBVE,MAAAA,IAAI,EAAE;AAAA,2CAAKF,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACa,IAAf,CAAoBD,KAApB,CAA2BZ,cAA3B,EAA2CW,IAA3C,CAAf;AAAA,OAlBI;AAmBVG,MAAAA,OAAO,EAAE;AAAA,2CAAKH,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACc,OAAf,CAAuBF,KAAvB,CAA8BZ,cAA9B,EAA8CW,IAA9C,CAAf;AAAA,OAnBC;AAoBVI,MAAAA,EAAE,EAAE;AAAA,2CAAKJ,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACe,EAAf,CAAkBH,KAAlB,CAAyBZ,cAAzB,EAAyCW,IAAzC,CAAf;AAAA,OApBM;AAqBVK,MAAAA,MAAM,EAAE;AAAA,2CAAKL,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACgB,MAAf,CAAsBJ,KAAtB,CAA6BZ,cAA7B,EAA6CW,IAA7C,CAAf;AAAA,OArBE;AAsBVM,MAAAA,SAAS,EAAE;AAAA,2CAAKN,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACiB,SAAf,CAAyBL,KAAzB,CAAgCZ,cAAhC,EAAgDW,IAAhD,CAAf;AAAA,OAtBD;AAuBVO,MAAAA,KAAK,EAAE;AAAA,2CAAKP,IAAL;AAAKA,UAAAA,IAAL;AAAA;;AAAA,eAAeX,cAAc,CAACkB,KAAf,CAAqBN,KAArB,CAA4BZ,cAA5B,EAA4CW,IAA5C,CAAf;AAAA,OAvBG;AAwBDQ,MAAAA,MAAM,EAAE,gBAAUC,QAAV,EAAoB;AAAA;;AACxB,eAAOpB,cAAc,CAACmB,MAAf,CAAsB,YAAM;AAC9CC,UAAAA,QAAQ,CAAE,KAAI,CAAChB,QAAP,EAAiB,KAAI,CAACD,MAAtB,CAAR;AACA,SAFkB,CAAP;AAGZ;AA5BS,KAAX;AA8BA;;AACD,SAAOL,QAAP;AACA","sourcesContent":["/** @format */\n/**\n * External dependencies\n */\nimport { createBrowserHistory } from 'history';\nimport { parse } from 'qs';\n\n// See https://github.com/ReactTraining/react-router/blob/master/FAQ.md#how-do-i-access-the-history-object-outside-of-components\n\nlet _history;\n\n/**\n * Recreate `history` to coerce React Router into accepting path arguments found in query\n * parameter `path`, allowing a url hash to be avoided. Since hash portions of the url are\n * not sent server side, full route information can be detected by the server.\n *\n * `<Router />` and `<Switch />` components use `history.location()` to match a url with a route.\n * Since they don't parse query arguments, recreate `get location` to return a `pathname` with the\n * query path argument's value.\n *\n * @returns {object} React-router history object with `get location` modified.\n */\n\nfunction getHistory() {\n    if ( ! _history ) {\n\t\tconst browserHistory = createBrowserHistory( {\n\t\t\tbasename: '/',\n\t\t} );\n\t\t_history = {\n\t\t\tget length() {\n                return browserHistory.length;\n\t\t\t},\n\t\t\tget action() {\n                return browserHistory.action;\n\t\t\t},\n            get location() {\n                const { location } = browserHistory;\n\t\t\t\tconst query = parse( location.search.substring( 1 ) );\n\t\t\t\tconst pathname = query.path || location.pathname;\n\n\t\t\t\treturn {\n\t\t\t\t\t...location,\n\t\t\t\t\tpathname,\n\t\t\t\t};\n\t\t\t},\n\t\t\tcreateHref: ( ...args ) => browserHistory.createHref.apply( browserHistory, args ),\n\t\t\tpush: ( ...args ) => browserHistory.push.apply( browserHistory, args ),\n\t\t\treplace: ( ...args ) => browserHistory.replace.apply( browserHistory, args ),\n\t\t\tgo: ( ...args ) => browserHistory.go.apply( browserHistory, args ),\n\t\t\tgoBack: ( ...args ) => browserHistory.goBack.apply( browserHistory, args ),\n\t\t\tgoForward: ( ...args ) => browserHistory.goForward.apply( browserHistory, args ),\n\t\t\tblock: ( ...args ) => browserHistory.block.apply( browserHistory, args ),\n            listen: function (listener) {\n                return browserHistory.listen(() => {\n\t\t\t\t\tlistener( this.location, this.action );\n\t\t\t\t} );\n\t\t\t},\n\t\t};\n\t}\n\treturn _history;\n}\n\nexport { getHistory };\n"]}