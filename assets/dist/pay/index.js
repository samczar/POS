(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ADD_CUSTOM_ORDER_DATA_BELOW_DATE",(function(){return ADD_CUSTOM_ORDER_DATA_BELOW_DATE})),__webpack_require__.d(__webpack_exports__,"ADD_CUSTOM_HTML_BELOW_KEYBOARD",(function(){return ADD_CUSTOM_HTML_BELOW_KEYBOARD})),__webpack_require__.d(__webpack_exports__,"CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER",(function(){return CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER})),__webpack_require__.d(__webpack_exports__,"ADD_DATA_AFTER_TAX_IN_RECEIPT",(function(){return ADD_DATA_AFTER_TAX_IN_RECEIPT})),__webpack_require__.d(__webpack_exports__,"ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM",(function(){return ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM})),__webpack_require__.d(__webpack_exports__,"ADD_DATA_AFTER_BALANCE_IN_RECEIPT",(function(){return ADD_DATA_AFTER_BALANCE_IN_RECEIPT})),__webpack_require__.d(__webpack_exports__,"CHANGE_STATE_VALUE_IN_PAY_PAGE",(function(){return CHANGE_STATE_VALUE_IN_PAY_PAGE})),__webpack_require__.d(__webpack_exports__,"ADD_DATA_AFTER_PAYMENT_HEADING_IN_PAY_FILTER",(function(){return ADD_DATA_AFTER_PAYMENT_HEADING_IN_PAY_FILTER})),__webpack_require__.d(__webpack_exports__,"ADD_DATA_IN_SELECT_CUSTOMER_IN_PAY_FILTER",(function(){return ADD_DATA_IN_SELECT_CUSTOMER_IN_PAY_FILTER})),__webpack_require__.d(__webpack_exports__,"ADD_AFTER_TOTAL_HTML_IN_PAY_FILTER",(function(){return ADD_AFTER_TOTAL_HTML_IN_PAY_FILTER})),__webpack_require__.d(__webpack_exports__,"AFTER_CREATING_ORDER_ACTION",(function(){return AFTER_CREATING_ORDER_ACTION})),__webpack_require__.d(__webpack_exports__,"REMOVE_COMPLETE_PAYMENT_RESTRICTION",(function(){return REMOVE_COMPLETE_PAYMENT_RESTRICTION})),__webpack_require__.d(__webpack_exports__,"REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION",(function(){return REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION})),__webpack_require__.d(__webpack_exports__,"PERFORM_ACTION_AFTER_INVOICE_PRINT",(function(){return PERFORM_ACTION_AFTER_INVOICE_PRINT})),__webpack_require__.d(__webpack_exports__,"UPDATE_POS_ORDER_SUB_TOTAL",(function(){return UPDATE_POS_ORDER_SUB_TOTAL})),__webpack_require__.d(__webpack_exports__,"wkwcpos_change_pos_total",(function(){return wkwcpos_change_pos_total})),__webpack_require__.d(__webpack_exports__,"WANT_TO_PRINT_RECIEPT",(function(){return WANT_TO_PRINT_RECIEPT})),__webpack_require__.d(__webpack_exports__,"CHANGE_LISTING_OF_PRODUCTS",(function(){return CHANGE_LISTING_OF_PRODUCTS})),__webpack_require__.d(__webpack_exports__,"CHANGE_STATE_VALUE_ON_BUTTON_PRESSED",(function(){return CHANGE_STATE_VALUE_ON_BUTTON_PRESSED})),__webpack_require__.d(__webpack_exports__,"PAYMENT_METHODS_TABS_FILTER",(function(){return PAYMENT_METHODS_TABS_FILTER})),__webpack_require__.d(__webpack_exports__,"PAY_BY_CASH_HTML_STATUS_FILTER",(function(){return PAY_BY_CASH_HTML_STATUS_FILTER})),__webpack_require__.d(__webpack_exports__,"PAY_BY_CARD_HTML_STATUS_FILTER",(function(){return PAY_BY_CARD_HTML_STATUS_FILTER})),__webpack_require__.d(__webpack_exports__,"PAY_TENDERED_HTML_STATUS_FILTER",(function(){return PAY_TENDERED_HTML_STATUS_FILTER})),__webpack_require__.d(__webpack_exports__,"PAY_CHANGE_HTML_STATUS_FILTER",(function(){return PAY_CHANGE_HTML_STATUS_FILTER})),__webpack_require__.d(__webpack_exports__,"PAY_ORDER_CLICK_MODIFY_STATE",(function(){return PAY_ORDER_CLICK_MODIFY_STATE})),__webpack_require__.d(__webpack_exports__,"PAY_CONSTRUCT_MODIFY_STATE",(function(){return PAY_CONSTRUCT_MODIFY_STATE})),__webpack_require__.d(__webpack_exports__,"PAY_ADD_AFTER_INVOICE_DATA_FILTER",(function(){return PAY_ADD_AFTER_INVOICE_DATA_FILTER}));var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50),_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(314),_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(17),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__),_wordpress_element__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),_wordpress_element__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__),react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),react_redux__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(22),redux__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(20),react_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(43),react_dom__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_13__),react_html_parser__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(55),react_html_parser__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_html_parser__WEBPACK_IMPORTED_MODULE_14__),_scss_pay_scss__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(789),_scss_pay_scss__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_scss_pay_scss__WEBPACK_IMPORTED_MODULE_15__),_actions_orders__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(36),_actions_coupon__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(26),_actions_cart__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(8),_actions_discount__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(30),_translation__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(3),_actions_currentcart__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(37),_actions_hold__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(38),util__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(66),util__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_23__),_actions_login__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(248),_actions_tax__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(60),_actions_invoice__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(79),_actions_customers__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(57),react_router_dom__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(23),_config__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(7),_hash__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(12),_database__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(4),_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6),_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(2),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__),_currency_format__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(29),locutus_php_strings__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(790),locutus_php_strings__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(locutus_php_strings__WEBPACK_IMPORTED_MODULE_35__);function _createSuper(_){var e=_isNativeReflectConstruct();return function(){var t,a=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(_);if(e){var r=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this,t)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(_){return!1}}var ADD_CUSTOM_ORDER_DATA_BELOW_DATE="wkwcpos_add_custom_order_data_below_date",ADD_CUSTOM_HTML_BELOW_KEYBOARD="wkwc_add_custom_html_below_keyboard",CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER="wkwc_change_current_state_data_before_create_order",ADD_DATA_AFTER_TAX_IN_RECEIPT="wkwc_add_data_after_tax_in_receipt",ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM="wkwc_add_data_after_tax_in_receipt_custom",ADD_DATA_AFTER_BALANCE_IN_RECEIPT="wkwc_add_data_after_balance_in_receipt",CHANGE_STATE_VALUE_IN_PAY_PAGE="wkwc_change_state_value_in_pay_page",ADD_DATA_AFTER_PAYMENT_HEADING_IN_PAY_FILTER="wkwcpos_add_data_after_payment_heading_in_pay_page",ADD_DATA_IN_SELECT_CUSTOMER_IN_PAY_FILTER="wkwcpos_add_data_in_select_customer_in_pay_page",ADD_AFTER_TOTAL_HTML_IN_PAY_FILTER="wkwcpos_add_data_after_total_html_in_pay_page",AFTER_CREATING_ORDER_ACTION="wkwcpos_action_after_creating_order",REMOVE_COMPLETE_PAYMENT_RESTRICTION="wkpos_remove_complete_payment_restriction",REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION="wkpos_remove_complete_payment_restriction_function",PERFORM_ACTION_AFTER_INVOICE_PRINT="wkwcpos_perform_action_after_invoice_print",UPDATE_POS_ORDER_SUB_TOTAL="wkwcpos_change_pos_sub_total",wkwcpos_change_pos_total="wkwcpos_change_pos_total",WANT_TO_PRINT_RECIEPT="wkwcpos_want_to_print_reciept",CHANGE_LISTING_OF_PRODUCTS="wkwcpos_change_listing_of_products",CHANGE_STATE_VALUE_ON_BUTTON_PRESSED="wkwcpos_change_state_value_on_button_pressed",PAYMENT_METHODS_TABS_FILTER="wkwcpos_payment_method_tabs_filter",PAY_BY_CASH_HTML_STATUS_FILTER="wkwcpos_pay_by_cash_html_status_filter",PAY_BY_CARD_HTML_STATUS_FILTER="wkwcpos_pay_by_card_html_status_filter",PAY_TENDERED_HTML_STATUS_FILTER="wkwcpos_pay_tendered_html_status_filter",PAY_CHANGE_HTML_STATUS_FILTER="wkwcpos_pay_change_html_status_filter",PAY_ORDER_CLICK_MODIFY_STATE="wkwcpos_pay_order_click_state_filter",PAY_CONSTRUCT_MODIFY_STATE="wkwcpos_pay_construct_state_filter",PAY_ADD_AFTER_INVOICE_DATA_FILTER="wkwcpos_pay_modify_invoice_data",Pay=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(Pay,_Component);var _super=_createSuper(Pay);function Pay(_){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,Pay),(e=_super.call(this,_)).state={discount:_.discount,currentEntry:"0",cardEntry:"0",cashEntry:"0",tendered:"",change:"",cart_total:"",disabled:!0},e.handleButtonClick=e.handleButtonClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.handleOrderClick=e.handleOrderClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.handleSplitPayment=e.handleSplitPayment.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.GetHtml=e.GetHtml.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.getInvoice=e.getInvoice.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.setupInvoiceSize=e.setupInvoiceSize.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.openPrintWindow=e.openPrintWindow.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e.syncOfflineOrders=e.syncOfflineOrders.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(e)),e}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Pay,[{key:"getInvoice",value:function getInvoice(){var order=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",logo_invoice="${logo_invoice}",outlet_name="${outlet_name}",order_id="${order_id}",order_date="${order_date}",customer_fname="${customer_fname}",customer_lname="${customer_lname}",customer_phone="${customer_phone}",outlet_address="${outlet_address}",outlet_city="${outlet_city}",outlet_state="${outlet_state}",outlet_country="${outlet_country}",outlet_postcode="${outlet_postcode}",pos_user_phone="${pos_user_phone}",pos_user_email="${pos_user_email}",pro_name="${pro_name}",pro_quantity="${pro_quantity}",pro_unit_price="${pro_unit_price}",pro_total="${pro_total}",sub_total="${sub_total}",tax_title="${tax_title}",order_tax="${order_tax}",coupon_name="${coupon_name}",coupon_amount="${coupon_amount}",order_discount="${order_discount}",order_total="${order_total}",cashpay_amount="${cashpay_amount}",other_payment_text="${other_payment_text}",otherpay_amount="${otherpay_amount}",order_change="${order_change}",cashier_name="${cashier_name}";if(logo_invoice=apif_script.logged_in.logo_invoice,apif_script.logged_in.outlet_data){var outlet=apif_script.logged_in.outlet_data;outlet_name=outlet.outlet_name,outlet_address=outlet.outlet_address,outlet_city=outlet.outlet_city,outlet_state=outlet.outlet_state,outlet_country=outlet.outlet_country,outlet_postcode=outlet.outlet_postcode}if(apif_script.logged_in.pos_user_phone&&(pos_user_phone=apif_script.logged_in.pos_user_phone),order)if("online"==order.order_type){order_id="#"+order.order_id,order_date=order.order_date,customer_fname=order.billing.fname,customer_lname=order.billing.lname,customer_phone=order.billing.phone,sub_total=order.cart_subtotal,order_discount=order.discount,order_total=order.order_html,cashpay_amount=order.cashPay>0?order.cashPay_html:"N/A",otherpay_amount=order.cardPay>0?order.cardPay_html:"N/A",other_payment_text=order.cardPay>0?order.payment_title:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Other Payments","wc_pos"),order_change=order.balance,pro_name="",pro_unit_price="",pro_quantity="",pro_total="";var tbl_data="";order.products.forEach((function(_,e){tbl_data+='<tr>\n                        <td class="wkwcpos-invoice-editable">'.concat(_.product_name),_.product_meta_data&&(tbl_data+="<br><p>".concat(Object.keys(_.product_meta_data))+"-"+"".concat(Object.values(_.product_meta_data),"</p>")),tbl_data+='</td >\n                        <td class="wkwcpos-invoice-editable">'.concat(_.product_unit_price,'</td>\n                        <td class="wkwcpos-invoice-editable">').concat(_.qty,'</td>\n                        <td class="wkwcpos-invoice-editable">').concat(_.product_total_price,"</td>\n                    </tr>")})),order.products.forEach((function(_,e){_.uf<_.special&&productInlineDiscount.push({slug:_.slug,discount:(_.special-_.uf)*_.quantity}),pro_name+="<p>".concat(_.product_name,"</p>"),pro_unit_price+="<p>".concat(_.product_unit_price,"</p>"),pro_quantity+="<p>".concat(_.qty,"</p>"),pro_total+="<p>".concat(_.product_total_price,"</p>"),_.product_meta_data&&(pro_name+="<p>".concat(Object.keys(_.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />"),_.product_meta_data&&(pro_name+="<p>".concat(Object.values(_.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />")}));var order_tax_lines=order.tax_lines;tax_title="",order_tax="",order_tax_lines.length>0&&order_tax_lines.forEach((function(_){tax_title+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Tax","wc_pos"),"(").concat(_.title,")</p>"),order_tax+="<p>".concat(_.total,"</p>")}));var customAfterTax=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM,"",order);customAfterTax&&(order.coupons=customAfterTax);var coupons=order.coupons;coupon_name="",coupon_amount="",Object.keys(coupons).forEach((function(_){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos"),"(").concat(_,")</p>"),coupons[_]&&(coupon_amount+="<p>".concat(coupons[_],"</p>"))}))}else if("offline"==order.order_type){order_id=order.order_id;var currency=order.currency,currency_code=currency.symbol,date=new Date(order.order_date).toDateString();date=date.split(" ").slice(0,4).join(" "),order_date=date,customer_fname=order.billing.first_name,customer_lname=order.billing.last_name,customer_phone=order.billing.phone,sub_total=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(order.cart_subtotal,currency_code);var discount=order.discount;if(Object.keys(discount).length>0)if("fixed"==discount.type)var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(-parseFloat(discount.amount),currency_code);else var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(-parseFloat(discount.amount*order.cart_subtotal/100),currency_code);else var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(0),currency_code);order_discount=totaldiscount,order_total=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(order.order_html),currency_code),cashpay_amount=order.cashPay>0?Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(order.cashPay),currency_code):"N/A",otherpay_amount=order.cardPay>0?Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(order.cardPay),currency_code):"N/A",other_payment_text=order.cardPay>0?order.payment_title:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Other Payments","wc_pos");var balance=order.tendered-order.order_html;order_change=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(balance),currency_code),pro_name="",pro_unit_price="",pro_quantity="",pro_total="";var _productInlineDiscount=[];order.products.forEach((function(_,e){_.uf<_.special&&_productInlineDiscount.push({slug:_.slug,discount:(_.special-_.uf)*_.quantity}),pro_name+="<p>".concat(_.name,"</p>"),pro_unit_price+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.uf,currency_code),"</p>"),pro_quantity+="<p>".concat(_.quantity,"</p>"),pro_total+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.uf_total,currency_code),"</p>"),_.product_meta_data&&(pro_name+="<p>".concat(Object.keys(_.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />"),_.product_meta_data&&(pro_name+="<p>".concat(Object.values(_.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />")}));var _order_tax_lines=order.tax_lines;null==_order_tax_lines.length&&(Object.keys(_order_tax_lines).map((function(_){return _order_tax_lines[_].id=Number(_),[_order_tax_lines[_]]})),_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_2___default()("order_tax_lines"),_order_tax_lines[0],_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_2___default()("order_tax_lines")),tax_title="",order_tax="",_order_tax_lines.length>0&&_order_tax_lines.forEach((function(_){tax_title+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Tax","wc_pos"),"(").concat(_.label,")</p>"),order_tax+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(_.rate*order.cart_subtotal/100),currency_code),"</p>")})),coupon_name="",coupon_amount="",order.coupons&&order.coupons.length>0&&order.coupons.forEach((function(_){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos"),"(").concat(_.code,")</p>"),coupon_amount+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.price,currency_code),"</p>")})),_productInlineDiscount&&_productInlineDiscount.length>0&&_productInlineDiscount.forEach((function(_){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos"),"(").concat(_.slug,")</p>"),coupon_amount+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.discount,currency_code),"</p>")}))}apif_script.logged_in.pos_user&&(pos_user_email=apif_script.logged_in.pos_user.data.user_email,cashier_name=apif_script.logged_in.pos_user.data.display_name);var invoiceData="";return invoiceData=this.props.invoice&&"0"!=this.props.invoice?this.props.invoice:'\n                <style>\n                    .wkwcpos-invoice-wrapper {\n                        padding: 10px;\n                        background-color: #fff;\n                        border-radius: 2px;\n                        grid-area: second;\n                    }\n                    .wkwcpos-invoice-wrapper * {\n                        padding: 0;\n                        margin: 0;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-header, .wkwcpos-invoice-wrapper .invoice-footer .footer-details {\n                        text-align: center;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-header img {\n                        width: 50px;\n                        margin: 10px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details {\n                        width: 100%;\n                        display: inline-block;\n                    }\n                    .wkwcpos-invoice-wrapper .order-details, .wkwcpos-invoice-wrapper .outlet-details {\n                        width: 50%;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details .order-details {\n                        float: left;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details .outlet-details {\n                        float: right;\n                        text-align: right;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details {\n                        margin: 15px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table {\n                        border-collapse: collapse;\n                        width: 100%;\n                        text-align: center;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table th, .wkwcpos-invoice-wrapper .product-details table td {\n                        padding: 3px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table th, .wkwcpos-invoice-wrapper .product-details table td p {\n                        padding: 3px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table thead, .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(1) {\n                        border-style: dashed;\n                        border-width: 3px 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(3) {\n                        border-style: dashed;\n                        border-width: 0 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(2) tr:last-child td:nth-last-of-type(1), .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(2) tr:last-child td:nth-last-of-type(2) {\n                        border-style: dashed;\n                        border-width: 0 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper hr {\n                        width: 35%;\n                        margin: 10px auto 7px;\n                        border-style: dashed;\n                        border-width: 3px 0;\n                        border-top-color: #ddd;\n                        border-bottom-color: #fafafa;\n                    }\n                </style>\n\n                <div class="wkwcpos-invoice-wrapper">\n\n                    <div class="invoice-header wkwcpos-invoice-editable">\n                        <p class="wkwcpos-invoice-editable">Tax Invoice/Bill of Supply</p>\n                        <img src="'.concat(logo_invoice,'" class="wkwcpos-invoice-editable" />\n                        <h3 class="wkwcpos-invoice-editable">').concat(outlet_name,'</h3>\n                    </div>\n\n                    <div class="invoice-details">\n                        <div class="order-details">\n                            <p class="wkwcpos-invoice-editable">Order - ').concat(order_id,'</p>\n                            <p class="wkwcpos-invoice-editable">Date : ').concat(order_date,'</p>\n                            <p class="wkwcpos-invoice-editable">Customer : ').concat(customer_fname," ").concat(customer_lname,'</p>\n                        </div>\n                        <div class="outlet-details">\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_address,'</p>\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_city," ").concat(outlet_state,'</p>\n                            <p class="wkwcpos-invoice-editable">Tel No: ').concat(customer_phone,'</p>\n                        </div>\n                    </div>\n\n                    <div class="product-details">\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th class="wkwcpos-invoice-editable">Product Name</th>\n                                    <th class="wkwcpos-invoice-editable">Unit Price</th>\n                                    <th class="wkwcpos-invoice-editable">Quantity</th>\n                                    <th class="wkwcpos-invoice-editable">Total Price</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                               ').concat(tbl_data,'\n                            </tbody>\n                            <tbody>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">SubTotal</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(sub_total,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(tax_title,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_tax,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Discount</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_discount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(coupon_name,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(coupon_amount,'</td>\n                                </tr>\n                            </tbody>\n                            <tbody>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Total</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_total,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Cash Payment</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(cashpay_amount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(other_payment_text,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(otherpay_amount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Change</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_change,'</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div class="invoice-footer">\n                        <p class="wkwcpos-invoice-editable">Cashier: ').concat(cashier_name,'</p>\n                        <div class="footer-details">\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_name,'</p>\n                            <p class="wkwcpos-invoice-editable">Tel No: ').concat(pos_user_phone,'</p>\n                            <p class="wkwcpos-invoice-editable">Email: ').concat(pos_user_email,'</p>\n                            <hr class="wkwcpos-invoice-editable" />\n                            <p class="wkwcpos-invoice-editable">Have a nice day</p>\n                        </div>\n                    </div>\n                </div>'),invoiceData=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_ADD_AFTER_INVOICE_DATA_FILTER,invoiceData,order),invoiceData=eval("`"+invoiceData+"`"),react_html_parser__WEBPACK_IMPORTED_MODULE_14___default()(invoiceData)}},{key:"componentDidMount",value:function(){var _=this.props.dispatch;_(Object(_actions_currentcart__WEBPACK_IMPORTED_MODULE_21__.a)()),_(Object(_actions_login__WEBPACK_IMPORTED_MODULE_24__.a)()),_(Object(_actions_tax__WEBPACK_IMPORTED_MODULE_25__.a)()),_(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),_(Object(_actions_hold__WEBPACK_IMPORTED_MODULE_22__.c)()),_(Object(_actions_hold__WEBPACK_IMPORTED_MODULE_22__.c)()),_(Object(_actions_customers__WEBPACK_IMPORTED_MODULE_27__.c)()),_(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)()),_(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),_(Object(_actions_invoice__WEBPACK_IMPORTED_MODULE_26__.a)())}},{key:"syncOfflineOrders",value:function(_){var e={orders:JSON.stringify(_)};return new Promise((function(_,t){document.querySelector("#loading-text").innerHTML=_translation__WEBPACK_IMPORTED_MODULE_20__.a.sync_process_text,document.querySelector("#loader").style.display="block",Object(_hash__WEBPACK_IMPORTED_MODULE_30__.POSPostRequest)(_config__WEBPACK_IMPORTED_MODULE_29__.a.WK_CREATE_OFFLINE_ORDER_ENDPOINT,e).then((function(e){if(document.querySelector("#loader").style.display="none",e.length>0){Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.doAction)(AFTER_CREATING_ORDER_ACTION,e,_database__WEBPACK_IMPORTED_MODULE_31__.a);var t=e.map((function(_){return _.fake_id})),a=e.map((function(_){return delete _.fake_id,_}));_database__WEBPACK_IMPORTED_MODULE_31__.a.pos_orders.bulkDelete(t).then((function(t){_database__WEBPACK_IMPORTED_MODULE_31__.a.pos_orders.bulkPut(a).then((function(t){_(e)}))}))}}))}))}},{key:"handleSplitPayment",value:function(_){var e=jQuery(_.target).data("target");this.state;!e||"#scard"!=e&&"#scash"!=e||(jQuery(_.target).closest(".split-button").find("button").removeClass("pay-active"),jQuery(_.target).addClass("pay-active"),"#scard"==e?(this.setState({payment_mode:"card"}),jQuery(".card").removeClass("pay"),jQuery(".cash").addClass("pay")):(this.setState({payment_mode:"cash"}),jQuery(".cash").removeClass("pay"),jQuery(".card").addClass("pay")))}},{key:"handleOrderClick",value:function(_){var e=this,t=this.props.dispatch,a=this.props.orders.list.filter((function(_){if("offline"===_.order_type)return _})),r=this.props.history,n=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_ORDER_CLICK_MODIFY_STATE,this.state,this.props),o=parseFloat(this.state.tendered),c=parseFloat(parseFloat(n.cart_total).toFixed(2)),s=parseFloat(n.cardEntry)+parseFloat(n.cashEntry);s=s.toFixed(2);var E=document.getElementsByClassName("orderNote")[0].value;jQuery(_.target).closest(".invoice-generate").find(".orderNote").val(""),n.note=E;var l=n.payment_mode;"card"!=l&&"cash"!=l&&"split"!=l||("cash"==l?(c>=0&&o>=s||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION,!1))&&this.setState({current_state:n},(function(){var _=e;t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.a)(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER,n))).then((function(e){if("skip"!=e.message){t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)());var n=_.getInvoice(e),o=_.setupInvoiceSize();if(react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.unmountComponentAtNode(document.getElementById("invoice-body")),react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.render(n,document.getElementById("invoice-body")),_.openPrintWindow(jQuery("#invoice-print").html(),o,e),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}else if("skip"==e.message){var c;if(t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)()),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}}))})):"split"==l?(c>=0&&o>=s||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION,!1))&&(n.payment_mode=jQuery("#payment-method").val(),this.setState({current_state:n},(function(){var _=e;t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.a)(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER,n))).then((function(e){if("skip"!=e.message){t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)());var n=_.getInvoice(e),o=_.setupInvoiceSize();if(react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.unmountComponentAtNode(document.getElementById("invoice-body")),react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.render(n,document.getElementById("invoice-body")),_.openPrintWindow(jQuery("#invoice-print").html(),o,e),jQuery(".split-button").find("button").removeClass("pay-active"),jQuery("#defaultpay").addClass("pay-active"),jQuery(".cash").removeClass("pay"),jQuery(".card").addClass("pay"),jQuery(".pos-tab").find("button").removeClass("active"),jQuery("#defaultOpen").addClass("active"),jQuery(".tab-content-container .tabcontent").removeClass("pos-active"),jQuery(".tab-content-container .tabcontent#cash").addClass("pos-active"),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}else if("skip"==e.message){var c;if(t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)()),jQuery(".split-button").find("button").removeClass("pay-active"),jQuery("#defaultpay").addClass("pay-active"),jQuery(".cash").removeClass("pay"),jQuery(".card").addClass("pay"),jQuery(".pos-tab").find("button").removeClass("active"),jQuery("#defaultOpen").addClass("active"),jQuery(".tab-content-container .tabcontent").removeClass("pos-active"),jQuery(".tab-content-container .tabcontent#cash").addClass("pos-active"),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}}))}))):"card"==l&&(c>=0&&o<=s||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION_FUNCTION,!1)?(n.payment_mode=jQuery("#payment-method").val(),this.setState({current_state:n},(function(){var _=e;t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.a)(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_CURRENT_STATE_DATA_BEFORE_CREATE_ORDER,n))).then((function(e){if("skip"!=e.message){t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)());var n=_.getInvoice(e),o=_.setupInvoiceSize();if(react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.unmountComponentAtNode(document.getElementById("invoice-body")),react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.render(n,document.getElementById("invoice-body")),_.openPrintWindow(jQuery("#invoice-print").html(),o,e),jQuery(".pos-tab").find("button").removeClass("active"),jQuery("#defaultOpen").addClass("active"),jQuery(".tab-content-container .tabcontent").removeClass("pos-active"),jQuery(".tab-content-container .tabcontent#cash").addClass("pos-active"),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}else if("skip"==e.message){var c;if(t(Object(_actions_cart__WEBPACK_IMPORTED_MODULE_18__.i)()),t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)()),t(Object(_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d)()),t(Object(_actions_discount__WEBPACK_IMPORTED_MODULE_19__.b)()),jQuery(".pos-tab").find("button").removeClass("active"),jQuery("#defaultOpen").addClass("active"),jQuery(".tab-content-container .tabcontent").removeClass("pos-active"),jQuery(".tab-content-container .tabcontent#cash").addClass("pos-active"),navigator.onLine&&"enable"==apif_script.auto_sync&&a.length>0)(c=a).length>0&&_.syncOfflineOrders(c).then((function(_){_&&t(Object(_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b)())}));r.push({pathname:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"})}}))}))):jQuery.alert(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Please enter tendered amount same as total amount.","wc_pos"))))}},{key:"openPrintWindow",value:function(_,e,t){if(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.doAction)(PERFORM_ACTION_AFTER_INVOICE_PRINT,t),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(WANT_TO_PRINT_RECIEPT,!0,t))if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var a=window.open("","PRINT","height=400,width=600");a.document.write("<html><head><title></title>"+e),a.document.write("</head><body>"),a.document.write(_),a.document.write("</body></html>"),a.document.close(),a.focus(),a.addEventListener("load",(function(){setTimeout((function(){a.print()}),500)}),!0)}else{var r=document.createElement("iframe");r.name="frame1",document.body.appendChild(r);var n=r.contentWindow?r.contentWindow:r.contentDocument.document?r.contentDocument.document:r.contentDocument;n.document.open(),n.document.write("<html><head><title></title>"+e),n.document.write("</head><body>"),n.document.write(_),n.document.write("</body></html>"),n.document.close(),setTimeout((function(){window.frames.frame1.focus(),window.frames.frame1.print(),document.body.removeChild(r)}),100)}return!0}},{key:"setupInvoiceSize",value:function(){var _=this.props.printers.default,e=[];if(_){switch(_){case"a3":e.push(" @page { size: A3;margin: 20mm;} ");var t='<style type="text/css">'+e.join("\n")+"</style>";break;case"a4":e.push(" @page { size: A4;margin: 20mm; } ");t='<style type="text/css">'+e.join("\n")+"</style>";break;case"a5":e.push(" @page { size: A5; margin: 10mm;} ");t='<style type="text/css">'+e.join("\n")+"</style>";break;case"a6":e.push(" @page { size: A6; margin: 10mm;} ");t='<style type="text/css">'+e.join("\n")+"</style>";break;case"T88V":e.push(" @page {size: 58mm 120mm; }  ");t='<style type="text/css">.invoice-head, .invoice-body, .invoice-footer{ width:90mm;}'+e.join("\n")+"</style>";jQuery(".invoice-head, .invoice-body, .invoice-footer").css("font-size","12px;");break;default:e.push(" @page { size: A4;margin: 20mm; } ");t='<style type="text/css">'+e.join("\n")+"</style>"}return t}}},{key:"GetHtml",value:function(_){var e=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_CUSTOM_ORDER_DATA_BELOW_DATE,"",_),t=_translation__WEBPACK_IMPORTED_MODULE_20__.a.tax_text,a=_translation__WEBPACK_IMPORTED_MODULE_20__.a.order_text,r=_translation__WEBPACK_IMPORTED_MODULE_20__.a.date,n=_translation__WEBPACK_IMPORTED_MODULE_20__.a.subtotal_text,o=_translation__WEBPACK_IMPORTED_MODULE_20__.a.total_text,c=_translation__WEBPACK_IMPORTED_MODULE_20__.a.discount_text,s=_translation__WEBPACK_IMPORTED_MODULE_20__.a.balance_text,E=_translation__WEBPACK_IMPORTED_MODULE_20__.a.customer_text,l=_translation__WEBPACK_IMPORTED_MODULE_20__.a.cash_text,i=_.payment_title;if("offline"==_.order_type){var d=_.currency.symbol,p=this.props.customers,O=void 0!==p.list?Array.from(p.list):[],u=_.email,m=O.filter((function(_){return _.id==u}));m=m[0];var D=_.tax_lines,P=Array.from(_.products),M=new Date(_.order_date).toDateString();if(M=M.split(" ").slice(0,4).join(" "),null==D.length&&(D=(D=Object.keys(D).map((function(_){return D[_].id=Number(_),[D[_]]})))[0]),D.length>0)var b=D.map((function(e){_.tendered,_.order_html;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{key:e.id},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},t,"(",e.label,")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(e.rate*_.cart_subtotal/100),d))))}));else b="";var T=[],A=P.map((function(_,e){var t=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.uf_total,d);return _.uf<_.special&&T.push({slug:_.slug,discount:(_.special-_.uf)*_.quantity}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{className:"border_bottom",key:e},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-name"},_.name,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"order-product-meta-heading"},_.product_meta_data?Object.keys(_.product_meta_data):""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"order-product-meta"}," ",_.product_meta_data?Object.values(_.product_meta_data):"")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-quantity"},_.quantity),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-unit-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.product_unit_price}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-total-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:t}})))})),C=_.tendered-_.order_html,R=_.discount,I=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.cart_subtotal,d);C=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(C),d);if(Object.keys(R).length>0)if("fixed"==R.type)var w=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(R.amount),d);else w=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(R.amount*_.cart_subtotal/100),d);else w=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(0),d);var y=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(_.order_html),d),L=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(_.cashPay),d),h=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(_.cardPay),d),B="";_.coupons&&_.coupons.length>0&&(B=_.coupons.map((function(_){var e=_.price;return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos")+"("+_.code+")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(e,d))))})));var U="";T&&T.length>0&&(U=T.map((function(_){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos")+"("+_.slug+")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(_.discount,d))))})));var W=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_TAX_IN_RECEIPT,"",_),k=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_BALANCE_IN_RECEIPT,"",_);return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-short"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-sect"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",null,a," - ",_.order_id),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"date"},r,": ",M)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-sumarry-customer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"customer-name"},E),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"customer-name"},_.billing.first_name," ",_.billing.last_name),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"custom-data"},e))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-sale-summary"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"sale-summary-products"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("table",{className:"order-product-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("thead",{className:"border_bottom"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-name"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.product_name_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-quantity"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.quantity_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-unit-price"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.unit_price_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-total-price"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.total_price_text))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tbody",null,A,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},n),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{dangerouslySetInnerHTML:{__html:I}})),b,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},c),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,w))),B,U,W))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"sale-summary-calculate-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("ul",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,o," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:y}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,_.cashPay>0?l:""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null," ",_.cashPay>0?L:"")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,_.cardPay>0?i:""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,_.cardPay>0?h:""))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("ul",{className:"order-balance"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,s," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:C}}))),k)))}if("online"==_.order_type){var K=_.coupons,f=(D=_.tax_lines,Array.from(_.products)),j="",v="";if(_.cashPay>0&&(j=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,l),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.cashPay_html}}))),_.cardPay>0&&(v=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,i),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.cardPay_html}}))),D.length>0)b=D.map((function(_){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{key:_.id},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Tax","wc_pos"),"(",_.title,")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{dangerouslySetInnerHTML:{__html:_.total}}))}));else b="";if(K){var N=[];jQuery.each(K,(function(_,e){N.push(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{key:_},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Coupon","wc_pos"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,"(",_,")")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"coupon-amt"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:e}}))))}))}else N="";W=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_TAX_IN_RECEIPT,"",_);var g=f.map((function(_,e){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{className:"border_bottom",key:e},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-name"},_.product_name,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"order-product-meta-heading"},_.product_meta_data?Object.keys(_.product_meta_data):""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"order-product-meta"}," ",_.product_meta_data?Object.values(_.product_meta_data):"")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-quantity"},_.qty),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-unit-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.product_unit_price}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"product-total-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.product_total_price}})))}));g=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_LISTING_OF_PRODUCTS,g,f);k=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_BALANCE_IN_RECEIPT,"",_);return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-short"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-sect"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",null,a," - #",_.order_id),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"date"},r,": ",_.order_date)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-sumarry-customer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"customer-name"},E),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"customer-name"},_.billing.fname," ",_.billing.lname),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"custom-data"},e))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-sale-summary"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"sale-summary-products"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("table",{className:"order-product-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("thead",{className:"border_bottom"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-name"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.product_name_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-quantity"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.quantity_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-unit-price"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.unit_price_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",{className:"product-total-price"},_translation__WEBPACK_IMPORTED_MODULE_20__.a.total_price_text))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tbody",null,g,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},n),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{dangerouslySetInnerHTML:Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(UPDATE_POS_ORDER_SUB_TOTAL,{__html:_.cart_subtotal},_)})),b,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{className:"sub-total"},c),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{dangerouslySetInnerHTML:{__html:_.discount}})),N,W))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"sale-summary-calculate-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("ul",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,o," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(wkwcpos_change_pos_total,{__html:_.order_html},_)})),j,v),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("ul",{className:"order-balance"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,s," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{dangerouslySetInnerHTML:{__html:_.balance}}))),k)))}}},{key:"componentWillReceiveProps",value:function(_){var e=_.cart.total,t=_.discount;if(null!=_.currency[0])var a=_.currency[0].symbol;else a="$";var r=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(e.cart_total),a);this.setState({discount:t,currentEntry:"0",cardEntry:"0",cashEntry:"0",tendered:parseFloat(0).toFixed(2),change:parseFloat(0).toFixed(2),cart_total:e.cart_total,cart_total_html:r,payment_mode:"cash",note:"",disabled:!0})}},{key:"handleButtonClick",value:function(_){this.state=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_STATE_VALUE_IN_PAY_PAGE,this.state,this.props);var e=this.state.currentEntry,t=this.state.cashEntry,a=this.state.cardEntry,r=jQuery(_.target).data("key"),n=jQuery(_.target).data("target"),o=jQuery(_.target).data("put");if(o&&(a>0||t>0)){var c=parseFloat(t)+parseFloat(a);if(parseFloat(this.state.cart_total)<parseFloat(c)){var s=parseFloat(c)-parseFloat(this.state.cart_total);s=s.toFixed(2),this.state.change=s}}if("cash-amount"==n){if(""!=r||null!=r)if("C"===r)t="0",Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_STATE_VALUE_ON_BUTTON_PRESSED,this.state,this.props,r);else if("b"===r)t=t.length>1?t.slice(0,-1):"0";else if("."===r)-1==t.indexOf(".")&&t.length<8&&(t+=r);else if(!isNaN(r))if("0"===t.toString())t=r.toString();else{if(!(t.length<8&&(t.indexOf(".")>0||parseFloat(t)>=0)))return void jQuery.confirm({title:_translation__WEBPACK_IMPORTED_MODULE_20__.a.err_text,content:_translation__WEBPACK_IMPORTED_MODULE_20__.a.invalid_paid_amt,autoClose:"cancelAction|3000",type:"red",escapeKey:"cancelAction",buttons:{cancelAction:{text:_translation__WEBPACK_IMPORTED_MODULE_20__.a.cancel_btn_text,btnClass:"pos-btn-primary"}}});o?t=parseFloat(t)+parseFloat(r):t+=r}}else if(""!=r||null!=r)if("C"===r)a="0",Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_STATE_VALUE_ON_BUTTON_PRESSED,this.state,this.props,r);else if("b"===r)a=a.length>1?a.slice(0,-1):"0";else if("."===r)-1==a.indexOf(".")&&a.length<8&&!(a.indexOf(".")>0&&a.length-a.indexOf(".")>2)&&(o?a=parseFloat(a)+parseFloat(r):a+=r);else if(!isNaN(r))if("0"===a.toString())a=r.toString();else{if(!(a.length<8))return void jQuery.confirm({title:_translation__WEBPACK_IMPORTED_MODULE_20__.a.err_text,content:_translation__WEBPACK_IMPORTED_MODULE_20__.a.invalid_paid_amt,autoClose:"cancelAction|3000",type:"red",escapeKey:"cancelAction",buttons:{cancelAction:{text:_translation__WEBPACK_IMPORTED_MODULE_20__.a.cancel_btn_text,btnClass:"pos-btn-primary"}}});o?a=parseFloat(a)+parseFloat(r):a+=r}e={cash:t,card:a},this.updateScreen(e)}},{key:"updateScreen",value:function(_){this.state=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_STATE_VALUE_IN_PAY_PAGE,this.state,this.props);var e=this.state.cart_total;if(this.props.cart.list[0].cart.length>0){var t="",a=this.state.change,r=this.state.payment_mode,n=!0,o=this.state.note,c=this.state.discount,s=this.state.cart_total_html;if(Object(util__WEBPACK_IMPORTED_MODULE_23__.isObject)(_)){var E=_.cash.toString(),l=_.card.toString(),i=parseFloat(E).toFixed(2),d=parseFloat(l).toFixed(2);_=parseFloat(i)+parseFloat(d);(p=parseFloat(parseFloat(parseFloat(e).toFixed(2))-parseFloat(parseFloat(_).toFixed(2))).toFixed(2))>0&&(a=Math.abs(0).toFixed(2)),p<=0&&_>=0||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION,!1,p,_)?(n=!1,p<0||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION,!1,p,_)?(jQuery(".invoice-generate button").addClass("process-invoice"),a=Math.abs(p).toFixed(2),n=!1):0==p&&parseFloat(_).toFixed(2)>=0&&(a=Math.abs(p).toFixed(2),jQuery(".invoice-generate button").addClass("process-invoice"),n=!1)):(n=!0,jQuery(".invoice-generate button").removeClass("process-invoice")),t=parseFloat(_).toFixed(2),0==_&&(a=parseFloat(_).toFixed(2)),this.setState({discount:c,currentEntry:_,tendered:t,change:a,cart_total:e,cardEntry:l,cashEntry:E,cart_total_html:s,payment_mode:r,note:o,disabled:n})}else{var p;_=_.toString();(p=parseFloat(parseFloat(parseFloat(e).toFixed(2))-parseFloat(parseFloat(_.substring(0,10)).toFixed(2))).toFixed(2))<=0&&_>=0||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION,!1,p,_)?(n=!1,p<0||Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(REMOVE_COMPLETE_PAYMENT_RESTRICTION,!1,p,_)?(jQuery(".invoice-generate button").addClass("process-invoice"),a=Math.abs(p).toFixed(2),n=!1):0==p&&parseFloat(_.substring(0,10)).toFixed(2)>=0&&(jQuery(".invoice-generate button").addClass("process-invoice"),n=!1)):(n=!0,jQuery(".invoice-generate button").removeClass("process-invoice")),t=parseFloat(_.substring(0,10)).toFixed(2),0==_&&(a=parseFloat(_.substring(0,10)).toFixed(2)),this.setState({discount:c,currentEntry:_,tendered:t,change:a,cart_total:e,cardEntry:"0",cashEntry:"0",cart_total_html:s,payment_mode:r,note:o,disabled:n})}}else jQuery.alert("Please add products to the cart first!")}},{key:"render",value:function(){var _,e=this.state,t=this.props.customers,a="Select Customer",r=Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("No customer selected","wc_pos"),n="http://www.gravatar.com/avatar/?d=identicon",o=0,c=0;this.state=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(CHANGE_STATE_VALUE_IN_PAY_PAGE,this.state,this.props);var s=t.default.length>0?t.default[0]:"";s&&(a=s.username,n=s.avatar_url,r=s.email);var E=Array.from(this.props.currency).map((function(_){return _.symbol}));e.cart_total&&(o=Math.ceil(e.cart_total)==e.cart_total?5*Math.ceil(e.cart_total/5):Math.ceil(e.cart_total),c=5*Math.ceil(e.cart_total/5)==o?o+apif_script.logged_in.difference:5*Math.ceil(e.cart_total/5));var l=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(e.cashEntry),E),i=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(e.cardEntry),E),d=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(e.tendered,E),p=e.change;p=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)("wkpos_calculate_change",p,e,this.props),E);var O=e.cart_total?Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)("wkpos_changes_in_totals",e.cart_total,this.props)),E):Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(0,E),u=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(o),E),m=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(c),E),D=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(c+apif_script.logged_in.difference),E);E=E[0];var P,M=_translation__WEBPACK_IMPORTED_MODULE_20__.a.payment_text,b=_translation__WEBPACK_IMPORTED_MODULE_20__.a.cash_payment_title,T=_translation__WEBPACK_IMPORTED_MODULE_20__.a.other_payment_title,A=_translation__WEBPACK_IMPORTED_MODULE_20__.a.total_text,C=_translation__WEBPACK_IMPORTED_MODULE_20__.a.tendered,R=_translation__WEBPACK_IMPORTED_MODULE_20__.a.clear,I=_translation__WEBPACK_IMPORTED_MODULE_20__.a.change,w=_translation__WEBPACK_IMPORTED_MODULE_20__.a.generate_invoice,y=_translation__WEBPACK_IMPORTED_MODULE_20__.a.confirm_payment,L=_translation__WEBPACK_IMPORTED_MODULE_20__.a.order_note_text,h=_translation__WEBPACK_IMPORTED_MODULE_20__.a.pay_by_cash_text,B=_translation__WEBPACK_IMPORTED_MODULE_20__.a.pay_by_card_text,U="",W=this.props.cart.list,k=this.props.current_cart,K="",f=_translation__WEBPACK_IMPORTED_MODULE_20__.a.unit_text;if(P=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"split-button"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"splitCashPayment",type:"button",className:"splitCashPayment pay-active","data-target":"#scash",id:"defaultpay",onClick:this.handleSplitPayment},b),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"splitCardPayment",type:"button",className:"splitCardPayment","data-target":"#scard",onClick:this.handleSplitPayment},T)),"#scard"==jQuery(".pay-active").data("target")){var j=[],v=apif_script.logged_in.payment_option;null!=v&&v.length>0?jQuery.each(v,(function(_,e){j.push(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("option",{key:e.id,value:e.payment_slug},e.payment_name))})):jQuery(".orderNote").css("display","block"),U=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("select",{className:"form-control",name:"payment-option",id:"payment-method"},j)}e.cart_total_html=Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(parseFloat(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)("wkpos_changes_in_totals",e.cart_total,this.props)));var N=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_CUSTOM_HTML_BELOW_KEYBOARD,"");if(W.length>0){var g=W.filter((function(_){if(_.cart_id==k&&_.cart.length>0)return _})).map((function(_){return _.cart}));g.length>0&&(K=g[0].map((function(_,e){var t="",a="webkul_brs"==_.type,r=parseFloat(_.special*_.quantity).toFixed(2),n=parseFloat(_.special*_.quantity-_.uf_total).toFixed(2);if("string"==typeof _.total)var o=parseFloat(_.total.replace(/[&\/\\#,+()$~%'":*?<>{}]/g,"")).toFixed(2);else o=parseFloat(_.total).toFixed(2);return t=!a&&n>0?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null," ",Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("del",null," ",Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(r,E)," ")," ",Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(o,E)," "):Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",null,Object(_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)(o,E)," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{className:e},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{width:"70%"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,react_html_parser__WEBPACK_IMPORTED_MODULE_14___default()(_.name)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("p",{className:"order-product-quantity"},_.quantity," ",f)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",null,t,react_html_parser__WEBPACK_IMPORTED_MODULE_14___default()(_.tax_label)))})))}return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-tabContent pos-pay",id:"pay-pos"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-box"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-payment-head"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)(react_router_dom__WEBPACK_IMPORTED_MODULE_28__.a,{to:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("i",{className:"fa fa-chevron-left"}),"  ",Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Back","wc_pos"))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"calc-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-heading"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_33__.__)("Order","wc_pos"))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-order-body"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("table",{className:"cart-products"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tbody",null,K)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("table",{className:"cart-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tbody",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{id:"payment-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",null,A),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},e.cart_total_html)),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_AFTER_TOTAL_HTML_IN_PAY_FILTER,"",this,_currency_format__WEBPACK_IMPORTED_MODULE_34__.a),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_BY_CASH_HTML_STATUS_FILTER,!0,this,l)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{id:"payment-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",null,h),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},l)):"",Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_BY_CARD_HTML_STATUS_FILTER,!0,this,i)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{id:"payment-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",null,B),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},i)):"",Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_TENDERED_HTML_STATUS_FILTER,!0,this,d)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{id:"payment-tendered"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",null,C),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},d)):"",Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAY_CHANGE_HTML_STATUS_FILTER,!0,this,p)?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",{id:"payment-change"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("th",null,I),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},p)):"",N),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tfoot",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},U)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("textarea",(_={className:"form-control"},_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_,"className","orderNote"),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(_,"placeholder",L),_)))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("td",{colSpan:"3"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"invoice-generate"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({name:"generate-invoice",type:"button",className:"pos-button generate-invoice primary"},this.state.disabled&&{disabled:!0},{"data-ptype":"split",onClick:this.handleOrderClick}),y," & ",w))))))))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-customer-payment"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"calculate-pay"},Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_AFTER_PAYMENT_HEADING_IN_PAY_FILTER,"",this),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-customer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,M),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h3",null,e.cart_total_html)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)(react_router_dom__WEBPACK_IMPORTED_MODULE_28__.a,{className:"pos-customer-box",to:_config__WEBPACK_IMPORTED_MODULE_29__.a.HOME_URL+"/pos/customers"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("img",{width:"50px",src:n,alt:a}),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"c-meta"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h4",null,a),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("h5",null,r))),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(ADD_DATA_IN_SELECT_CUSTOMER_IN_PAY_FILTER,"",this,_currency_format__WEBPACK_IMPORTED_MODULE_34__.a)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"payment-type"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"tab-content-container"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"KeypadHandle"},Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_32__.applyFilters)(PAYMENT_METHODS_TABS_FILTER,P,this),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"pos-total-tmpl"},"cash"===e.payment_mode?l:i),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"card numeric-keypad pay"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-conatainer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-one",type:"button",className:"numeric-keypad-button key-one","data-target":"card-amount","data-key":"1",onClick:this.handleButtonClick},"1"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-two",type:"button",className:"numeric-keypad-button key-two","data-target":"card-amount","data-key":"2",onClick:this.handleButtonClick},"2"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-three",type:"button",className:"numeric-keypad-button key-three","data-target":"card-amount","data-key":"3",onClick:this.handleButtonClick},"3"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put",type:"button",className:"numeric-keypad-button key-put","data-target":"card-amount","data-put":!0,"data-key":e.cart_total?parseFloat(e.cart_total):0,onClick:this.handleButtonClick},O)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-four",type:"button",className:"numeric-keypad-button key-four","data-target":"card-amount","data-key":"4",onClick:this.handleButtonClick},"4"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-five",type:"button",className:"numeric-keypad-button key-five","data-target":"card-amount","data-key":"5",onClick:this.handleButtonClick},"5"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-six",type:"button",className:"numeric-keypad-button key-six","data-target":"card-amount","data-key":"6",onClick:this.handleButtonClick},"6"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put",type:"button",className:"numeric-keypad-button key-put","data-target":"card-amount","data-put":!0,"data-key":o,onClick:this.handleButtonClick,disabled:!0},"-")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-seven",type:"button",className:"numeric-keypad-button key-seven","data-target":"card-amount","data-key":"7",onClick:this.handleButtonClick},"7"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-eight",type:"button",className:"numeric-keypad-button key-eight","data-target":"card-amount","data-key":"8",onClick:this.handleButtonClick},"8"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-nine",type:"button",className:"numeric-keypad-button key-nine","data-target":"card-amount","data-key":"9",onClick:this.handleButtonClick},"9"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put",type:"button",className:"numeric-keypad-button key-put","data-target":"card-amount","data-put":!0,"data-key":c,onClick:this.handleButtonClick,disabled:!0},"-")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"card-amount","data-key":"00",onClick:this.handleButtonClick},"00"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"card-amount","data-key":"0",onClick:this.handleButtonClick},"0"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-back",type:"button",className:"numeric-keypad-button key-back","data-target":"card-amount","data-key":"b",onClick:this.handleButtonClick},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{className:"fa fa-arrow-left"})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put",type:"button",className:"numeric-keypad-button key-put","data-target":"card-amount","data-put":!0,"data-key":c+2*apif_script.logged_in.difference,onClick:this.handleButtonClick,disabled:!0},"-")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"card-amount","data-key":".",onClick:this.handleButtonClick},"."),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-delete",type:"button",className:"numeric-keypad-button key-delete","data-target":"card-amount","data-key":"C",onClick:this.handleButtonClick},R)))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"cash numeric-keypad "},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-conatainer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-one",type:"button",className:"numeric-keypad-button key-one","data-target":"cash-amount","data-key":"1",onClick:this.handleButtonClick},"1"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-two",type:"button",className:"numeric-keypad-button key-two","data-target":"cash-amount","data-key":"2",onClick:this.handleButtonClick},"2"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-three",type:"button",className:"numeric-keypad-button key-three","data-target":"cash-amount","data-key":"3",onClick:this.handleButtonClick},"3"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put-prediction-one",type:"button",className:"numeric-keypad-button key-put","data-target":"cash-amount","data-put":!0,"data-key":parseFloat(e.cart_total).toFixed(2),onClick:this.handleButtonClick},O)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-four",type:"button",className:"numeric-keypad-button key-four","data-target":"cash-amount","data-key":"4",onClick:this.handleButtonClick},"4"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-five",type:"button",className:"numeric-keypad-button key-five","data-target":"cash-amount","data-key":"5",onClick:this.handleButtonClick},"5"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-six",type:"button",className:"numeric-keypad-button key-six","data-target":"cash-amount","data-key":"6",onClick:this.handleButtonClick},"6"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put-prediction-two",type:"button",className:"numeric-keypad-button key-put","data-target":"cash-amount","data-put":!0,"data-key":o,onClick:this.handleButtonClick},u)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-seven",type:"button",className:"numeric-keypad-button key-seven","data-target":"cash-amount","data-key":"7",onClick:this.handleButtonClick},"7"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-eight",type:"button",className:"numeric-keypad-button key-eight","data-target":"cash-amount","data-key":"8",onClick:this.handleButtonClick},"8"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-nine",type:"button",className:"numeric-keypad-button key-nine","data-target":"cash-amount","data-key":"9",onClick:this.handleButtonClick},"9"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put-prediction-three",type:"button",className:"numeric-keypad-button key-put","data-target":"cash-amount","data-put":!0,"data-key":c,onClick:this.handleButtonClick},m)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"cash-amount","data-key":"00",onClick:this.handleButtonClick},"00"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"cash-amount","data-key":"0",onClick:this.handleButtonClick},"0"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-back",type:"button",className:"numeric-keypad-button key-back","data-target":"cash-amount","data-key":"b",onClick:this.handleButtonClick},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("span",{className:"fa fa-arrow-left"})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-put-prediction-five",type:"button",className:"numeric-keypad-button key-put","data-target":"cash-amount","data-put":!0,"data-key":c+apif_script.logged_in.difference,onClick:this.handleButtonClick},D)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("div",{className:"numeric-keypad-button-row"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-decimal",type:"button",className:"numeric-keypad-button key-decimal","data-target":"cash-amount","data-key":".",onClick:this.handleButtonClick},"."),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_9__.createElement)("button",{name:"key-delete",type:"button",className:"numeric-keypad-button key-delete","data-target":"cash-amount","data-key":"C",onClick:this.handleButtonClick},R))))))))))}}]),Pay}(react__WEBPACK_IMPORTED_MODULE_10__.Component),mapStateToProps=function(_){return{discount:_.discount.list,cart:_.cart,currency:_.currency.default,current_cart:_.current_cart,customers:_.customers,invoice:_.invoice,orders:_.orders,printers:_.printers}};function mapDispatchToProps(_){return Object.assign({dispatch:_},Object(redux__WEBPACK_IMPORTED_MODULE_12__.bindActionCreators)({createWCOrder:_actions_orders__WEBPACK_IMPORTED_MODULE_16__.a,RemoveHoldData:_actions_hold__WEBPACK_IMPORTED_MODULE_22__.a,updateCurrentCart:_actions_currentcart__WEBPACK_IMPORTED_MODULE_21__.b,getAllOrdersWC:_actions_orders__WEBPACK_IMPORTED_MODULE_16__.b,getAllCouponWC:_actions_coupon__WEBPACK_IMPORTED_MODULE_17__.d},_))}__webpack_exports__.default=Object(react_redux__WEBPACK_IMPORTED_MODULE_11__.b)(mapStateToProps,mapDispatchToProps)(Pay)},248:function(_,e,t){"use strict";t.d(e,"a",(function(){return c})),t.d(e,"b",(function(){return s}));var a=t(3),r=t(6),n=t(2),o=function(_){return{type:"LOGGIN_USER",user:_}},c=function(){return function(_){var e=apif_script.logged_in,t=apif_script.logout_url;if(""!=e){var a={first_name:e.fname,last_name:e.lname,email:e.email,isLoggedIn:!0,cashier_id:e.user_id,profile_pic:e.profile_pic,isFetching:1,logout_url:t,opening_amount:parseFloat(0)};_(o(a))}}},s=function(){return function(_){var e=apif_script.logged_in,t=apif_script.logout_url;if(""!=e&&void 0===localStorage.cashdrawer)if(Object(r.applyFilters)("wkwcpos_show_set_drawer_amount_popup",!0))jQuery.confirm({title:a.a.drawer_text,content:'<div><div class="form-group"><input autofocus type="text" id="input-drawer" placeholder="'+a.a.validated_text+'" class="form-control"></div></div>',buttons:{apply:{text:a.a.okay_text,btnClass:"btn-global",action:function(){var r=this.$content.find("input#input-drawer");if(!r.val().trim()||r.val().length>15||0==/^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(r.val())||parseFloat(r.val())<0)return jQuery.alert({content:a.a.drawer_validate_text,type:"red"}),!1;var n=r.val();if(n&&(null==localStorage.cashdrawer||""==localStorage.cashdrawer||"{}"==localStorage.cashdrawer)){var c={};if(c.initialAmount={initialAmount:n},localStorage.cashdrawer=JSON.stringify(c),""!=e){var s={first_name:e.fname,last_name:e.lname,email:e.email,isLoggedIn:!0,cashier_id:e.user_id,profile_pic:e.profile_pic,isFetching:1,logout_url:t,opening_amount:n};_(o(s))}}}},later:{text:Object(n.__)("Later","wc_pos"),action:function(){}}}});else{var c=Object(r.applyFilters)("wkwcpos_set_default_opening_amount_filter",0);if(c&&(null==localStorage.cashdrawer||""==localStorage.cashdrawer||"{}"==localStorage.cashdrawer)){var s={};if(s.initialAmount={initialAmount:c},localStorage.cashdrawer=JSON.stringify(s),""!=e){var E={first_name:e.fname,last_name:e.lname,email:e.email,isLoggedIn:!0,cashier_id:e.user_id,profile_pic:e.profile_pic,isFetching:1,logout_url:t,opening_amount:c};_(o(E))}}}}}},789:function(_,e,t){},813:function(_,e){},815:function(_,e){},825:function(_,e){},827:function(_,e){},852:function(_,e){},854:function(_,e){},855:function(_,e){},860:function(_,e){},862:function(_,e){},875:function(_,e){},887:function(_,e){},890:function(_,e){},894:function(_,e){}}]);