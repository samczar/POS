(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1203:function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(314),_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__),_wordpress_element__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_wordpress_element__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_translation__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),_currency_format__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(29),_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(6),_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__),react_dom__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(43),react_dom__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_13__),react_redux__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(22),react_html_parser__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(55),react_html_parser__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(react_html_parser__WEBPACK_IMPORTED_MODULE_15__),redux__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(20);function _createSuper(e){var _=_isNativeReflectConstruct();return function(){var t,r=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(e);if(_){var n=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,t)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var ADD_DATA_AFTER_TAX_IN_SUMMARY="wkwc_add_data_after_tax_in_summary",MODIFY_ORDER_DETAILS="wkwc_modify_order_detials",ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM="wkwcpos_add_data_after_tax_in_receipt_custom",ADD_DATA_AFTER_TAX_IN_RECEIPT="wkwc_add_data_after_tax_in_receipt",wkwcpos_change_pos_total="wkwcpos_change_pos_total",WANT_TO_PRINT_RECIEPT="wkwcpos_want_to_print_reciept",CHANGE_LISTING_OF_PRODUCTS="wkwcpos_change_listing_of_products",PERFORM_ACTION_AFTER_INVOICE_PRINT="wkwcpos_perform_action_after_invoice_print",UPDATE_POS_ORDER_SUB_TOTAL="wkwcpos_change_pos_sub_total",ADD_DATA_AFTER_BALANCE_IN_RECEIPT="wkwc_add_data_after_balance_in_receipt",ADD_AFTER_PRINT_INVOICE_BUTTON_FILTER="wkwcpos_add_after_print_invoice_button",CHANGE_IN_ORDER="wkwcpos_change_in_orders",OrderSummary=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(OrderSummary,_Component);var _super=_createSuper(OrderSummary);function OrderSummary(e){var _;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,OrderSummary),(_=_super.call(this,e)).state={order:""},_.handlePrintClick=_.handlePrintClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),_.GetHtml=_.GetHtml.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),_.getInvoice=_.getInvoice.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),_.setupInvoiceSize=_.setupInvoiceSize.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),_.openPrintWindow=_.openPrintWindow.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.doAction)(CHANGE_IN_ORDER,_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_)),_}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(OrderSummary,[{key:"componentWillReceiveProps",value:function(e){this.setState({order:e})}},{key:"getInvoice",value:function getInvoice(){var order=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",logo_invoice="${logo_invoice}",outlet_name="${outlet_name}",order_id="${order_id}",order_date="${order_date}",customer_fname="${customer_fname}",customer_lname="${customer_lname}",customer_phone="${customer_phone}",outlet_address="${outlet_address}",outlet_city="${outlet_city}",outlet_state="${outlet_state}",outlet_country="${outlet_country}",outlet_postcode="${outlet_postcode}",pos_user_phone="${pos_user_phone}",pos_user_email="${pos_user_email}",pro_name="${pro_name}",pro_quantity="${pro_quantity}",pro_unit_price="${pro_unit_price}",pro_total="${pro_total}",sub_total="${sub_total}",tax_title="${tax_title}",order_tax="${order_tax}",coupon_name="${coupon_name}",coupon_amount="${coupon_amount}",order_discount="${order_discount}",order_total="${order_total}",cashpay_amount="${cashpay_amount}",other_payment_text="${other_payment_text}",otherpay_amount="${otherpay_amount}",order_change="${order_change}",cashier_name="${cashier_name}";if(logo_invoice=apif_script.logged_in.logo_invoice,apif_script.logged_in.outlet_data){var outlet=apif_script.logged_in.outlet_data;outlet_name=outlet.outlet_name,outlet_address=outlet.outlet_address,outlet_city=outlet.outlet_city,outlet_state=outlet.outlet_state,outlet_country=outlet.outlet_country,outlet_postcode=outlet.outlet_postcode}if(apif_script.logged_in.pos_user_phone&&(pos_user_phone=apif_script.logged_in.pos_user_phone),order)if("online"==order.order_type){order_id="#"+order.order_id,order_date=order.order_date,customer_fname=order.billing.fname,customer_lname=order.billing.lname,customer_phone=order.billing.phone,sub_total=order.cart_subtotal,order_discount=order.discount,order_total=order.order_html,cashpay_amount=order.cashPay>0?order.cashPay_html:"N/A",otherpay_amount=order.cardPay>0?order.cardPay_html:"N/A",other_payment_text=order.cardPay>0?order.payment_title:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Other Payments","wc_pos"),order_change=order.balance,pro_name="",pro_unit_price="",pro_quantity="",pro_total="";var tbl_data="";order.products.forEach((function(e,_){tbl_data+='<tr>\n                        <td class="wkwcpos-invoice-editable">'.concat(e.product_name),e.product_meta_data&&(tbl_data+="<br><p>".concat(Object.keys(e.product_meta_data))+"-"+"".concat(Object.values(e.product_meta_data),"</p>")),tbl_data+='</td >\n                        <td class="wkwcpos-invoice-editable">'.concat(e.product_unit_price,'</td>\n                        <td class="wkwcpos-invoice-editable">').concat(e.qty,'</td>\n                        <td class="wkwcpos-invoice-editable">').concat(e.product_total_price,"</td>\n                    </tr>")}));var order_tax_lines=order.tax_lines;tax_title="",order_tax="",order_tax_lines.length>0&&order_tax_lines.forEach((function(e){tax_title+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Tax","wc_pos"),"(").concat(e.title,")</p>"),order_tax+="<p>".concat(e.total,"</p>")}));var customAfterTax=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_DATA_AFTER_TAX_IN_RECEIPT_CUSTOM,"",order);customAfterTax&&(order.coupons=customAfterTax);var coupons=order.coupons;coupon_name="",coupon_amount="",Object.keys(coupons).forEach((function(e,_){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Coupon","wc_pos"),"(").concat(e,")</p>"),coupons[e]&&(coupon_amount+="<p>".concat(coupons[e],"</p>"))}))}else if("offline"==order.order_type){var currency=order.currency,currency_code=currency.symbol;order_id=order.order_id;var date=new Date(order.order_date).toDateString();date=date.split(" ").slice(0,4).join(" "),order_date=date,customer_fname=order.billing.first_name,customer_lname=order.billing.last_name,customer_phone=order.billing.phone,sub_total=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(order.cart_subtotal,currency_code);var discount=order.discount;if(Object.keys(discount).length>0)if("fixed"==discount.type)var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(-parseFloat(discount.amount),currency_code);else var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(-parseFloat(discount.amount*order.cart_subtotal/100),currency_code);else var totaldiscount=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(0),currency_code);order_discount=totaldiscount,order_total=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(order.order_html),currency_code),cashpay_amount=order.cashPay>0?Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(order.cashPay),currency_code):"N/A",otherpay_amount=order.cardPay>0?Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(order.cardPay),currency_code):"N/A",other_payment_text=order.cardPay>0?order.payment_title:Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Other Payments","wc_pos");var balance=order.tendered-order.order_html;order_change=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(balance),currency_code),pro_name="",pro_unit_price="",pro_quantity="",pro_total="";var productInlineDiscount=[];order.products.forEach((function(e,_){e.uf<e.special&&productInlineDiscount.push({slug:e.slug,discount:(e.special-e.uf)*e.quantity}),pro_name+="<p>".concat(e.name,"</p>"),pro_unit_price+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(e.uf,currency_code),"</p>"),pro_quantity+="<p>".concat(e.quantity,"</p>"),pro_total+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(e.uf_total,currency_code),"</p>"),e.product_meta_data&&(pro_name+="<p>".concat(Object.keys(e.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />"),e.product_meta_data&&(pro_name+="<p>".concat(Object.values(e.product_meta_data),"</p>"),pro_unit_price+="<br />",pro_quantity+="<br />",pro_total+="<br />")}));var _order_tax_lines=order.tax_lines;null==_order_tax_lines.length&&(Object.keys(_order_tax_lines).map((function(e){return _order_tax_lines[e].id=Number(e),[_order_tax_lines[e]]})),_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_0___default()("order_tax_lines"),_order_tax_lines[0],_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_0___default()("order_tax_lines")),tax_title="",order_tax="",_order_tax_lines.length>0&&_order_tax_lines.forEach((function(e){tax_title+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Tax","wc_pos"),"(").concat(e.label,")</p>"),order_tax+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(e.rate*order.cart_subtotal/100),currency_code),"</p>")})),coupon_name="",coupon_amount="",order.coupons&&order.coupons.length>0&&order.coupons.forEach((function(e){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Coupon","wc_pos"),"(").concat(e.code,")</p>"),coupon_amount+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(e.price,currency_code),"</p>")})),productInlineDiscount&&productInlineDiscount.length>0&&productInlineDiscount.forEach((function(e){coupon_name+="<p>".concat(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Coupon","wc_pos"),"(").concat(e.slug,")</p>"),coupon_amount+="<p>".concat(Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(e.discount,currency_code),"</p>")}))}apif_script.logged_in.pos_user&&(pos_user_email=apif_script.logged_in.pos_user.data.user_email,cashier_name=apif_script.logged_in.pos_user.data.display_name);var invoiceData="";return invoiceData=this.props.invoice&&"0"!=this.props.invoice?this.props.invoice:'\n\n                <style>\n                    .wkwcpos-invoice-wrapper {\n                        padding: 10px;\n                        background-color: #fff;\n                        border-radius: 2px;\n                        grid-area: second;\n                    }\n                    .wkwcpos-invoice-wrapper * {\n                        padding: 0;\n                        margin: 0;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-header, .wkwcpos-invoice-wrapper .invoice-footer .footer-details {\n                        text-align: center;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-header img {\n                        width: 50px;\n                        margin: 10px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details {\n                        width: 100%;\n                        display: inline-block;\n                    }\n                    .wkwcpos-invoice-wrapper .order-details, .wkwcpos-invoice-wrapper .outlet-details {\n                        width: 50%;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details .order-details {\n                        float: left;\n                    }\n                    .wkwcpos-invoice-wrapper .invoice-details .outlet-details {\n                        float: right;\n                        text-align: right;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details {\n                        margin: 15px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table {\n                        border-collapse: collapse;\n                        width: 100%;\n                        text-align: center;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table th, .wkwcpos-invoice-wrapper .product-details table td {\n                        padding: 3px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table th, .wkwcpos-invoice-wrapper .product-details table td p {\n                        padding: 3px 0;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table thead, .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(1) {\n                        border-style: dashed;\n                        border-width: 3px 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(3) {\n                        border-style: dashed;\n                        border-width: 0 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(2) tr:last-child td:nth-last-of-type(1), .wkwcpos-invoice-wrapper .product-details table tbody:nth-of-type(2) tr:last-child td:nth-last-of-type(2) {\n                        border-style: dashed;\n                        border-width: 0 0 3px;\n                        border-color: #ddd;\n                    }\n                    .wkwcpos-invoice-wrapper hr {\n                        width: 35%;\n                        margin: 10px auto 7px;\n                        border-style: dashed;\n                        border-width: 3px 0;\n                        border-top-color: #ddd;\n                        border-bottom-color: #fafafa;\n                    }\n\n\n                </style>\n\n                <div class="wkwcpos-invoice-wrapper">\n\n                    <div class="invoice-header wkwcpos-invoice-editable">\n                        <p class="wkwcpos-invoice-editable">Tax Invoice/Bill of Supply</p>\n                        <img src="'.concat(logo_invoice,'" class="wkwcpos-invoice-editable" />\n                        <h3 class="wkwcpos-invoice-editable">').concat(outlet_name,'</h3>\n                    </div>\n\n                    <div class="invoice-details">\n                        <div class="order-details">\n                            <p class="wkwcpos-invoice-editable">Order - ').concat(order_id,'</p>\n                            <p class="wkwcpos-invoice-editable">Date : ').concat(order_date,'</p>\n                            <p class="wkwcpos-invoice-editable">Customer : ').concat(customer_fname," ").concat(customer_lname,'</p>\n                        </div>\n                        <div class="outlet-details">\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_address,'</p>\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_city," ").concat(outlet_state,'</p>\n                            <p class="wkwcpos-invoice-editable">Tel No: ').concat(customer_phone,'</p>\n                        </div>\n                    </div>\n\n                    <div class="product-details">\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th class="wkwcpos-invoice-editable">Product Name</th>\n                                    <th class="wkwcpos-invoice-editable">Unit Price</th>\n                                    <th class="wkwcpos-invoice-editable">Quantity</th>\n                                    <th class="wkwcpos-invoice-editable">Total Price</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                ').concat(tbl_data,'\n                            </tbody>\n                            <tbody>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">SubTotal</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(sub_total,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(tax_title,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_tax,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Discount</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_discount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(coupon_name,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(coupon_amount,'</td>\n                                </tr>\n                            </tbody>\n                            <tbody>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Total</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_total,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Cash Payment</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(cashpay_amount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">').concat(other_payment_text,'</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(otherpay_amount,'</td>\n                                </tr>\n                                <tr>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable"></td>\n                                    <td class="wkwcpos-invoice-editable">Change</td>\n                                    <td class="wkwcpos-invoice-editable">').concat(order_change,'</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <div class="invoice-footer">\n                        <p class="wkwcpos-invoice-editable">Cashier: ').concat(cashier_name,'</p>\n                        <div class="footer-details">\n                            <p class="wkwcpos-invoice-editable">').concat(outlet_name,'</p>\n                            <p class="wkwcpos-invoice-editable">Tel No: ').concat(pos_user_phone,'</p>\n                            <p class="wkwcpos-invoice-editable">Email: ').concat(pos_user_email,'</p>\n                            <hr class="wkwcpos-invoice-editable" />\n                            <p class="wkwcpos-invoice-editable">Have a nice day</p>\n                        </div>\n                    </div>\n                </div>'),invoiceData=eval("`"+invoiceData+"`"),react_html_parser__WEBPACK_IMPORTED_MODULE_15___default()(invoiceData)}},{key:"handlePrintClick",value:function(e,_){var t=this.props.order;if(t.order_id==_){var r=this.getInvoice(t),n=this.setupInvoiceSize();react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.unmountComponentAtNode(document.getElementById("invoice-body")),react_dom__WEBPACK_IMPORTED_MODULE_13___default.a.render(r,document.getElementById("invoice-body")),this.openPrintWindow(jQuery("#invoice-print").html(),n)}}},{key:"openPrintWindow",value:function(e,_){var t=this.props.order;if(Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.doAction)(PERFORM_ACTION_AFTER_INVOICE_PRINT,t),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(WANT_TO_PRINT_RECIEPT,!0,t))if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var r=window.open("","PRINT","height=400,width=600");r.document.write("<html><head><title></title>"+_),r.document.write("</head><body>"),r.document.write(e),r.document.write("</body></html>"),r.document.close(),r.focus(),r.addEventListener("load",(function(){setTimeout((function(){r.print()}),500)}),!0)}else{var n=document.createElement("iframe");n.name="frame1",document.body.appendChild(n);var a=n.contentWindow?n.contentWindow:n.contentDocument.document?n.contentDocument.document:n.contentDocument;a.document.open(),a.document.write("<html><head><title></title>"+_),a.document.write("</head><body>"),a.document.write(e),a.document.write("</body></html>"),a.document.close(),setTimeout((function(){window.frames.frame1.focus(),window.frames.frame1.print(),document.body.removeChild(n)}),100)}return!0}},{key:"setupInvoiceSize",value:function(){var e=this.props.printers.default,_=[];if(e){switch(e){case"a3":_.push(" @page { size: A3;margin: 20mm;} ");var t='<style type="text/css">'+_.join("\n")+"</style>";break;case"a4":_.push(" @page { size: A4;margin: 20mm; } ");t='<style type="text/css">'+_.join("\n")+"</style>";break;case"a5":_.push(" @page { size: A5; margin: 10mm;} ");t='<style type="text/css">'+_.join("\n")+"</style>";break;case"a6":_.push(" @page { size: A6; margin: 10mm;} ");t='<style type="text/css">'+_.join("\n")+"</style>";break;case"T88V":_.push(" @page {size: 58mm 120mm; }  ");t='<style type="text/css">.invoice-head, .invoice-body, .invoice-footer{ width:70mm;}'+_.join("\n")+"</style>";jQuery(".invoice-head, .invoice-body, .invoice-footer").css("font-size","12px;")}return t}}},{key:"GetHtml",value:function(e){var _=e.payment_title,t="",r="",n=_translation__WEBPACK_IMPORTED_MODULE_9__.a.cash_text;e.cashPay>0&&(t=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,n),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:e.cashPay_html}}))),e.cardPay>0&&(r=Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,_),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:e.cardPay_html}})));var a=Array.from(e.products),o=e.tax_lines;if(o.length>0)var c=o.map((function(e){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",{key:e.id},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Tax","wc_pos"),"(",e.title,")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{dangerouslySetInnerHTML:{__html:e.total}}))}));else c="";var s=e.coupons;if(s){var l=[];jQuery.each(s,(function(e,_){l.push(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",{key:e},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"sub-total"},Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_12__.__)("Coupon","wc_pos"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,"(",e,")")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"coupon-amt"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:_}}))))}))}else l="";var i=a.map((function(e,_){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",{className:"border_bottom",key:_},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"product-name"},e.product_name,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("br",null),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"order-product-meta-heading"},e.product_meta_data?Object.keys(e.product_meta_data):""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"order-product-meta"}," ",e.product_meta_data?Object.values(e.product_meta_data):"")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"product-quantity"},e.qty),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"product-unit-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:e.product_unit_price}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"product-total-price"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:e.product_total_price}})))}));i=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(CHANGE_LISTING_OF_PRODUCTS,i,a);var d=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_CUSTOM_ORDER_DATA_BELOW_DATE,"",e),E=_translation__WEBPACK_IMPORTED_MODULE_9__.a.order_text,p=_translation__WEBPACK_IMPORTED_MODULE_9__.a.date,u=_translation__WEBPACK_IMPORTED_MODULE_9__.a.subtotal_text,O=_translation__WEBPACK_IMPORTED_MODULE_9__.a.total_text,m=_translation__WEBPACK_IMPORTED_MODULE_9__.a.discount_text,P=_translation__WEBPACK_IMPORTED_MODULE_9__.a.balance_text,D=_translation__WEBPACK_IMPORTED_MODULE_9__.a.refund_text,b=_translation__WEBPACK_IMPORTED_MODULE_9__.a.customer_text,M=e.total_refund?Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",{className:"order-balance"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,D," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,react_html_parser__WEBPACK_IMPORTED_MODULE_15___default()(e.currency),react_html_parser__WEBPACK_IMPORTED_MODULE_15___default()(e.total_refund)))):"",w=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_DATA_AFTER_TAX_IN_RECEIPT,"",e),h=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_DATA_AFTER_BALANCE_IN_RECEIPT,"",e);return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-order-short"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-order-sect"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",null,E," - #",e.order_id),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"date"},p,": ",e.order_date)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-sumarry-customer"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"customer-name"},b),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"customer-name"},e.billing.fname," ",e.billing.lname),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"custom-data"},d))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-sale-summary"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"sale-summary-products"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("table",{className:"order-product-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("thead",{className:"border_bottom"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("th",{className:"product-name"},_translation__WEBPACK_IMPORTED_MODULE_9__.a.product_name_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("th",{className:"product-quantity"},_translation__WEBPACK_IMPORTED_MODULE_9__.a.quantity_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("th",{className:"product-unit-price"},_translation__WEBPACK_IMPORTED_MODULE_9__.a.unit_price_text),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("th",{className:"product-total-price"},_translation__WEBPACK_IMPORTED_MODULE_9__.a.total_price_text))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tbody",null,i,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"sub-total"},u),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{dangerouslySetInnerHTML:Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(UPDATE_POS_ORDER_SUB_TOTAL,{__html:e.cart_subtotal},e)})),c,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("tr",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",null," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{className:"sub-total"},m),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("td",{dangerouslySetInnerHTML:{__html:e.discount}})),l,w))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"sale-summary-calculate-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,O," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(wkwcpos_change_pos_total,{__html:e.order_html},e)})),t,r),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",{className:"order-balance"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,P," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:e.balance}}))),M,h)))}},{key:"render",value:function(){var e=this,_=_translation__WEBPACK_IMPORTED_MODULE_9__.a.unit_text,t=_translation__WEBPACK_IMPORTED_MODULE_9__.a.tax_text,r=(_translation__WEBPACK_IMPORTED_MODULE_9__.a.order_summary,_translation__WEBPACK_IMPORTED_MODULE_9__.a.subtotal_text),n=_translation__WEBPACK_IMPORTED_MODULE_9__.a.total_text,a=_translation__WEBPACK_IMPORTED_MODULE_9__.a.discount_text,o=_translation__WEBPACK_IMPORTED_MODULE_9__.a.balance_text,c=_translation__WEBPACK_IMPORTED_MODULE_9__.a.cash_text,s=(_translation__WEBPACK_IMPORTED_MODULE_9__.a.card_text,_translation__WEBPACK_IMPORTED_MODULE_9__.a.printInvoice_text);if(this.state.order)l=(l=this.state.order).order;else var l=this.props.order;var i=l.payment_title,d=l.currency.symbol,E=l.discount,p=l.tax_lines;if(null==p.length&&(p=(p=Object.keys(p).map((function(e){return p[e].id=Number(e),[p[e]]})))[0]),p.length>0)var u=p.map((function(e){return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",{key:e.id},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,t,"(",e.label,")"),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(e.rate*l.cart_subtotal/100),d)))}));else u="";var O=l.products.map((function(e,t){var r=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(e.uf_total,d);return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",{key:t},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"order-product-wrap"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,e.name),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("strong",null,e.product_meta_data?Object.keys(e.product_meta_data):""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("p",{className:"order-product-meta"}," ",e.product_meta_data?Object.values(e.product_meta_data):""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{className:"order-product-quantity"},e.quantity," ",_)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:r}}))})),m=l.tendered-l.order_html,P=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(l.cart_subtotal,d);m=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(m),d);if(Object.keys(E).length>0)if("fixed"==E.type)var D=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(E.amount),d);else D=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(E.amount*l.cart_subtotal/100),d);else D=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(0),d);var b=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(l.order_html),d),M=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(l.cashPay),d),w=Object(_currency_format__WEBPACK_IMPORTED_MODULE_10__.a)(parseFloat(l.cardPay),d),h=Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_DATA_AFTER_TAX_IN_SUMMARY,"",l);return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-sale-summary"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"sale-summary-products"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",null,O)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-sale-summary-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",{className:"sale-summary-subtotal"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,r),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:P}})),u,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,a),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,D)),h),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",{className:"sale-summary-total"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,n),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:b}})),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,l.cashPay>0?c:""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,l.cashPay>0?M:"")),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,l.cardPay>0?i:""),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",null,l.cardPay>0?w:""))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("ul",{className:"order-balance"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("li",null,Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("h4",null,o," "),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("span",{dangerouslySetInnerHTML:{__html:m}}))),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-order-invoice"},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("button",{name:"print-invoice",type:"button",className:"print-invoice primary",onClick:function(_){return e.handlePrintClick(_,l.order_id)}},Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("i",{className:"fa fa-print"})," ",s)),Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_7__.createElement)("div",{className:"pos-order-return",id:"pos-order-return","data-orderid":l.order_id}),Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_11__.applyFilters)(ADD_AFTER_PRINT_INVOICE_BUTTON_FILTER,"",l)))}}]),OrderSummary}(react__WEBPACK_IMPORTED_MODULE_8__.Component),mapStateToProps=function(e){return{invoice:e.invoice,printers:e.printers}};function mapDispatchToProps(e){return Object.assign({dispatch:e},Object(redux__WEBPACK_IMPORTED_MODULE_16__.bindActionCreators)({},e))}__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_14__.b)(mapStateToProps,mapDispatchToProps)(OrderSummary)},1214:function(e,_,t){"use strict";t.r(_);var r=t(14),n=t.n(r),a=t(15),o=t.n(a),c=t(10),s=t.n(c),l=t(16),i=t.n(l),d=t(17),E=t.n(d),p=t(9),u=t.n(p),O=t(0),m=t(5),P=t.n(m),D=t(22),b=t(20),M=t(29);function w(e){var _=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=u()(e);if(_){var n=u()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return E()(this,t)}}var h=function(e){i()(t,e);var _=w(t);function t(e){var r;return n()(this,t),(r=_.call(this,e)).state={order:""},r.handleClick=r.handleClick.bind(s()(r)),r}return o()(t,[{key:"handleClick",value:function(e){var _=this.props.orders,t=jQuery(e.target).closest("li").attr("id"),r=_.filter((function(e){return t==e.id}));r&&this.props.onSelectOrder(r)}},{key:"render",value:function(){var e=this,_=this.props.order,t=_.currency.symbol,r=new Date(_.order_date).toDateString();r=r.split(" ").slice(0,4).join(" ");var n=Object(M.a)(parseFloat(_.order_html),t);return Object(O.createElement)("li",{id:_.order_id,onClick:function(_){return e.handleClick(_)}},Object(O.createElement)("span",null,_.order_id),Object(O.createElement)("span",null,Object(O.createElement)("i",{className:"fa fa-calender"}),r),Object(O.createElement)("span",null,n))}}]),t}(m.Component),f=Object(D.b)((function(e){return{orders:e.orders.list}}))(h),T=t(447),A=t(1203),y=t(36),I=t(4),C=t(3),R=t(7),v=t(12),L=t(382),B=t(2),U=t(6);function W(e){var _=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=u()(e);if(_){var n=u()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return E()(this,t)}}t.d(_,"AFTER_CREATING_ORDER_ACTION",(function(){return K}));var K="wkwcpos_action_after_creating_order",j=function(e){i()(t,e);var _=W(t);function t(e){var r;return n()(this,t),(r=_.call(this,e)).state={first:"",orders:"",s:""},r.handleChange=r.handleChange.bind(s()(r)),r.setSearch=r.setSearch.bind(s()(r)),r.syncAllOrders=r.syncAllOrders.bind(s()(r)),r.syncOfflineOrders=r.syncOfflineOrders.bind(s()(r)),r}return o()(t,[{key:"setSearch",value:function(e){var _=Array.from(this.props.orders),t=this.state.first,r=this.state.orders;e.target.value&&(r=_.filter((function(_){if("offline"==_.order_type&&(-1!=_.order_id.toString().indexOf(e.target.value)||-1!=_.email.toString().indexOf(e.target.value)))return _}))),this.setState({first:t,orders:r,s:e.target.value})}},{key:"handleChange",value:function(e){this.setState({first:e})}},{key:"syncAllOrders",value:function(){var e=this.props.dispatch;if(navigator.onLine){var _=Array.from(this.props.orders).filter((function(e){if("offline"==e.order_type)return e}));if(_.length>0)this.syncOfflineOrders(_).then((function(_){_&&(e(Object(y.b)()),jQuery.confirm({title:C.a.success_text,content:C.a.sync_success_text,backgroundDismiss:function(){return"buttonName"}}))}));else jQuery.confirm({title:C.a.warning_text,content:C.a.no_sync_orders,backgroundDismiss:function(){return"buttonName"}})}else jQuery.confirm({title:C.a.warning_text,content:C.a.error_sync_orders,backgroundDismiss:function(){return"buttonName"}})}},{key:"syncOfflineOrders",value:function(e){var _={orders:JSON.stringify(e)};return new Promise((function(e,t){document.querySelector("#loading-text").innerHTML=C.a.sync_process_text,document.querySelector("#loader").style.display="block",Object(v.POSPostRequest)(R.a.WK_CREATE_OFFLINE_ORDER_ENDPOINT,_).then((function(_){if(document.querySelector("#loader").style.display="none",_.length>0){Object(U.doAction)(K,_,I.a);var t=_.map((function(e){return e.fake_id})),r=_.map((function(e){return delete e.fake_id,e}));I.a.pos_orders.bulkDelete(t).then((function(t){I.a.pos_orders.bulkPut(r).then((function(t){e(_)}))}))}}))}))}},{key:"render",value:function(){var e=this;if(console.log(this.props),this.state.s)var _=this.state.orders;else{var t=Array.from(this.props.orders);t.sort((function(e,_){return e.order_id<_.order_id?1:_.order_id<e.order_id?-1:0}));_=t.filter((function(e){if(e.order_id.toString().indexOf("#")>-1)return e}))}if(this.state.first)var r=this.state.first;else r=_.filter((function(e,_){if(0==_)return e}));var n=r.map((function(e,_){return Object(O.createElement)(T.a,{key:_,order:e})})),a=r.map((function(e,_){return Object(O.createElement)(A.a,{key:_,order:e})})),o=C.a.sync_orders,c=C.a.offline_search_order_text,s=C.a.error_no_category_order,l=Object(O.createElement)("span",{className:"no-order-result"},s),i=Object(O.createElement)("span",{className:"no-result"},Object(B.__)("We didn't find any results","wc_pos"));return Object(O.createElement)(P.a.Fragment,null,Object(O.createElement)("div",{className:"pos-order-list"},Object(O.createElement)("div",{className:"pos-order-search"},Object(O.createElement)("div",{className:"pos-sync-orders"},Object(O.createElement)("button",{className:"sync-orders",id:"sync-orders",onClick:this.syncAllOrders},o)),Object(O.createElement)("span",{className:"fa fa-search offline"}),Object(O.createElement)("input",{type:"search",name:"pos-order-search",id:"pos-order-search",placeholder:c,onChange:this.setSearch,autoComplete:"off"})),_.length<1?i:Object(O.createElement)(L.b,{className:"wkwcpos-list dropdownlist-order",height:500,itemCount:_.length,itemSize:60},(function(t){var r=t.index,n=t.style;return Object(O.createElement)("div",{className:r%2?"wkwcpos-list-item-even":"wkwcpos-list-item-odd",style:n},Object(O.createElement)(f,{key:_[r].order_id,onSelectOrder:e.handleChange,order:_[r],style:n}))}))),Object(O.createElement)("div",{id:"order-main-summary"},_.length<1?l:n,_.length<1?"":a))}}]),t}(m.Component);_.default=Object(D.b)((function(e){return{orders:e.orders.list,sorder:e.orders.sorder}}),(function(e){return Object.assign({dispatch:e},Object(b.bindActionCreators)({getAllOrdersWC:y.b},e))}))(j)},314:function(e,_){e.exports=function(e){throw new TypeError('"'+e+'" is read-only')},e.exports.default=e.exports,e.exports.__esModule=!0},447:function(e,_,t){"use strict";var r=t(14),n=t.n(r),a=t(15),o=t.n(a),c=t(16),s=t.n(c),l=t(17),i=t.n(l),d=t(9),E=t.n(d),p=t(0),u=t(5),O=t(22),m=t(20),P=t(3),D=t(6),b=t(2);function M(e){var _=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=E()(e);if(_){var n=E()(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return i()(this,t)}}var w=function(e){s()(t,e);var _=M(t);function t(e){return n()(this,t),_.call(this,e)}return o()(t,[{key:"render",value:function(){var e=this.props.order,_=new Date(e.order_date).toDateString();_=_.split(" ").slice(0,4).join(" "),e=Object(D.applyFilters)("wkwc_modify_order_detials",e);var t=P.a.order_heading_text,r=[],n=Object(D.applyFilters)("wkwcpos_add_custom_order_data_below_date","",e);e.custom_data&&e.custom_data.length>0&&(r=e.custom_data.map((function(e,_){return Object(p.createElement)("p",{key:_},Object(p.createElement)("strong",null,e.label,": "),e.value)}))),e.order_id=e.order_id.toString();var a=e.order_id.replace("#",""),o=void 0!==e.billing.fname?e.billing.fname+" "+e.billing.lname:e.billing.first_name+" "+e.billing.last_name;return Object(p.createElement)("div",{className:"pos-order-short"},Object(p.createElement)("div",{className:"pos-order-section"},e.offline_id?Object(p.createElement)("div",null,Object(p.createElement)("h3",null,t," ","#".concat(e.order_id)),Object(p.createElement)("p",null,Object(b.__)("Offline ID ","wc_pos")+e.offline_id)):Object(p.createElement)("div",null,Object(p.createElement)("h3",null,t," #",a)),Object(p.createElement)("div",{className:"pos-order-extra-wrapper"},Object(p.createElement)("h5",null,o),Object(p.createElement)("h5",null,_)),Object(p.createElement)("p",null,n)),r.length>0?Object(p.createElement)("div",{className:"order-extra-data"},Object(p.createElement)("h3",null,Object(b.__)("Extra Data","wc_pos")),n):"")}}]),t}(u.Component);_.a=Object(O.b)((function(e){return{orders:e.orders.list,invoice:e.invoice}}),(function(e){return Object.assign({dispatch:e},Object(m.bindActionCreators)({},e))}))(w)}}]);