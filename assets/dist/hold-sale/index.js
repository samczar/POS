(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1202:function(e,t,a){"use strict";a.r(t);var c=a(14),n=a.n(c),r=a(15),l=a.n(r),s=a(10),o=a.n(s),i=a(16),d=a.n(i),u=a(17),b=a.n(u),m=a(9),p=a.n(m),h=a(0),j=a(5),O=a(20),f=a(22),_=a(38),y=a(8),v=a(37),E=a(3),N=a(55),C=a.n(N),k=a(248),g=a(7),x=a(2);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,c=p()(e);if(t){var n=p()(this).constructor;a=Reflect.construct(c,arguments,n)}else a=c.apply(this,arguments);return b()(this,a)}}var R=function(e){d()(a,e);var t=w(a);function a(e){var c;return n()(this,a),(c=t.call(this,e)).state={cartP:""},c.handleUpdateClick=c.handleUpdateClick.bind(o()(c)),c}return l()(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t(Object(v.a)()),t(Object(k.a)()),t(Object(y.i)()),t(Object(_.c)()),Object(y.a)().then((function(t){e.setState({cartP:t})}))}},{key:"handleUpdateClick",value:function(e){var t=this.props.dispatch,a=jQuery(e.target).attr("cart-id"),c=jQuery(e.target).data("action"),n=this.props.current_cart,r=this.props.cart.list,l=r.length>0?r[0].cart:null;n!=a&&c&&("delete"==c?(jQuery.confirm({title:E.a.success_text,content:E.a.cart_deleted_success_msg,autoClose:"cancelAction|3000",type:"green",escapeKey:"cancelAction",buttons:{cancelAction:{text:E.a.cancel_btn_text,btnClass:"btn-green"}}}),t(Object(y.d)(a,"")),t(Object(_.a)(a)),t(Object(v.b)(n))):"add"==c&&(null!=l&&l.length>0&&n==r[0].cart_id?jQuery.alert(E.a.already_products_in_cart_for_hold):(jQuery.confirm({title:E.a.success_text,content:E.a.cart_added_success_msg,autoClose:"cancelAction|3000",type:"green",escapeKey:"cancelAction",buttons:{cancelAction:{text:E.a.cancel_btn_text,btnClass:"btn-green"}}}),t(Object(_.a)(a)),t(Object(v.b)(a)),t(Object(y.d)(n,a)),this.props.history.push({pathname:g.a.HOME_URL+"/pos"}))))}},{key:"render",value:function(){var e=this,t=this.state.cartP,a=this.props.holds,c=this.props.current_cart;if(a.list.length>0&&c>=0){var n=a.list.map((function(a){var n=[],r=[];if(a.cart_id!=c){jQuery.each(t,(function(e,t){t.cart_id==a.cart_id&&(n=t.cart)})),n.length>0&&jQuery.each(n,(function(e,t){r.push(Object(h.createElement)("tr",{key:e},Object(h.createElement)("td",null,C()(t.name)),Object(h.createElement)("td",null,t.quantity)))}));var l=E.a.text_item_detail,s=E.a.add_text,o=E.a.delete_text;return Object(h.createElement)("div",{className:"order-display cursor",key:a.cart_id},Object(h.createElement)("div",{className:"order-detail"},Object(h.createElement)("h4",null,l),Object(h.createElement)("div",{className:"datetimeorder"},Object(h.createElement)("div",{className:"hold-date"},a.date),Object(h.createElement)("div",{className:"hold-time"},a.time))),Object(h.createElement)("div",{className:"hold-note"},Object(h.createElement)("h4",null,Object(x.__)("Note","wc_pos")),Object(h.createElement)("p",null,a.note)),Object(h.createElement)("div",{className:"table-responsive"},Object(h.createElement)("table",{className:"width-100"},Object(h.createElement)("tbody",null,r))),Object(h.createElement)("div",{className:"order-display-action"},Object(h.createElement)("button",{name:"add",type:"button",className:"add-hold primary","cart-id":a.cart_id,"data-action":"add",onClick:e.handleUpdateClick},Object(h.createElement)("i",{className:"fa fa-cart-plus"}),s),Object(h.createElement)("button",{name:"delete",type:"button",className:"delete-hold secondary","cart-id":a.cart_id,"data-action":"delete",onClick:e.handleUpdateClick},Object(h.createElement)("i",{className:"fa fa-trash"}),o)))}}));return Object(h.createElement)("div",{className:"hold-section"},n)}return Object(h.createElement)("div",{className:"hold-section"},Object(h.createElement)("span",{className:"no-hold-orders"},"Â ",Object(x.__)("No orders on hold","wc_pos")))}}]),a}(j.Component);t.default=Object(f.b)((function(e){return{cart:e.cart,current_cart:e.current_cart,holds:e.hold}}),(function(e){return Object.assign({dispatch:e},Object(O.bindActionCreators)({RemoveCart:y.d,RemoveHoldData:_.a,updateCurrentCart:v.b},e))}))(R)}}]);