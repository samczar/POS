(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1047:function(e,t){},1159:function(e,t,r){},1160:function(e,t,r){},1297:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"ADMIN_URL",(function(){return va})),r.d(n,"COUNTRIES",(function(){return Oa})),r.d(n,"CURRENCY",(function(){return _a})),r.d(n,"LOCALE",(function(){return ja})),r.d(n,"ORDER_STATUSES",(function(){return wa})),r.d(n,"SITE_TITLE",(function(){return ka})),r.d(n,"WC_ASSET_URL",(function(){return Ea})),r.d(n,"DEFAULT_DATE_RANGE",(function(){return Ca})),r.d(n,"getSetting",(function(){return Sa})),r.d(n,"setSetting",(function(){return Ra})),r.d(n,"getAdminLink",(function(){return xa}));var a=r(14),c=r.n(a),o=r(15),s=r.n(o),i=r(16),l=r.n(i),u=r(17),p=r.n(u),d=r(9),m=r.n(d),f=r(0),b=r(5),h=(r(967),r(1)),y=r.n(h),g=r(319),v=r.n(g),O=r(297),_=r.n(O),j=r(2),w=r(219),k=r.n(w),E=r(971),C=r.n(E),S=r(972),R=r.n(S),x=r(25),F=r.n(x),D=r(655),T=r(349),N=r(31),P=r(1216),q=r(524),A=r(1284),I=r(973),B=r.n(I);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var L=function(e){l()(r,e);var t=M(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.label,n=t.renderContent,a=t.className;if(!n)return null;return Object(f.createElement)("div",{className:k()(a,"woocommerce-ellipsis-menu")},Object(f.createElement)(q.a,{contentClassName:"woocommerce-ellipsis-menu__popover",position:"bottom left",renderToggle:function(t){var n=t.onToggle,a=t.isOpen,c=k()("woocommerce-ellipsis-menu__toggle",{"is-opened":a});return Object(f.createElement)(T.a,{className:c,onClick:function(t){e.props.onToggle&&e.props.onToggle(t),n(t)},title:r,"aria-expanded":a},Object(f.createElement)(A.a,{icon:Object(f.createElement)(B.a,null)}))},renderContent:function(e){return Object(f.createElement)(P.a,{className:"woocommerce-ellipsis-menu__content"},n(e))}}))}}]),r}(f.Component);L.propTypes={label:F.a.string.isRequired,renderContent:F.a.func,className:F.a.string,onToggle:F.a.func};var U=L,Q=Object(f.createContext)(2);function V(e){var t=Object(f.useContext)(Q),r="h"+Math.min(t,6);return Object(f.createElement)(r,e)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var H,Y=function(e){l()(r,e);var t=K(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=(e.menu,e.title),n=k()("woocommerce-section-header",this.props.className);return Object(f.createElement)("div",{className:n},Object(f.createElement)(V,{className:"woocommerce-section-header__title woocommerce-section-header__header-item"},r),Object(f.createElement)("hr",{role:"presentation"}),t&&Object(f.createElement)("div",{className:"woocommerce-section-header__actions woocommerce-section-header__header-item"},t))}}]),r}(f.Component);Y.propTypes={className:F.a.string,menu:(H=U,function(e,t,r){if(e[t])return e[t].type&&e[t].type===H?void 0:new Error("Invalid ".concat(t," passed to ").concat(r,". Must be ")+"`"+H.name+"`")}),title:F.a.oneOfType([F.a.string,F.a.node]).isRequired};var z=Y,G=r(979),W=r(212),$=r(1209),J=r(1218),X=r(1219),Z=r(1207),ee=r(234),te=r(1205),re=ee.Text||te.a,ne=r(1156),ae=r(27),ce=r(75);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var se=function(e){l()(r,e);var t=oe(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e,t,r,n,a=this.props,c=a.className,o=a.isError,s=a.isEmpty;return o?(e=Object(j.__)("There was an error getting your stats. Please try again.","wc_pos"),t=Object(j.__)("Reload","wc_pos"),n=function(){window.location.reload()}):s&&(e=Object(j.__)("No results could be found for this date range.","wc_pos"),t=Object(j.__)("View Orders","wc_pos"),r=Object(ce.getAdminLink)("edit.php?post_type=shop_order")),Object(f.createElement)(N.EmptyContent,{className:c,title:e,actionLabel:t,actionURL:r,actionCallback:n})}}]),r}(f.Component);se.propTypes={className:F.a.string,isError:F.a.bool,isEmpty:F.a.bool},se.defaultProps={className:""};var ie=se;function le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||0===e.length)return null;var n=e.slice(0),a=n.pop();if(a.showFilters(t,r)){var c=Object(ce.flattenFilters)(a.filters),o=t[a.param]||a.defaultValue||"all";return Object(ae.find)(c,{value:o})}return le(n,t,r)}function ue(e,t){if(e&&t){var r=Object(ae.get)(e,["settings","param"]);if(!r||Object.keys(t).includes(r))return Object(ae.get)(e,["chartMode"])}return null}var pe=r(80),de=r.n(pe),me=(r(12),r(211)),fe=r.n(me),be=r(54),he=r(1206),ye=r(7).a.HOME_URL+"/wp-json/pos/v1",ge=(he.a,he.a,r(216)),ve=r.n(ge);function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(){var e=de()(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==apif_script.logged_in){e.next=8;break}return r={primaryData:{data:{intervals:[],totals:{}},isEmpty:!1,isError:!1,isRequesting:!1},secondaryData:{data:{intervals:[],totals:{}},isEmpty:!1,isError:!1,isRequesting:!1},isChartRequesting:!1},n=[],t.forEach((function(e,t){n[t]=new Promise((function(t,n){we(e).then((function(n){n&&n.data&&("primary"==e.dataType?r.primaryData.data=n.data:"secondary"==e.dataType&&(r.secondaryData.data=n.data)),t(r)}))}))})),e.next=7,Promise.all(n).then((function(e){return r}));case 7:return e.abrupt("return",e.sent);case 8:case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=de()(regeneratorRuntime.mark((function e(t){var r,n,a,c,o,s,i,l,u,p,d,m,f,b,h,g,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.endpoint,n=t.dataType,a=Ce(t),c={parse:!1},a.manager_id=apif_script.logged_in.user_id,a.outlet_id=apif_script.logged_in.outlet_id,c.path=Object(be.addQueryArgs)("".concat(ye,"/reports/").concat(r,"/stats"),a),e.prev=6,e.next=9,fetch(c.path);case 9:return o=e.sent,e.next=12,o.json();case 12:if(s=e.sent,i=parseInt(o.headers.get("x-wp-total")),!s){e.next=49;break}if(l=s&&s.totals||null,u=s&&s.intervals||[],!(i>100)){e.next=48;break}p=!0,d=!1,m=[],f=Math.ceil(i/100),b=1,h=2;case 24:if(!(h<=f)){e.next=41;break}if(g=_e(_e({},a),{},{page:h}),v=getReportStats(r,g),!isReportStatsRequesting(r,g)){e.next=29;break}return e.abrupt("continue",38);case 29:if(!getReportStatsError(r,g)){e.next=33;break}return d=!0,p=!1,e.abrupt("break",41);case 33:if(m.push(v),++b!==f){e.next=38;break}return p=!1,e.abrupt("break",41);case 38:h++,e.next=24;break;case 41:if(!p){e.next=45;break}return e.abrupt("return",_e(_e({},o),{},{isRequesting:!0}));case 45:if(!d){e.next=47;break}return e.abrupt("return",_e(_e({},o),{},{isError:!0}));case 47:Object(ae.forEach)(m,(function(e){u=u.concat(e.data.intervals)}));case 48:return e.abrupt("return",_e(_e({},o),{},{data:{totals:l,intervals:u}}));case 49:e.next=54;break;case 51:return e.prev=51,e.t0=e.catch(6),e.abrupt("return",y()({},n,{error:e.t0}));case 54:case"end":return e.stop()}}),e,null,[[6,51]])})));return function(t){return e.apply(this,arguments)}}();function ke(e){var t=e.endpoint,r=e.query,n=e.limitBy,a=e.filters,c=void 0===a?[]:a,o=e.advancedFilters,s=void 0===o?{}:o;return r.search?(n||[t]).reduce((function(e,t){return e[t]=r[t],e}),{}):c.map((function(e){return function(e,t,r){var n=r[e.param];if(!n)return{};if("advanced"===n){var a=Object(ce.getActiveFiltersFromQuery)(r,t.filters);return 0===a.length?{}:a.map((function(e){return function(e,t){var r=e.filters[t.key];if("Date"!==Object(ae.get)(r,["input","component"]))return t;var n=t.rule,a=t.value,c={after:"start",before:"end"};if(Array.isArray(a)){var o=v()(a,2),s=o[0],i=o[1];return Object.assign({},t,{value:[Object(W.appendTimestamp)(fe()(s),c.after),Object(W.appendTimestamp)(fe()(i),c.before)]})}return Object.assign({},t,{value:Object(W.appendTimestamp)(fe()(a),c[n])})}(t,e)})).reduce((function(e,t){var r=t.key,n=t.rule,a=t.value;return e[Object(ce.getUrlKey)(r,n)]=a,e}),{match:r.match||"all"})}var c=Object(ae.find)(Object(ce.flattenFilters)(e.filters),{value:n});if(!c)return{};if(c.settings&&c.settings.param){var o=c.settings.param;return r[o]?y()({},o,r[o]):{}}return{}}(e,s,r)})).reduce((function(e,t){return Object.assign(e,t)}),{})}var Ee=["stock","customers"];function Ce(e){var t=e.endpoint,r=e.dataType,n=e.query,a=Object(W.getCurrentDates)(n),c=Object(W.getIntervalForQuery)(n),o=ke(e),s=a[r].before;return _e(Object(ae.includes)(Ee,t)?{}:{order:"asc",interval:c,per_page:100,after:Object(W.appendTimestamp)(a[r].after,"start"),before:Object(W.appendTimestamp)(s,"end"),segmentby:n.segmentby},o)}function Se(e){switch(e){case"currency":return ge.formatCurrency;case"percent":return".0%";case"number":return",";case"average":return",.2r";default:return","}}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var De=function(e){l()(r,e);var t=Fe(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).state={isRequesting:!0,primaryData:{data:{intervals:[],totals:{}},isError:!1,isRequesting:!0},secondaryData:{data:{intervals:[],totals:{}},isError:!1,isRequesting:!0}},n}return s()(r,[{key:"componentWillReceiveProps",value:function(e){var t=this;if(!Object(ae.isEqual)(e.query,this.props.query)){var r=this.props,n=r.endpoint,a=r.filters,c=r.isRequesting,o=r.limitProperties,s=r.advancedFilters,i=e.query,l=o||[n],u=le(a,i),p=Object(ae.get)(u,["settings","param"]),d=this.props.mode||ue(u,i)||"time-comparison",m={mode:d,filterParam:p};if(c)return m;var f=l.some((function(e){return i[e]&&i[e].length}));if(i.search&&!f)return xe(xe({},m),{},{emptySearchResults:!0});var b=[{endpoint:n,dataType:"primary",query:i,limitBy:l,filters:a,advancedFilters:s},{endpoint:n,dataType:"secondary",query:i,limitBy:l,filters:a,advancedFilters:s}];if("item-comparison"===d)return xe(xe({},m),{},{primaryData:primaryData});je(b).then((function(e){t.setState({primaryData:e.primaryData,secondaryData:e.secondaryData,isRequesting:!1})}))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.endpoint,n=t.filters,a=t.isRequesting,c=t.limitProperties,o=t.query,s=t.advancedFilters,i=c||[r],l=le(n,o),u=Object(ae.get)(l,["settings","param"]),p=this.props.mode||ue(l,o)||"time-comparison",d={mode:p,filterParam:u};if(a)return d;var m=i.some((function(e){return o[e]&&o[e].length}));if(o.search&&!m)return xe(xe({},d),{},{emptySearchResults:!0});var f=[{endpoint:r,dataType:"primary",query:o,limitBy:i,filters:n,advancedFilters:s},{endpoint:r,dataType:"secondary",query:o,limitBy:i,filters:n,advancedFilters:s}];if("item-comparison"===p)return xe(xe({},d),{},{primaryData:primaryData});je(f).then((function(t){e.setState({primaryData:t.primaryData,secondaryData:t.secondaryData,isRequesting:!1})}))}},{key:"getItemChartData",value:function(){return this.state.primaryData.data.intervals.map((function(e){var t={};return e.subtotals.segments.forEach((function(e){if(e.segment_label){var r=t[e.segment_label]?e.segment_label+" (#"+e.segment_id+")":e.segment_label;t[e.segment_id]={label:r,value:e.subtotals[selectedChart.key]||0}}})),xe({date:Object(ne.a)("Y-m-d\\TH:i:s",e.date_start)},t)}))}},{key:"getTimeChartData",value:function(){var e=this.props,t=e.query,r=e.selectedChart,n=this.state,a=n.primaryData,c=n.secondaryData,o=Object(W.getIntervalForQuery)(t),s=Object(W.getCurrentDates)(t),i=s.primary,l=s.secondary;return a.data.intervals.map((function(e,n){var a=Object(W.getPreviousDate)(e.date_start,i.after,l.after,t.compare,o),s=c.data.intervals[n];return{date:Object(ne.a)("Y-m-d\\TH:i:s",e.date_start),primary:{label:"".concat(i.label," (").concat(i.range,")"),labelDate:e.date_start,value:e.subtotals[r.key]||0},secondary:{label:"".concat(l.label," (").concat(l.range,")"),labelDate:a.format("YYYY-MM-DD HH:mm:ss"),value:s&&s.subtotals[r.key]||0}}}))}},{key:"getTimeChartTotals",value:function(){var e=this.state,t=e.primaryData,r=e.secondaryData,n=this.props.selectedChart;return{primary:Object(ae.get)(t,["data","totals",n.key],null),secondary:Object(ae.get)(r,["data","totals",n.key],null)}}},{key:"renderChart",value:function(e,t,r,n){var a=this.props,c=a.emptySearchResults,o=a.filterParam,s=a.interactiveLegend,i=a.itemsLabel,l=a.legendPosition,u=a.path,p=a.query,d=a.selectedChart,m=a.showHeaderControls,b=this.state.primaryData,h=Object(W.getIntervalForQuery)(p),y=Object(W.getAllowedIntervalsForQuery)(p),g=Object(W.getDateFormatsForInterval)(h,b.data.intervals.length),v=c?Object(j.__)("No data for the current search","wc_pos"):Object(j.__)("No data for the selected date range","wc_pos");return d.type="number",Object(f.createElement)(N.Chart,{allowedIntervals:y,data:r,dateParser:"%Y-%m-%dT%H:%M:%S",emptyMessage:v,filterParam:o,interactiveLegend:s,interval:h,isRequesting:t,itemsLabel:i,legendPosition:l,legendTotals:n,mode:e,path:u,query:p,screenReaderFormat:g.screenReaderFormat,showHeaderControls:m,title:d.label,tooltipLabelFormat:g.tooltipLabelFormat,tooltipTitle:"time-comparison"===e&&d.label||null,tooltipValueFormat:Se(d.type),chartType:Object(W.getChartTypeForQuery)(p),valueType:d.type,xFormat:g.xFormat,x2Format:g.x2Format})}},{key:"renderItemComparison",value:function(){var e=this.props.isRequesting,t=this.state.primaryData;if(t.isError)return Object(f.createElement)(ie,{isError:!0});var r=e||t.isRequesting,n=this.getItemChartData();return this.renderChart("item-comparison",r,n)}},{key:"renderTimeComparison",value:function(){var e=this.state,t=e.isChartRequesting,r=e.primaryData,n=e.secondaryData;if(!r||r.isError||n.isError)return Object(f.createElement)(ie,{isError:!0});var a=t||r.isRequesting||n.isRequesting,c=this.getTimeChartData(),o=this.getTimeChartTotals();return this.renderChart("time-comparison",a,c,o)}},{key:"render",value:function(){return"item-comparison"===this.props.mode?this.renderItemComparison():this.renderTimeComparison()}}]),r}(f.Component);De.propTypes={filters:F.a.array,isRequesting:F.a.bool,itemsLabel:F.a.string,limitProperties:F.a.array,mode:F.a.string,path:F.a.string.isRequired,primaryData:F.a.object,query:F.a.object.isRequired,secondaryData:F.a.object,selectedChart:F.a.shape({label:F.a.string.isRequired,order:F.a.oneOf(["asc","desc"]),orderby:F.a.string}).isRequired},De.defaultProps={isRequesting:!1,primaryData:{data:{intervals:[]},isError:!1,isRequesting:!1},secondaryData:{data:{intervals:[]},isError:!1,isRequesting:!1}};var Te=De;r(1159);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Pe=function(e){l()(r,e);var t=Ne(r);function r(){var e,n;c()(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return p()(n,(e=n=t.call.apply(t,[this].concat(o)),n.handleChartClick=function(){var e=n.props.selectedChart;Object(Z.a)().push(n.getChartPath(e))},e))}return s()(r,[{key:"getChartPath",value:function(e){return Object(Z.b)({chart:e.key},"/analytics/"+e.endpoint,Object(Z.c)())}},{key:"render",value:function(){var e=this.props,t=e.charts,r=e.endpoint,n=e.path,a=e.query,c=e.selectedChart,o=e.filters;return c?Object(f.createElement)("div",{role:"presentation",className:"woocommerce-dashboard__chart-block-wrapper"},Object(f.createElement)($.a,{className:"woocommerce-dashboard__chart-block"},Object(f.createElement)(J.a,null,Object(f.createElement)(re,{as:"h3",size:16,weight:600,color:"#23282d"},c.label)),Object(f.createElement)(X.a,{size:null},Object(f.createElement)(Te,{charts:t,endpoint:r,query:a,interactiveLegend:!1,legendPosition:"bottom",path:n,selectedChart:c,showHeaderControls:!1,filters:o})))):null}}]),r}(f.Component);Pe.propTypes={charts:F.a.array,endpoint:F.a.string.isRequired,path:F.a.string.isRequired,query:F.a.object.isRequired,selectedChart:F.a.object.isRequired};var qe=Pe,Ae=r(6),Ie=r(214),Be=r.n(Ie);function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.identity;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a="function"==typeof e?e(n):e,c=Object(ce.getIdsFromQuery)(r);if(c.length<1)return Promise.resolve([]);var o={include:c.join(","),per_page:c.length};return Be()({path:Object(be.addQueryArgs)(a,o)}).then((function(e){return e.map(t)}))}}Me(ye+"/products/categories",(function(e){return{id:e.id,label:e.name}}));var Le=Me(ye+"/coupons",(function(e){return{id:e.id,label:e.code}})),Ue=(Me(ye+"/customers",(function(e){return{id:e.id,label:e.name}})),Me(ye+"/products",(function(e){return{id:e.id,label:e.name}}))),Qe=Me((function(e){return ye+"/products/".concat(e.products,"/variations")}),(function(e){return{id:e.id,label:e.attributes.reduce((function(e,t,r,n){return e+"".concat(t.option).concat(n.length===r+1?"":", ")}),"")}})),Ve={pending:"Pending payment",processing:"Processing","on-hold":"On hold",completed:"Completed",cancelled:"Cancelled",refunded:"Refunded",failed:"Failed"},Ke=Object(Ae.applyFilters)("woocommerce_admin_orders_report_charts",[{key:"orders_count",label:Object(j.__)("Orders Count","wc_pos"),type:"number"},{key:"net_revenue",label:Object(j.__)("Net Revenue","wc_pos"),order:"desc",orderby:"net_total",type:"currency"},{key:"avg_order_value",label:Object(j.__)("Average Order Value","wc_pos"),type:"currency"},{key:"avg_items_per_order",label:Object(j.__)("Average Items Per Order","wc_pos"),order:"desc",orderby:"num_items_sold",type:"average"}]),He=(Object(Ae.applyFilters)("woocommerce_admin_orders_report_filters",[{label:Object(j.__)("Show","wc_pos"),staticParams:["chart"],param:"filter",showFilters:function(){return!0},filters:[{label:Object(j.__)("All Orders","wc_pos"),value:"all"},{label:Object(j.__)("Advanced Filters","wc_pos"),value:"advanced"}]}]),Object(Ae.applyFilters)("woocommerce_admin_orders_report_advanced_filters",{title:Object(j._x)("Orders Match {{select /}} Filters","A sentence describing filters for Orders. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","wc_pos"),filters:{status:{labels:{add:Object(j.__)("Order Status","wc_pos"),remove:Object(j.__)("Remove order status filter","wc_pos"),rule:Object(j.__)("Select an order status filter match","wc_pos"),title:Object(j.__)("{{title}}Order Status{{/title}} {{rule /}} {{filter /}}","wc_pos"),filter:Object(j.__)("Select an order status","wc_pos")},rules:[{value:"is",label:Object(j._x)("Is","order status","wc_pos")},{value:"is_not",label:Object(j._x)("Is Not","order status","wc_pos")}],input:{component:"SelectControl",options:Object.keys(Ve).map((function(e){return{value:e,label:Ve[e]}}))}},product:{labels:{add:Object(j.__)("Products","wc_pos"),placeholder:Object(j.__)("Search products","wc_pos"),remove:Object(j.__)("Remove products filter","wc_pos"),rule:Object(j.__)("Select a product filter match","wc_pos"),title:Object(j.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","wc_pos"),filter:Object(j.__)("Select products","wc_pos")},rules:[{value:"includes",label:Object(j._x)("Includes","products","wc_pos")},{value:"excludes",label:Object(j._x)("Excludes","products","wc_pos")}],input:{component:"Search",type:"products",getLabels:Ue}},coupon:{labels:{add:Object(j.__)("Coupon Codes","wc_pos"),placeholder:Object(j.__)("Search coupons","wc_pos"),remove:Object(j.__)("Remove coupon filter","wc_pos"),rule:Object(j.__)("Select a coupon filter match","wc_pos"),title:Object(j.__)("{{title}}Coupon Code{{/title}} {{rule /}} {{filter /}}","wc_pos"),filter:Object(j.__)("Select coupon codes","wc_pos")},rules:[{value:"includes",label:Object(j._x)("Includes","coupon code","wc_pos")},{value:"excludes",label:Object(j._x)("Excludes","coupon code","wc_pos")}],input:{component:"Search",type:"coupons",getLabels:Le}},customer_type:{labels:{add:Object(j.__)("Customer Type","wc_pos"),remove:Object(j.__)("Remove customer filter","wc_pos"),rule:Object(j.__)("Select a customer filter match","wc_pos"),title:Object(j.__)("{{title}}Customer is{{/title}} {{filter /}}","wc_pos"),filter:Object(j.__)("Select a customer type","wc_pos")},input:{component:"SelectControl",options:[{value:"new",label:Object(j.__)("New","wc_pos")},{value:"returning",label:Object(j.__)("Returning","wc_pos")}],defaultOption:"new"}},refunds:{labels:{add:Object(j.__)("Refunds","wc_pos"),remove:Object(j.__)("Remove refunds filter","wc_pos"),rule:Object(j.__)("Select a refund filter match","wc_pos"),title:Object(j.__)("{{title}}Refunds{{/title}} {{filter /}}","wc_pos"),filter:Object(j.__)("Select a refund type","wc_pos")},input:{component:"SelectControl",options:[{value:"all",label:Object(j.__)("All","wc_pos")},{value:"partial",label:Object(j.__)("Partially refunded","wc_pos")},{value:"full",label:Object(j.__)("Fully refunded","wc_pos")},{value:"none",label:Object(j.__)("None","wc_pos")}],defaultOption:"all"}}}}),Object(Ae.applyFilters)("woocommerce_admin_products_report_charts",[{key:"items_sold",label:Object(j.__)("Items Sold","wc_pos"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:Object(j.__)("Net Revenue","wc_pos"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:Object(j.__)("Orders Count","wc_pos"),order:"desc",orderby:"orders_count",type:"number"}])),Ye={label:Object(j.__)("Show","wc_pos"),staticParams:[],param:"filter",showFilters:function(){return!0},filters:[{label:Object(j.__)("All Products","wc_pos"),value:"all"},{label:Object(j.__)("Single Product","wc_pos"),value:"select_product",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_product",chartMode:"item-comparison",path:["select_product"],settings:{type:"products",param:"products",getLabels:Ue,labels:{placeholder:Object(j.__)("Type to search for a product","wc_pos"),button:Object(j.__)("Single Product","wc_pos")}}}]},{label:Object(j.__)("Comparison","wc_pos"),value:"compare-products",chartMode:"item-comparison",settings:{type:"products",param:"products",getLabels:Ue,labels:{helpText:Object(j.__)("Check at least two products below to compare","wc_pos"),placeholder:Object(j.__)("Search for products to compare","wc_pos"),title:Object(j.__)("Compare Products","wc_pos"),update:Object(j.__)("Compare","wc_pos")}}}]},ze={showFilters:function(e){return"single_product"===e.filter&&!!e.products&&e["is-variable"]},staticParams:["filter","products"],param:"filter-variations",filters:[{label:Object(j.__)("All Variations","wc_pos"),chartMode:"item-comparison",value:"all"},{label:Object(j.__)("Comparison","wc_pos"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:Qe,labels:{helpText:Object(j.__)("Check at least two variations below to compare","wc_pos"),placeholder:Object(j.__)("Search for variations to compare","wc_pos"),title:Object(j.__)("Compare Variations","wc_pos"),update:Object(j.__)("Compare","wc_pos")}}}]},Ge=(Object(Ae.applyFilters)("woocommerce_admin_products_report_filters",[Ye,ze]),Object(Ae.applyFilters)("woocommerce_admin_products_report_advanced_filters",{}),Object(Ae.applyFilters)("woocommerce_admin_revenue_report_charts",[{key:"gross_revenue",label:Object(j.__)("Gross Revenue","wc_pos"),order:"desc",orderby:"gross_revenue",type:"currency"},{key:"coupons",label:Object(j.__)("Coupons","wc_pos"),order:"desc",orderby:"coupons",type:"currency"},{key:"taxes",label:Object(j.__)("Taxes","wc_pos"),order:"desc",orderby:"taxes",type:"currency"},{key:"net_revenue",label:Object(j.__)("Net Revenue","wc_pos"),orderby:"net_revenue",type:"currency"},{key:"refunds",label:Object(j.__)("Refunds","wc_pos"),orderby:"refunds",type:"currency"}])),We=(Object(Ae.applyFilters)("woocommerce_admin_revenue_report_filters",[]),Object(Ae.applyFilters)("woocommerce_admin_revenue_report_advanced_filters",{}),Object(Ae.applyFilters)("woocommerce_admin_coupon_report_charts",[{key:"orders_count",label:Object(j.__)("Discounted Orders","wc_pos"),order:"desc",orderby:"orders_count",type:"number"},{key:"amount",label:Object(j.__)("Amount","wc_pos"),order:"desc",orderby:"amount",type:"currency"}]));Object(Ae.applyFilters)("woocommerce_admin_coupon_report_filters",[{label:Object(j.__)("Show","wc_pos"),staticParams:[],param:"filter",showFilters:function(){return!0},filters:[{label:Object(j.__)("All Coupons","wc_pos"),value:"all"},{label:Object(j.__)("Single Coupon","wc_pos"),value:"select_coupon",chartMode:"item-comparison",subFilters:[{component:"Search",value:"single_coupon",chartMode:"item-comparison",path:["select_coupon"],settings:{type:"coupons",param:"coupons",getLabels:Le,labels:{placeholder:Object(j.__)("Type to search for a coupon","wc_pos"),button:Object(j.__)("Single Coupon","wc_pos")}}}]},{label:Object(j.__)("Comparison","wc_pos"),value:"compare-coupons",settings:{type:"coupons",param:"coupons",getLabels:Le,labels:{title:Object(j.__)("Compare Coupon Codes","wc_pos"),update:Object(j.__)("Compare","wc_pos"),helpText:Object(j.__)("Check at least two coupon codes below to compare","wc_pos")}}}]}]),Object(Ae.applyFilters)("woocommerce_admin_coupon_report_advanced_filters",{});function $e(e){return[e.country,e.state,e.name||Object(j.__)("TAX","wc_pos"),e.priority].map((function(e){return e.toString().toUpperCase().trim()})).filter(Boolean).join("-")}var Je=Object(Ae.applyFilters)("woocommerce_admin_taxes_report_charts",[{key:"total_tax",label:Object(j.__)("Total Tax","wc_pos"),order:"desc",orderby:"total_tax",type:"currency"},{key:"order_tax",label:Object(j.__)("Order Tax","wc_pos"),order:"desc",orderby:"order_tax",type:"currency"},{key:"shipping_tax",label:Object(j.__)("Shipping Tax","wc_pos"),order:"desc",orderby:"shipping_tax",type:"currency"},{key:"orders_count",label:Object(j.__)("Orders Count","wc_pos"),order:"desc",orderby:"orders_count",type:"number"}]),Xe=(Object(Ae.applyFilters)("woocommerce_admin_taxes_report_filters",[{label:Object(j.__)("Show","wc_pos"),staticParams:["chart"],param:"filter",showFilters:function(){return!0},filters:[{label:Object(j.__)("All Taxes","wc_pos"),value:"all"},{label:Object(j.__)("Comparison","wc_pos"),value:"compare-taxes",chartMode:"item-comparison",settings:{type:"taxes",param:"taxes",getLabels:Me(ye+"/taxes",(function(e){return{id:e.id,label:$e(e)}})),labels:{helpText:Object(j.__)("Check at least two tax codes below to compare","wc_pos"),placeholder:Object(j.__)("Search for tax codes to compare","wc_pos"),title:Object(j.__)("Compare Tax Codes","wc_pos"),update:Object(j.__)("Compare","wc_pos")}}}]}]),Object(Ae.applyFilters)("woocommerce_admin_taxes_report_advanced_filters",{}),Object(Ae.applyFilters)("woocommerce_admin_payment_report_charts",[{key:"cash_amount",label:Object(j.__)("Cash Payment","wc_pos"),order:"desc",orderby:"cash_amount",type:"currency"},{key:"card_amount",label:Object(j.__)("Cash Payment","wc_pos"),order:"desc",orderby:"cash_amount",type:"currency"}]));Object(Ae.applyFilters)("woocommerce_admin_payment_report_filters",[]),Object(Ae.applyFilters)("woocommerce_admin_payment_report_advanced_filters",{});function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt={revenue:Ge,orders:Ke,products:He,coupons:We,taxes:Je,payments:Xe},rt=[{label:Object(j.__)("Gross Revenue","wc_pos"),report:"revenue",key:"gross_revenue"},{label:Object(j.__)("Net Revenue","wc_pos"),report:"revenue",key:"net_revenue"},{label:Object(j.__)("Orders","wc_pos"),report:"orders",key:"orders_count"},{label:Object(j.__)("Average Order Value","wc_pos"),report:"orders",key:"avg_order_value"},{label:Object(j.__)("Items Sold","wc_pos"),report:"products",key:"items_sold"},{label:Object(j.__)("Refunds","wc_pos"),report:"revenue",key:"refunds"},{label:Object(j.__)("Discounted Orders","wc_pos"),report:"coupons",key:"orders_count"},{label:Object(j.__)("Gross discounted","wc_pos"),report:"coupons",key:"amount"},{label:Object(j.__)("Total Tax","wc_pos"),report:"taxes",key:"total_tax"},{label:Object(j.__)("Order Tax","wc_pos"),report:"taxes",key:"order_tax"},{label:Object(j.__)("Cash Payments","wc_pos"),report:"payments",key:"cash_amount"},{label:Object(j.__)("Other Payments","wc_pos"),report:"payments",key:"card_amount"}],nt=Object(Ae.applyFilters)("woocommerce_admin_dashboard_charts_filter",rt.map((function(e){return et(et({},tt[e.report].find((function(t){return t.key===e.key}))),{},{label:e.label,endpoint:e.report})}))),at=(r(1160),["updateUserPreferences"]);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var st=function(e){var t=e.controls,r=e.hiddenBlocks,n=e.isFirst,a=e.isLast,c=e.onMove,o=e.onRemove,s=e.onTitleBlur,i=e.onTitleChange,l=e.onToggleHiddenBlock,u=e.path,p=e.title,d=e.titleInput,m=e.filters,b=Object(G.useUserPreferences)(),h=b.updateUserPreferences,y=_()(b,at),g=Object(f.useState)(y.dashboard_chart_type||"line"),O=v()(g,2),w=O[0],E=O[1],S=Object(f.useState)(y.dashboard_chart_interval||"day"),x=v()(S,2),F=x[0],P=x[1],q=ot(ot({},e.query),{},{chartType:w,interval:F}),A=function(e){return function(){E(e),h({dashboard_chart_type:e})}};return Object(f.createElement)("div",{className:"woocommerce-dashboard__dashboard-charts"},Object(f.createElement)(z,{title:p||Object(j.__)("Charts","woocommerce-admin"),menu:Object(f.createElement)(N.EllipsisMenu,{label:Object(j.__)("Choose which charts to display","woocommerce-admin"),renderContent:function(e){var u=e.onToggle;return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(N.MenuTitle,null,Object(j.__)("Charts","woocommerce-admin")),function(e){var t=e.hiddenBlocks,r=e.onToggleHiddenBlock;return nt.map((function(e){var n=e.endpoint+"_"+e.key,a=!t.includes(n);return Object(f.createElement)(N.MenuItem,{checked:a,isCheckbox:!0,isClickable:!0,key:e.endpoint+"_"+e.key,onInvoke:function(){r(n)()}},e.label)}))}({hiddenBlocks:r,onToggleHiddenBlock:l}),Object(f.createElement)(t,{onToggle:u,onMove:c,onRemove:o,isFirst:n,isLast:a,onTitleBlur:s,onTitleChange:i,titleInput:d}))}}),className:"has-interval-select"},function(e){var t=e.chartInterval,r=e.setInterval,n=e.query,a=Object(W.getAllowedIntervalsForQuery)(n);if(!a||a.length<1)return null;var c={hour:Object(j.__)("By hour","woocommerce-admin"),day:Object(j.__)("By day","woocommerce-admin"),week:Object(j.__)("By week","woocommerce-admin"),month:Object(j.__)("By month","woocommerce-admin"),quarter:Object(j.__)("By quarter","woocommerce-admin"),year:Object(j.__)("By year","woocommerce-admin")};return Object(f.createElement)(D.a,{className:"woocommerce-chart__interval-select",value:t,options:a.map((function(e){return{value:e,label:c[e]}})),"aria-label":"Chart period",onChange:r})}({chartInterval:F,setInterval:function(e){P(e),h({dashboard_chart_interval:e})},query:q}),Object(f.createElement)(T.a,{className:k()("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":!q.chartType||"line"===q.chartType}),title:Object(j.__)("Line chart","woocommerce-admin"),"aria-checked":"line"===q.chartType,role:"menuitemradio",tabIndex:"line"===q.chartType?0:-1,onClick:A("line")},Object(f.createElement)(C.a,null)),Object(f.createElement)(T.a,{className:k()("woocommerce-chart__type-button",{"woocommerce-chart__type-button-selected":"bar"===q.chartType}),title:Object(j.__)("Bar chart","woocommerce-admin"),"aria-checked":"bar"===q.chartType,role:"menuitemradio",tabIndex:"bar"===q.chartType?0:-1,onClick:A("bar")},Object(f.createElement)(R.a,null))),function(e){var t=e.hiddenBlocks,r=e.path,n=e.query,a=e.filters,c=nt.reduce((function(e,t){return void 0===e[t.endpoint]&&(e[t.endpoint]=[]),e[t.endpoint].push(t),e}),{});return Object(f.createElement)("div",{className:"woocommerce-dashboard__columns"},nt.map((function(e){return t.includes(e.endpoint+"_"+e.key)?null:Object(f.createElement)(qe,{charts:c[e.endpoint],endpoint:e.endpoint,key:e.endpoint+"_"+e.key,path:r,query:n,selectedChart:e,filters:a})})))}({hiddenBlocks:r,path:u,query:q,filters:m}))};st.propTypes={path:F.a.string.isRequired,query:F.a.object.isRequired};var it=st,lt=r(52),ut=r(10),pt=r.n(ut),dt=r(50),mt=r.n(dt),ft=r(309),bt=r.n(ft),ht=r(1221),yt=r(1164),gt=r.n(yt),vt=r(251),Ot=r.n(vt),_t=["children","href","type"];function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kt(e){var t=e.children,r=e.href,n=e.type,a=wt(wt({},_()(e,_t)),{},{"data-link-type":n});return"wc-admin"===n&&(a.onClick=Object(ae.partial)((function(e,t){t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||(t.preventDefault(),!1!==(!e||e(t))&&Object(ce.getHistory)().push(t.target.closest("a").getAttribute("href")))}),a.onClick)),Object(f.createElement)("a",mt()({href:r},a),t)}kt.propTypes={href:F.a.string.isRequired,type:F.a.oneOf(["wp-admin","wc-admin","external"]).isRequired},kt.defaultProps={type:"wc-admin"},kt.contextTypes={router:F.a.object};var Et=kt,Ct=r(1169),St=r.n(Ct),Rt=r(661);function xt(e){var t="";return function e(r){if(Object(ae.isString)(r)||Object(ae.isNumber)(r))t+=r;else if(Object(ae.isArray)(r))r.forEach(e);else if(r&&r.props){var n=r.props.children;Object(ae.isArray)(n)?n.forEach(e):e(n)}}(e),t}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Dt=function(e){l()(r,e);var t=Ft(r);function r(e){var n,a=e.filter,o=e.config,s=e.onFilterChange;c()(this,r),n=t.apply(this,arguments);var i=o.input.options;return n.state={options:i},n.updateOptions=n.updateOptions.bind(pt()(n)),!i&&o.input.getOptions&&o.input.getOptions().then(n.updateOptions).then((function(e){if(!a.value){var t=Object(ce.getDefaultOptionValue)(o,e);s("value",t)}})),n}return s()(r,[{key:"updateOptions",value:function(e){return this.setState({options:e}),e}},{key:"getScreenReaderText",value:function(e,t){if(""===e.value)return"";var r=Object(ae.find)(t.rules,{value:e.rule})||{},n=Object(ae.find)(t.input.options,{value:e.value})||{};return xt(Ot()({mixedString:t.labels.title,components:{filter:Object(f.createElement)(f.Fragment,null,n.label),rule:Object(f.createElement)(f.Fragment,null,r.label),title:Object(f.createElement)(f.Fragment,null)}}))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.config,n=e.filter,a=e.onFilterChange,c=e.isEnglish,o=this.state.options,s=n.rule,i=n.value,l=r.labels,u=r.rules,p=Ot()({mixedString:l.title,components:{title:Object(f.createElement)("span",{className:t}),rule:Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__rule"),options:u,value:s,onChange:Object(ae.partial)(a,"rule"),"aria-label":l.rule}),filter:o?Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__input"),options:o,value:i,onChange:Object(ae.partial)(a,"value"),"aria-label":l.filter}):Object(f.createElement)(Rt.a,null)}}),d=this.getScreenReaderText(n,r);return Object(f.createElement)("fieldset",{className:"woocommerce-filters-advanced__line-item",tabIndex:"0"},Object(f.createElement)("legend",{className:"screen-reader-text"},l.add||""),Object(f.createElement)("div",{className:k()("woocommerce-filters-advanced__fieldset",{"is-english":c})},p),d&&Object(f.createElement)("span",{className:"screen-reader-text"},d))}}]),r}(f.Component);Dt.propTypes={config:F.a.shape({labels:F.a.shape({rule:F.a.string,title:F.a.string,filter:F.a.string}),rules:F.a.arrayOf(F.a.object),input:F.a.object}).isRequired,filter:F.a.shape({key:F.a.string,rule:F.a.string,value:F.a.string}).isRequired,onFilterChange:F.a.func.isRequired};var Tt=Dt,Nt=r(56),Pt=r.n(Nt),qt=r(656),At=r(632),It=r(527),Bt=r(529),Mt=r(213);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Ut=function(e){l()(r,e);var t=Lt(r);function r(){var e;return c()(this,r),(e=t.apply(this,arguments)).handleKeyDown=e.handleKeyDown.bind(pt()(e)),e.select=e.select.bind(pt()(e)),e.optionRefs={},e.listbox=Object(f.createRef)(),e}return s()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.options,n=t.selectedIndex;Object(ae.isEqual)(r,e.options)||(this.optionRefs={}),n!==e.selectedIndex&&this.scrollToOption(n)}},{key:"getOptionRef",value:function(e){return this.optionRefs.hasOwnProperty(e)||(this.optionRefs[e]=Object(f.createRef)()),this.optionRefs[e]}},{key:"select",value:function(e){var t=this.props.onSelect;e.isDisabled||t(e)}},{key:"scrollToOption",value:function(e){var t=this.listbox.current;if(!(t.scrollHeight<=t.clientHeight)&&this.optionRefs[e]){var r=this.optionRefs[e].current,n=t.clientHeight+t.scrollTop,a=r.offsetTop+r.offsetHeight;a>n?t.scrollTop=a-t.clientHeight:r.offsetTop<t.scrollTop&&(t.scrollTop=r.offsetTop)}}},{key:"handleKeyDown",value:function(e){var t=this.props,r=t.decrementSelectedIndex,n=t.incrementSelectedIndex,a=t.options,c=t.onSearch,o=t.selectedIndex,s=t.setExpanded;if(0!==a.length)switch(e.keyCode){case Mt.UP:r(),e.preventDefault(),e.stopPropagation();break;case Mt.DOWN:n(),e.preventDefault(),e.stopPropagation();break;case Mt.ENTER:a[o]&&this.select(a[o]),e.preventDefault(),e.stopPropagation();break;case Mt.LEFT:case Mt.RIGHT:s(!1);break;case Mt.ESCAPE:return s(!1),void c(null);case Mt.TAB:a[o]&&this.select(a[o]),s(!1)}}},{key:"toggleKeyEvents",value:function(e){this.props.node[e?"addEventListener":"removeEventListener"]("keydown",this.handleKeyDown,!0)}},{key:"componentDidMount",value:function(){var e=this.props.selectedIndex;e>-1&&this.scrollToOption(e),this.toggleKeyEvents(!0)}},{key:"componentWillUnmount",value:function(){this.toggleKeyEvents(!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.instanceId,n=t.listboxId,a=t.options,c=t.selectedIndex,o=t.staticList,s=k()("woocommerce-select-control__listbox",{"is-static":o});return Object(f.createElement)("div",{ref:this.listbox,id:n,role:"listbox",className:s,tabIndex:"-1"},a.map((function(t,n){return Object(f.createElement)(T.a,{ref:e.getOptionRef(n),key:t.key,id:"woocommerce-select-control__option-".concat(r,"-").concat(t.key),role:"option","aria-selected":n===c,disabled:t.isDisabled,className:k()("woocommerce-select-control__option",{"is-selected":n===c}),onClick:function(){return e.select(t)},tabIndex:"-1"},t.label)})))}}]),r}(f.Component);Ut.propTypes={instanceId:F.a.number,listboxId:F.a.string,node:F.a.instanceOf(Element).isRequired,onSelect:F.a.func,options:F.a.arrayOf(F.a.shape({isDisabled:F.a.bool,key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,keywords:F.a.arrayOf(F.a.oneOfType([F.a.string,F.a.number])),label:F.a.oneOfType([F.a.string,F.a.object]),value:F.a.any})).isRequired,selectedIndex:F.a.number,staticList:F.a.bool};var Qt=Ut,Vt=r(1292),Kt=r(379),Ht=r(215),Yt=r(531),zt=function(e){var t=e.id,r=e.instanceId,n=e.isVisible,a=e.label,c=e.popoverContents,o=e.remove,s=e.screenReaderLabel,i=e.setState,l=e.className;if(s=s||a,!a)return null;a=Object(Ht.decodeEntities)(a);var u=k()("woocommerce-tag",l,{"has-remove":!!o}),p="woocommerce-tag__label-".concat(r),d=Object(f.createElement)(f.Fragment,null,Object(f.createElement)("span",{className:"screen-reader-text"},s),Object(f.createElement)("span",{"aria-hidden":"true"},a));return Object(f.createElement)("span",{className:u},c?Object(f.createElement)(T.a,{className:"woocommerce-tag__text",id:p,onClick:function(){return i((function(){return{isVisible:!0}}))}},d):Object(f.createElement)("span",{className:"woocommerce-tag__text",id:p},d),c&&n&&Object(f.createElement)(Kt.a,{onClose:function(){return i((function(){return{isVisible:!1}}))}},c),o&&Object(f.createElement)(T.a,{className:"woocommerce-tag__remove",onClick:o(t),label:Object(j.sprintf)(Object(j.__)("Remove %s","wc_pos"),a),"aria-describedby":p},Object(f.createElement)(A.a,{icon:Vt.a,size:20,className:"clear-icon"})))};zt.propTypes={id:F.a.oneOfType([F.a.number,F.a.string]),label:F.a.string.isRequired,popoverContents:F.a.node,remove:F.a.func,screenReaderLabel:F.a.string};var Gt=Object(Yt.a)({isVisible:!1})(Object(Bt.a)(zt));function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var $t=function(e){l()(r,e);var t=Wt(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).removeAll=n.removeAll.bind(pt()(n)),n.removeResult=n.removeResult.bind(pt()(n)),n}return s()(r,[{key:"removeAll",value:function(){(0,this.props.onChange)([])}},{key:"removeResult",value:function(e){var t=this;return function(){var r=t.props,n=r.selected,a=r.onChange,c=Object(ae.findIndex)(n,{key:e});a([].concat(bt()(n.slice(0,c)),bt()(n.slice(c+1))))}}},{key:"render",value:function(){var e=this,t=this.props,r=t.selected,n=t.showClearButton;return r.length?Object(f.createElement)(f.Fragment,null,Object(f.createElement)("div",{className:"woocommerce-select-control__tags"},r.map((function(t,n){if(!t.label)return null;var a=Object(j.sprintf)(Object(j.__)("%1$s (%2$s of %3$s)","wc_pos"),t.label,n+1,r.length);return Object(f.createElement)(Gt,{key:t.key,id:t.key,label:t.label,remove:e.removeResult,screenReaderLabel:a})}))),n&&Object(f.createElement)(T.a,{className:"woocommerce-select-control__clear",isLink:!0,onClick:this.removeAll},Object(f.createElement)(A.a,{icon:Vt.a,className:"clear-icon"}),Object(f.createElement)("span",{className:"screen-reader-text"},Object(j.__)("Clear all","wc_pos")))):null}}]),r}(f.Component);$t.propTypes={onChange:F.a.func,onSelect:F.a.func,selected:F.a.arrayOf(F.a.shape({key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,label:F.a.string})),showClearButton:F.a.bool};var Jt=$t,Xt=r(1293);function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var er=function(e){l()(r,e);var t=Zt(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).state={isActive:!1},n.input=Object(f.createRef)(),n.updateSearch=n.updateSearch.bind(pt()(n)),n.onFocus=n.onFocus.bind(pt()(n)),n.onBlur=n.onBlur.bind(pt()(n)),n.onKeyDown=n.onKeyDown.bind(pt()(n)),n}return s()(r,[{key:"updateSearch",value:function(e){return function(t){e(t.target.value)}}},{key:"onFocus",value:function(e){var t=this,r=this.props,n=r.isSearchable,a=r.setExpanded,c=r.showAllOnFocus,o=r.updateSearchOptions;return function(r){t.setState({isActive:!0}),n&&c?(r.target.select(),o("")):n?e(r.target.value):a(!0)}}},{key:"onBlur",value:function(){var e=this.props.onBlur;"function"==typeof e&&e(),this.setState({isActive:!1})}},{key:"onKeyDown",value:function(e){var t=this.props,r=t.decrementSelectedIndex,n=t.incrementSelectedIndex,a=t.selected,c=t.onChange,o=t.query,s=t.setExpanded;Mt.BACKSPACE===e.keyCode&&!o&&a.length&&c(bt()(a.slice(0,-1))),Mt.DOWN===e.keyCode&&(n(),s(!0),e.preventDefault(),e.stopPropagation()),Mt.UP===e.keyCode&&(r(),s(!0),e.preventDefault(),e.stopPropagation())}},{key:"renderButton",value:function(){var e=this.props,t=e.multiple,r=e.selected;return t||!r.length?null:Object(f.createElement)("div",{className:"woocommerce-select-control__control-value"},r[0].label)}},{key:"renderInput",value:function(){var e=this.props,t=e.activeId,r=e.disabled,n=e.hasTags,a=e.inlineTags,c=e.instanceId,o=e.isExpanded,s=e.isSearchable,i=e.listboxId,l=e.onSearch,u=e.placeholder,p=e.searchInputType,d=e.autoComplete,m=this.state.isActive;return Object(f.createElement)("input",{autoComplete:d||"off",className:"woocommerce-select-control__control-input",id:"woocommerce-select-control-".concat(c,"__control-input"),ref:this.input,type:s?p:"button",value:this.getInputValue(),placeholder:m?u:"",onChange:this.updateSearch(l),onFocus:this.onFocus(l),onBlur:this.onBlur,onKeyDown:this.onKeyDown,role:"combobox","aria-autocomplete":"list","aria-expanded":o,"aria-haspopup":"true","aria-owns":i,"aria-controls":i,"aria-activedescendant":t,"aria-describedby":n&&a?"search-inline-input-".concat(c):null,disabled:r})}},{key:"getInputValue",value:function(){var e=this.props,t=e.inlineTags,r=e.isFocused,n=e.isSearchable,a=e.multiple,c=e.query,o=e.selected,s=o.length?o[0].label:"";return a||r||t?n&&r&&c?c:"":s}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,n=t.disabled,a=t.hasTags,c=t.help,o=t.inlineTags,s=t.instanceId,i=t.isSearchable,l=t.label,u=t.query,p=this.state.isActive;return Object(f.createElement)("div",{className:k()("components-base-control","woocommerce-select-control__control",r,{empty:!u||0===u.length,"is-active":p,"has-tags":o&&a,"with-value":this.getInputValue().length,"has-error":!!c,"is-disabled":n}),onClick:function(){e.input.current.focus()}},i&&Object(f.createElement)(A.a,{className:"woocommerce-select-control__control-icon",icon:Xt.a}),o&&Object(f.createElement)(Jt,this.props),Object(f.createElement)("div",{className:"components-base-control__field"},!!l&&Object(f.createElement)("label",{htmlFor:"woocommerce-select-control-".concat(s,"__control-input"),className:"components-base-control__label"},l),this.renderInput(),o&&Object(f.createElement)("span",{id:"search-inline-input-".concat(s),className:"screen-reader-text"},Object(j.__)("Move backward for selected items","wc_pos")),!!c&&Object(f.createElement)("p",{id:"woocommerce-select-control-".concat(s,"__help"),className:"components-base-control__help"},c)))}}]),r}(f.Component);er.propTypes={hasTags:F.a.bool,help:F.a.oneOfType([F.a.string,F.a.node]),inlineTags:F.a.bool,isSearchable:F.a.bool,instanceId:F.a.number,label:F.a.string,listboxId:F.a.string,onBlur:F.a.func,onChange:F.a.func,onSearch:F.a.func,placeholder:F.a.string,query:F.a.string,selected:F.a.arrayOf(F.a.shape({key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,label:F.a.string})),showAllOnFocus:F.a.bool,autoComplete:F.a.string};var tr=er;function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var cr={isExpanded:!1,isFocused:!1,query:""},or=function(e){l()(r,e);var t=ar(r);function r(e){var n;c()(this,r),n=t.call(this,e);var a=e.selected,o=e.options,s=e.excludeSelectedOptions;return n.state=nr(nr({},cr),{},{searchOptions:[],selectedIndex:a&&null!=o&&o.length&&!s?o.findIndex((function(e){return e.key===a})):null}),n.bindNode=n.bindNode.bind(pt()(n)),n.decrementSelectedIndex=n.decrementSelectedIndex.bind(pt()(n)),n.incrementSelectedIndex=n.incrementSelectedIndex.bind(pt()(n)),n.onAutofillChange=n.onAutofillChange.bind(pt()(n)),n.updateSearchOptions=Object(ae.debounce)(n.updateSearchOptions.bind(pt()(n)),e.searchDebounceTime),n.search=n.search.bind(pt()(n)),n.selectOption=n.selectOption.bind(pt()(n)),n.setExpanded=n.setExpanded.bind(pt()(n)),n.setNewValue=n.setNewValue.bind(pt()(n)),n}return s()(r,[{key:"bindNode",value:function(e){this.node=e}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelected(),t=this.props,r=t.multiple,n=t.excludeSelectedOptions,a=nr({},cr);!r&&e.length&&e[0].key&&(a.selectedIndex=n?null:this.props.options.findIndex((function(t){return t.key===e[0].key}))),this.setState(a)}},{key:"handleFocusOutside",value:function(){this.reset()}},{key:"hasMultiple",value:function(){var e=this.props,t=e.multiple,r=e.selected;return!!t&&(Array.isArray(r)?r.some((function(e){return Boolean(e.label)})):Boolean(r))}},{key:"getSelected",value:function(){var e=this.props,t=e.multiple,r=e.options,n=e.selected;if(t||Array.isArray(n))return n;var a=r.find((function(e){return e.key===n}));return a?[a]:[]}},{key:"selectOption",value:function(e){var t=this.props,r=t.multiple,n=t.selected,a=r?[].concat(bt()(n),[e]):[e];this.reset(a),-1===(Array.isArray(n)?n:[{key:n}]).findIndex((function(t){return t.key===e.key}))&&this.setNewValue(a);var c=this.props.excludeSelectedOptions?null:this.getOptions().findIndex((function(t){return t.key===e.key}));this.setState({selectedIndex:c})}},{key:"setNewValue",value:function(e){var t=this.props,r=t.onChange,n=t.selected,a=t.multiple,c=this.state.query;a||Array.isArray(n)?r(e,c):r(e.length>0?e[0].key:"",c)}},{key:"decrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),r=null!==e?(0===e?t.length:e)-1:t.length-1;this.setState({selectedIndex:r})}},{key:"incrementSelectedIndex",value:function(){var e=this.state.selectedIndex,t=this.getOptions(),r=null!==e?(e+1)%t.length:0;this.setState({selectedIndex:r})}},{key:"announce",value:function(e){var t=this.props.debouncedSpeak;t&&(e.length?t(Object(j.sprintf)(Object(j._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length,"wc_pos"),e.length),"assertive"):t(Object(j.__)("No results.","wc_pos"),"assertive"))}},{key:"getOptions",value:function(){var e=this.props,t=e.isSearchable,r=e.options,n=e.excludeSelectedOptions,a=this.state.searchOptions,c=this.getSelected().map((function(e){return e.key})),o=t?a:r;return n?o.filter((function(e){return!c.includes(e.key)})):o}},{key:"getOptionsByQuery",value:function(e,t){for(var r=this.props,n=r.getSearchExpression,a=r.maxResults,c=r.onFilter,o=[],s=n(Object(ae.escapeRegExp)(t?t.trim():"")),i=s?new RegExp(s,"i"):/^$/,l=0;l<e.length;l++){var u=e[l],p=u.keywords,d=void 0===p?[]:p;if("string"==typeof u.label&&(d=[].concat(bt()(d),[u.label])),d.some((function(e){return i.test(e)}))&&(o.push(u),a&&o.length===a))break}return c(o,t)}},{key:"setExpanded",value:function(e){this.setState({isExpanded:e})}},{key:"search",value:function(e){var t=this,r=this.cacheSearchOptions||[],n=null===e||e.length||this.props.hideBeforeSearch?this.getOptionsByQuery(r,e):r;this.setState({query:e,isFocused:!0,searchOptions:n,selectedIndex:(null==e?void 0:e.length)>0?null:this.state.selectedIndex},(function(){t.setState({isExpanded:Boolean(t.getOptions().length)})})),this.updateSearchOptions(e)}},{key:"updateSearchOptions",value:function(e){var t=this,r=this.props,n=r.hideBeforeSearch,a=r.options,c=r.onSearch,o=this.activePromise=Promise.resolve(c(a,e)).then((function(r){if(o===t.activePromise){t.cacheSearchOptions=r;var a=null===e||e.length||n?t.getOptionsByQuery(r,e):r;t.setState({searchOptions:a,selectedIndex:(null==e?void 0:e.length)>0?null:t.state.selectedIndex},(function(){t.setState({isExpanded:Boolean(t.getOptions().length)}),t.announce(a)}))}}))}},{key:"onAutofillChange",value:function(e){var t=this.props.options,r=this.getOptionsByQuery(t,e.target.value);1===r.length&&this.selectOption(r[0])}},{key:"render",value:function(){var e=this.props,t=e.autofill,r=e.children,n=e.className,a=e.disabled,c=e.controlClassName,o=e.inlineTags,s=e.instanceId,i=e.isSearchable,l=e.options,u=this.state,p=u.isExpanded,d=u.isFocused,m=u.selectedIndex,b=this.hasMultiple(),h=(l[m]||{}).key,y=void 0===h?"":h,g=p?"woocommerce-select-control__listbox-".concat(s):null,v=p?"woocommerce-select-control__option-".concat(s,"-").concat(y):null;return Object(f.createElement)("div",{className:k()("woocommerce-select-control",n,{"has-inline-tags":b&&o,"is-focused":d,"is-searchable":i}),ref:this.bindNode},t&&Object(f.createElement)("input",{onChange:this.onAutofillChange,name:t,type:"text",className:"woocommerce-select-control__autofill-input",tabIndex:"-1"}),r,Object(f.createElement)(tr,mt()({},this.props,this.state,{activeId:v,className:c,disabled:a,hasTags:b,isExpanded:p,listboxId:g,onSearch:this.search,selected:this.getSelected(),onChange:this.setNewValue,setExpanded:this.setExpanded,updateSearchOptions:this.updateSearchOptions,decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex})),!o&&b&&Object(f.createElement)(Jt,mt()({},this.props,{selected:this.getSelected()})),p&&Object(f.createElement)(Qt,mt()({},this.props,this.state,{activeId:v,listboxId:g,node:this.node,onSelect:this.selectOption,onSearch:this.search,options:this.getOptions(),decrementSelectedIndex:this.decrementSelectedIndex,incrementSelectedIndex:this.incrementSelectedIndex,setExpanded:this.setExpanded})))}}]),r}(f.Component);or.propTypes={autofill:F.a.string,children:F.a.node,className:F.a.string,controlClassName:F.a.string,disabled:F.a.bool,excludeSelectedOptions:F.a.bool,onFilter:F.a.func,getSearchExpression:F.a.func,help:F.a.oneOfType([F.a.string,F.a.node]),inlineTags:F.a.bool,isSearchable:F.a.bool,label:F.a.string,onChange:F.a.func,onSearch:F.a.func,options:F.a.arrayOf(F.a.shape({isDisabled:F.a.bool,key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,keywords:F.a.arrayOf(F.a.oneOfType([F.a.string,F.a.number])),label:F.a.oneOfType([F.a.string,F.a.object]),value:F.a.any})).isRequired,placeholder:F.a.string,searchDebounceTime:F.a.number,selected:F.a.oneOfType([F.a.string,F.a.arrayOf(F.a.shape({key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,label:F.a.string}))]),maxResults:F.a.number,multiple:F.a.bool,showClearButton:F.a.bool,searchInputType:F.a.oneOf(["text","search","number","email","tel","url"]),hideBeforeSearch:F.a.bool,showAllOnFocus:F.a.bool,staticList:F.a.bool,autoComplete:F.a.string},or.defaultProps={autofill:null,excludeSelectedOptions:!0,getSearchExpression:ae.identity,inlineTags:!1,isSearchable:!1,onChange:ae.noop,onFilter:ae.identity,onSearch:function(e){return Promise.resolve(e)},maxResults:0,multiple:!1,searchDebounceTime:0,searchInputType:"search",selected:[],showAllOnFocus:!1,showClearButton:!1,hideBeforeSearch:!1,staticList:!1,autoComplete:"off"};var sr=Object(It.a)([qt.a,Bt.a,At.a])(or);function ir(e,t){if(!t)return null;var r=e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase());return{suggestionBeforeMatch:Object(Ht.decodeEntities)(e.substring(0,r)),suggestionMatch:Object(Ht.decodeEntities)(e.substring(r,r+t.length)),suggestionAfterMatch:Object(Ht.decodeEntities)(e.substring(r+t.length))}}function lr(e){return[e.country,e.state,e.name||Object(j.__)("TAX","wc_pos"),e.priority].filter(Boolean).map((function(e){return e.toString().toUpperCase().trim()})).join("-")}var ur={name:"attributes",className:"woocommerce-search__product-result",options:function(e){var t=e?{search:e,per_page:10,orderby:"count"}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/products/attributes",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.name]},getFreeTextOptions:function(e){return[{key:"name",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All attributes with names that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e}}]},getOptionLabel:function(e,t){var r=ir(e.name,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.name},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.name}}},pr={name:"categories",className:"woocommerce-search__product-result",options:function(e){var t=e?{search:e,per_page:10,orderby:"count"}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/products/categories",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.name]},getFreeTextOptions:function(e){return[{key:"title",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All categories with titles that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e}}]},getOptionLabel:function(e,t){var r=ir(e.name,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.name},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.name}}},dr=r(1170),mr=r.n(dr),fr=function(e){var t=e.code,r=e.order,n=e.className,a=e.size,c=e.hideFromScreenReader,o=k()("woocommerce-flag",n),s=t||"unknown";r&&r.shipping&&r.shipping.country?s=r.shipping.country:r&&r.billing&&r.billing.country&&(s=r.billing.country);var i={fontSize:a},l=Object(ae.get)(mr.a.countryCode(s),"emoji");return Object(f.createElement)("div",{className:o,style:i,"aria-hidden":c},l&&Object(f.createElement)("span",null,l),!l&&Object(f.createElement)("span",{className:"woocommerce-flag__fallback"},"Invalid country flag"))};fr.propTypes={code:F.a.string,order:F.a.object,className:F.a.string,size:F.a.number};var br=fr,hr=null,yr={name:"countries",className:"woocommerce-search__country-result",isDebounced:!0,options:function(){return hr?Promise.resolve(hr):Be()({path:"/wc-analytics/data/countries"}).then((function(e){return hr=e}))},getOptionIdentifier:function(e){return e.code},getSearchExpression:function(e){return"^"+e},getOptionKeywords:function(e){return[e.code,Object(Ht.decodeEntities)(e.name)]},getOptionLabel:function(e,t){var r=Object(Ht.decodeEntities)(e.name),n=ir(r,t)||{};return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(br,{key:"thumbnail",className:"woocommerce-search__result-thumbnail",code:e.code,size:18,hideFromScreenReader:!0}),Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":r},t?Object(f.createElement)(f.Fragment,null,n.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch):r))},getOptionCompletion:function(e){return{key:e.code,label:Object(Ht.decodeEntities)(e.name)}}},gr={name:"coupons",className:"woocommerce-search__coupon-result",options:function(e){var t=e?{search:e,per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/coupons",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.code]},getFreeTextOptions:function(e){return[{key:"code",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All coupons with codes that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,code:e}}]},getOptionLabel:function(e,t){var r=ir(e.code,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.code},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.code}}},vr={name:"customers",className:"woocommerce-search__customers-result",options:function(e){var t=e?{search:e,searchby:"name",per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/customers",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.name]},getFreeTextOptions:function(e){return[{key:"name",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All customers with names that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e}}]},getOptionLabel:function(e,t){var r=ir(e.name,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.name},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.name}}},Or={name:"download-ips",className:"woocommerce-search__download-ip-result",options:function(e){var t=e?{match:e}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/data/download-ips",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.user_ip_address},getOptionKeywords:function(e){return[e.user_ip_address]},getOptionLabel:function(e,t){var r=ir(e.user_ip_address,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.user_ip_address},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.user_ip_address,label:e.user_ip_address}}},_r={name:"emails",className:"woocommerce-search__emails-result",options:function(e){var t=e?{search:e,searchby:"email",per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/customers",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.email]},getOptionLabel:function(e,t){var r=ir(e.email,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.email},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.email}}},jr={name:"orders",className:"woocommerce-search__order-result",options:function(e){var t=e?{number:e,per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/orders",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return["#"+e.number]},getOptionLabel:function(e,t){var r=ir("#"+e.number,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":"#"+e.number},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:"#"+e.number}}},wr=["product","alt","width","height","className"],kr=function(e){var t=e.product,r=e.alt,n=e.width,a=e.height,c=e.className,o=_()(e,wr),s=Object(ae.get)(t,["images",0])||Object(ae.get)(t,["image"]),i=s&&s.src||!1,l=r||s&&s.alt||"",u=k()("woocommerce-product-image",c,{"is-placeholder":!i});return Object(f.createElement)("img",mt()({className:u,src:i||"data:image/svg+xml;utf8,%3Csvg width='421' height='421' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg'%3E%3Cstyle type='text/css'%3E.st0%7Bfill:url(%23SVGID_1_);stroke:%23717275;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10%7D .st1%7Bfill:%23FFFFFF;%7D .st2%7Bfill:%23717275;%7D .st3%7Bfill:%23DCDDE0;stroke:%23717275;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;%7D%3C/style%3E%3CradialGradient cx='105.8248' cy='287.7805' gradientUnits='userSpaceOnUse' id='SVGID_1_' r='372.6935'%3E%3Cstop offset='0.2613' stop-color='%23DCDDE0'/%3E%3Cstop offset='0.633' stop-color='%23D8DADD'/%3E%3Cstop offset='0.9665' stop-color='%23CECFD3'/%3E%3Cstop offset='1' stop-color='%23CCCED2'/%3E%3C/radialGradient%3E%3Cg class='layer' display='inline'%3E%3Ctitle%3ELayer 2%3C/title%3E%3Crect fill='%23ffffff' height='417.99996' id='svg_7' stroke-dasharray='null' stroke-linecap='null' stroke-linejoin='null' stroke-width='null' width='417.99996' x='1.50002' y='1.5'/%3E%3C/g%3E%3Cg class='layer' display='inline'%3E%3Ctitle%3ELayer 1%3C/title%3E%3Cg id='svg_2'/%3E%3Cg id='svg_6'%3E%3Cpath class='st0' d='m330.44409,336.12693c-0.12194,0.36582 0,0.67068 0.30485,0.79262c1.40232,-0.79262 3.17047,-1.0365 4.63377,-0.48776c0.67068,-1.46329 0.12194,-2.43882 0.06097,-3.90212c-0.91456,-15.66945 -0.73165,-31.9486 -0.73165,-47.73998c0,-16.34012 -0.30485,-32.74121 0.54874,-48.9594c0.79262,-15.9743 1.89009,-31.5218 1.28038,-47.55707c-0.60971,-15.79139 -0.06097,-31.70471 0.73165,-47.37416c0.36582,-8.04812 0.79262,-15.66945 0.36582,-23.77854c-0.48776,-9.08462 -0.36582,-21.88845 -0.36582,-30.97307c0,-1.0365 0.18291,-1.82912 -0.79262,-2.43882c-0.79262,-0.48776 -1.52427,-0.42679 -2.43882,-0.42679c-2.49979,0 -4.87765,-0.36582 -7.37744,-0.36582c-1.52427,0 -2.86562,0 -4.32891,0.30485c-0.79262,0.12194 -1.52427,0.06097 -2.31688,0.06097c-0.85359,0 -1.52427,0.18291 -2.31688,0.36582c-6.88968,1.15844 -15.73042,2.49979 -22.62009,1.76815c-6.88968,-0.73165 -13.71839,-0.67068 -20.54709,-2.01203c-6.46288,-1.28038 -12.92577,-0.42679 -19.38865,-0.42679c-4.146,0 -8.23103,0 -12.37703,0c-3.96309,0 -7.80424,-0.73165 -11.8283,-0.73165c-6.52385,0.06097 -13.10868,0.12194 -19.63253,0.36582c-4.51182,0.18291 -8.84074,0 -13.35256,0.42679c-6.82871,0.60971 -13.77936,1.09747 -20.66903,1.0365c-3.59727,0 -7.07259,0.24388 -10.60889,-0.42679c-3.17047,-0.60971 -6.58483,-0.12194 -9.7553,0.18291c-3.96309,0.36582 -7.86521,1.0365 -11.8283,1.0365c-3.84115,-0.06097 -7.74327,-0.85359 -11.58441,-0.85359c-4.38988,-0.12194 -8.59686,0.42679 -12.98674,0.12194c-5.36541,-0.36582 -10.60889,-0.06097 -15.91333,-0.12194c-0.91456,0 -1.34135,0.24388 -2.13397,0.36582c-0.79262,0.12194 -1.40232,0.36582 -2.19494,0.36582c-0.85359,0 -1.34135,-0.30485 -2.13397,-0.36582c-1.64621,-0.18291 -5.91415,-0.06097 -7.49938,-0.48776c-1.70718,-0.42679 -3.41435,-0.91456 -5.12153,-1.34135c-1.40232,1.34135 -1.52427,3.5363 -1.64621,5.48735c-0.85359,21.58359 -0.73165,43.16719 -0.60971,64.75078c0,4.99959 0.06097,9.99918 0.60971,14.9378c0.42679,3.84115 1.15844,7.6823 1.46329,11.52344c0.48776,6.219 -0.06097,12.49897 -0.36582,18.71798c-0.36582,7.31647 -0.36582,14.63295 0.06097,21.94942c0.97553,18.90089 -0.48776,40.30157 -0.79262,59.20246c-0.36582,18.41312 -0.67068,37.1311 3.90212,54.99549c4.63377,-1.82912 17.13274,1.15844 22.55912,1.40232c5.85318,0.24388 11.8283,0.30485 17.74245,0.30485c6.76774,0 13.59644,-0.36582 20.30321,0c8.47491,0.42679 16.09624,2.31688 24.63212,1.82912c4.146,-0.24388 8.65783,0.36582 12.68189,0.36582c3.29241,0 9.87724,-1.09747 12.25509,0.73165c8.77977,0 20.18127,0.12194 28.90007,-0.73165c9.08462,-0.85359 19.38865,-1.21941 28.47327,-0.36582c7.37744,0.73165 14.45003,1.34135 21.82748,0.36582c4.63377,-0.60971 9.14559,-1.09747 13.9013,-1.09747c4.32891,0 8.292,-1.58524 12.49897,-1.46329c4.63377,0.12194 9.38947,1.40232 14.02324,1.89009c3.04853,0.30485 9.63336,-2.49979 12.49897,-1.21941l-0.00003,-0.00001z' fill='black' id='svg_1'/%3E%3Cpath class='st1' d='m313.79912,275.40021c-1.09747,0 -3.90212,-4.20697 -4.99959,-5.85318c-0.42679,-0.67068 -0.79262,-1.21941 -1.0365,-1.52427c-1.76815,-2.25591 -4.02406,-4.51182 -6.219,-6.6458c-0.67068,-0.67068 -1.40232,-1.40232 -2.073,-2.073c-3.5363,-3.59727 -9.02365,-7.98715 -13.16965,-9.51141c-1.40232,-0.48776 -2.56077,-1.21941 -3.71921,-1.82912c-2.19494,-1.28038 -4.20697,-2.43882 -7.49938,-2.49979c-0.30485,0 -0.67068,0 -0.97553,0c-3.78018,0 -7.49938,0.48776 -11.34053,1.09747c-7.19453,1.09747 -16.82789,7.49938 -21.52262,14.32809c-0.73165,1.09747 -1.15844,2.31688 -1.21941,3.5363c-2.31688,-0.54874 -5.6093,-3.17047 -7.62133,-4.75571c-0.30485,-0.24388 -0.60971,-0.48776 -0.85359,-0.67068c-2.74368,-2.13397 -4.75571,-4.5728 -6.95065,-7.2555c-1.28038,-1.52427 -2.62174,-3.1095 -4.08503,-4.63377c-7.92618,-8.17006 -16.88886,-15.48653 -25.54668,-22.55912c-4.51182,-3.65824 -9.14559,-7.43841 -13.59644,-11.27956c-5.79221,-4.99959 -10.365,-9.81627 -14.45003,-15.12071c-0.42679,-0.54874 -0.85359,-1.09747 -1.21941,-1.64621c-1.58524,-2.13397 -3.23144,-4.26794 -5.12153,-6.15803c-0.67068,-0.67068 -2.31688,-1.89009 -4.20697,-3.23144c-2.98756,-2.19494 -7.56035,-5.48735 -7.92618,-6.70677c-0.42679,-1.40232 -3.5363,-3.5363 -3.59727,-3.5363c-0.85359,-0.48776 -1.76815,-1.40232 -1.82912,-2.62174l-0.06097,-0.85359l-0.79262,0.36582c-2.86562,1.34135 -4.93862,3.41435 -7.07259,5.6093c-0.36582,0.36582 -0.67068,0.73165 -1.0365,1.0365c-5.67027,5.73124 -11.15762,11.64539 -16.27915,17.49856c-2.49979,2.86562 -5.12153,6.03609 -7.31647,9.38947c-0.60971,0.91456 -1.15844,2.01203 -1.70718,3.17047c-0.91456,1.89009 -1.89009,3.84115 -3.04853,4.99959c-0.36582,-0.54874 -0.73165,-1.64621 -0.91456,-2.13397c-0.06097,-0.18291 -0.12194,-0.42679 -0.18291,-0.54874c-1.28038,-3.17047 -0.79262,-6.52385 -0.30485,-10.06015c0.36582,-2.49979 0.73165,-4.99959 0.48776,-7.62133c-0.12194,-0.97553 -0.30485,-2.01203 -0.48776,-3.04853c-0.60971,-3.47532 -1.21941,-7.01162 -0.73165,-10.24306c1.21941,-9.63336 2.43882,-19.51059 3.04853,-29.32686c0.97553,-9.69433 0.42679,-18.83992 -0.18291,-28.53424c-0.12194,-2.43882 -0.30485,-4.99959 -0.42679,-7.49938c0,-1.0365 -0.06097,-2.13397 -0.06097,-3.17047c-0.12194,-3.17047 -0.24388,-6.219 0.60971,-9.20656c0.18291,-0.12194 0.48776,-0.30485 0.85359,-0.36582l2.37785,1.0365c2.25591,0.91456 5.1825,1.40232 8.90171,1.40232c3.41435,0 7.01162,-0.36582 10.54791,-0.73165c3.23144,-0.30485 6.34094,-0.60971 9.02365,-0.60971c0.67068,0 1.28038,0 1.89009,0.06097c1.52427,0.12194 3.04853,0.30485 4.51182,0.48776c2.13397,0.24388 4.38988,0.54874 6.58483,0.54874c0.54874,0 1.09747,0 1.58524,0c3.90212,0 7.92618,-0.18291 11.76733,-0.36582c3.17047,-0.12194 6.46288,-0.30485 9.69433,-0.36582c5.48735,-0.06097 11.09665,-0.36582 16.46206,-0.60971c2.25591,-0.12194 4.45085,-0.24388 6.70677,-0.30485c4.38988,-0.18291 8.90171,-0.18291 13.23062,-0.18291c3.1095,0 6.34094,0 9.57238,-0.06097c6.6458,-0.18291 13.35256,-0.54874 19.81545,-0.97553c6.88968,-0.42679 14.08421,-0.85359 21.09583,-0.97553c1.76815,-0.06097 3.5363,-0.06097 5.24347,-0.06097c3.84115,-0.06097 7.80424,-0.06097 11.76733,-0.30485c2.25591,-0.12194 4.5728,-0.36582 6.82871,-0.54874c3.78018,-0.36582 7.74327,-0.67068 11.58441,-0.67068c1.40232,0 2.74368,0.06097 4.02406,0.12194c1.89009,0.12194 3.78018,0.48776 5.79221,0.85359c2.62174,0.48776 5.30444,0.91456 7.92618,0.91456c0.67068,0 1.34135,-0.06097 1.95106,-0.12194c-0.73165,1.40232 -0.73165,3.17047 -0.67068,4.08503c0.12194,2.31688 0.12194,4.81668 0.12194,7.19453c0,9.38947 -0.97553,18.29118 -2.01203,27.74163c-0.36582,3.23144 -0.73165,6.6458 -1.0365,9.99918c-0.60971,13.65742 0,28.10745 0.60971,40.8503l0,4.63377c0.30485,4.146 0,8.23103 -0.30485,12.13315c-0.30485,3.90212 -0.60971,7.92618 -0.30485,11.95024c1.28038,12.07218 1.82912,23.71757 1.64621,34.6313l0.42679,10.60889l0.06097,0.06097c0.48776,1.34135 0.97553,6.95065 -0.24388,8.77977c-0.36582,0.42679 -0.60971,0.48776 -0.79262,0.48776l0,0l-0.00004,0.00002z' id='svg_3'/%3E%3Cpath class='st2' d='m296.54444,101.02428c1.40232,0 2.68271,0.06097 3.96309,0.12194c1.82912,0.12194 3.71921,0.48776 5.73124,0.79262c2.62174,0.48776 5.36541,0.97553 8.04812,0.97553c0.36582,0 0.67068,0 1.0365,0c-0.36582,1.21941 -0.36582,2.49979 -0.36582,3.41435c0.12194,2.31688 0.12194,4.75571 0.12194,7.13356c0,9.38947 -0.97553,18.29118 -2.01203,27.68065c-0.36582,3.29241 -0.73165,6.6458 -1.0365,9.99918l0,0l0,0c-0.60971,13.59644 0,28.10745 0.60971,40.8503l0,4.63377l0,0.06097l0,0.06097c0.30485,4.02406 0,8.10909 -0.30485,12.01121c-0.30485,3.90212 -0.60971,7.98715 -0.30485,12.01121l0,0l0,0c1.28038,12.01121 1.82912,23.65659 1.64621,34.50936l0,0.06097l0,0.06097l0.42679,10.48694l0,0.18291l0.06097,0.18291c0.48776,1.34135 0.85359,6.70677 -0.18291,8.292c-0.06097,0.06097 -0.12194,0.18291 -0.18291,0.18291c-1.0365,-0.36582 -3.65824,-4.26794 -4.51182,-5.54833c-0.48776,-0.67068 -0.79262,-1.21941 -1.09747,-1.58524c-1.82912,-2.31688 -4.08503,-4.51182 -6.219,-6.70677c-0.67068,-0.67068 -1.40232,-1.34135 -2.073,-2.073c-3.59727,-3.65824 -9.14559,-8.04812 -13.41353,-9.63336c-1.34135,-0.48776 -2.49979,-1.15844 -3.59727,-1.82912c-2.13397,-1.21941 -4.32891,-2.49979 -7.80424,-2.62174c-0.30485,0 -0.67068,0 -0.97553,0c-3.84115,0 -7.56035,0.48776 -11.46247,1.09747c-7.37744,1.09747 -17.19371,7.62133 -21.94942,14.57197c-0.67068,0.97553 -1.09747,2.01203 -1.28038,3.1095c-2.13397,-0.79262 -4.93862,-3.04853 -6.70677,-4.45085c-0.30485,-0.24388 -0.60971,-0.48776 -0.85359,-0.67068c-2.68271,-2.073 -4.69474,-4.51182 -6.88968,-7.13356c-1.28038,-1.52427 -2.62174,-3.1095 -4.08503,-4.69474c-7.92618,-8.17006 -16.88886,-15.48653 -25.60765,-22.55912c-4.51182,-3.65824 -9.14559,-7.43841 -13.53547,-11.27956c-5.73124,-4.99959 -10.30403,-9.7553 -14.38906,-15.05974c-0.42679,-0.54874 -0.85359,-1.09747 -1.21941,-1.64621c-1.58524,-2.13397 -3.29241,-4.32891 -5.1825,-6.219c-0.73165,-0.73165 -2.31688,-1.89009 -4.26794,-3.29241c-2.37785,-1.70718 -7.31647,-5.30444 -7.6823,-6.40191c-0.48776,-1.70718 -3.84115,-3.90212 -3.84115,-3.90212c-0.67068,-0.42679 -1.46329,-1.15844 -1.52427,-2.13397l-0.12194,-1.70718l-1.58524,0.73165c-2.98756,1.34135 -5.1825,3.59727 -7.2555,5.73124c-0.36582,0.36582 -0.67068,0.73165 -1.0365,1.0365c-5.67027,5.73124 -11.15762,11.64539 -16.27915,17.49856c-2.56077,2.92659 -5.1825,6.09706 -7.37744,9.45044c-0.60971,0.91456 -1.15844,2.073 -1.76815,3.29241c-0.73165,1.46329 -1.46329,3.04853 -2.37785,4.146c-0.18291,-0.48776 -0.42679,-0.97553 -0.48776,-1.28038c-0.06097,-0.24388 -0.18291,-0.42679 -0.24388,-0.54874c-1.21941,-2.98756 -0.79262,-6.27997 -0.24388,-9.69433c0.36582,-2.49979 0.73165,-5.12153 0.48776,-7.74327l0,0l0,0c-0.12194,-0.97553 -0.30485,-1.95106 -0.48776,-2.98756c-0.60971,-3.41435 -1.15844,-6.95065 -0.73165,-10.06015c1.21941,-9.63336 2.43882,-19.51059 3.04853,-29.32686c0.97553,-9.7553 0.42679,-18.90089 -0.18291,-28.65618c-0.12194,-2.43882 -0.30485,-4.93862 -0.42679,-7.43841c0,-1.09747 -0.06097,-2.13397 -0.06097,-3.23144c-0.12194,-3.04853 -0.18291,-5.97512 0.54874,-8.84074c0.06097,-0.06097 0.18291,-0.06097 0.24388,-0.12194l2.25591,0.97553c2.31688,0.97553 5.30444,1.46329 9.14559,1.46329c3.41435,0 7.07259,-0.36582 10.60889,-0.73165c3.23144,-0.30485 6.27997,-0.60971 8.96268,-0.60971c0.67068,0 1.28038,0 1.82912,0.06097c1.46329,0.12194 2.98756,0.30485 4.45085,0.42679c2.19494,0.24388 4.38988,0.54874 6.6458,0.54874c0.54874,0 1.09747,0 1.58524,0c3.96309,0 7.92618,-0.18291 11.76733,-0.36582c3.17047,-0.12194 6.46288,-0.30485 9.69433,-0.36582c5.48735,-0.06097 11.09665,-0.36582 16.46206,-0.60971c2.25591,-0.12194 4.45085,-0.24388 6.70677,-0.30485c4.38988,-0.18291 8.84074,-0.18291 13.16965,-0.18291c3.1095,0 6.40191,0 9.57238,-0.06097c6.6458,-0.18291 13.35256,-0.54874 19.87642,-0.97553c6.88968,-0.42679 14.02324,-0.85359 21.09583,-0.97553c1.76815,-0.06097 3.5363,-0.06097 5.24347,-0.06097c3.84115,-0.06097 7.86521,-0.06097 11.76733,-0.30485c2.31688,-0.12194 4.63377,-0.36582 6.88968,-0.54874c3.78018,-0.30485 7.74327,-0.67068 11.52344,-0.67068l0,0m0,-1.21941c-6.15803,0 -12.31606,0.85359 -18.47409,1.21941c-5.67027,0.30485 -11.34053,0.24388 -16.94983,0.36582c-13.65742,0.24388 -27.25386,1.58524 -40.97225,1.95106c-7.62133,0.18291 -15.18168,-0.06097 -22.80301,0.30485c-7.74327,0.30485 -15.42556,0.79262 -23.16883,0.91456c-7.13356,0.12194 -14.26712,0.73165 -21.46165,0.73165c-0.54874,0 -1.0365,0 -1.58524,0c-3.71921,-0.06097 -7.37744,-0.73165 -11.03568,-1.0365c-0.60971,-0.06097 -1.21941,-0.06097 -1.89009,-0.06097c-5.6093,0 -13.04771,1.34135 -19.51059,1.34135c-3.23144,0 -6.27997,-0.30485 -8.7188,-1.34135l-2.49979,-1.09747c-0.91456,0 -1.52427,0.60971 -1.52427,0.60971c-1.21941,4.26794 -0.60971,8.53588 -0.60971,12.80383c0.60971,12.19412 1.82912,23.77854 0.60971,35.97266c-0.60971,9.7553 -1.82912,19.51059 -3.04853,29.26589c-0.60971,4.26794 0.60971,9.14559 1.21941,13.41353c0.60971,6.09706 -2.43882,12.19412 -0.12194,17.80342c0.30485,0.73165 0.97553,2.80465 1.64621,3.29241c2.31688,-1.70718 3.65824,-6.15803 5.30444,-8.7188c2.13397,-3.29241 4.75571,-6.46288 7.2555,-9.3285c5.24347,-5.97512 10.66986,-11.8283 16.21818,-17.43759c2.49979,-2.49979 4.69474,-5.06056 7.92618,-6.58483c0.12194,1.34135 1.0365,2.43882 2.13397,3.1095c0.24388,0.12194 2.98756,2.073 3.29241,3.17047c0.60971,2.19494 10.42597,8.35297 12.25509,10.24306c2.37785,2.37785 4.32891,5.12153 6.34094,7.74327c4.38988,5.67027 9.14559,10.54791 14.57197,15.24265c12.98674,11.27956 27.07095,21.40068 39.08216,33.77771c3.90212,4.02406 6.6458,8.47491 11.09665,11.88927c2.31688,1.82912 6.6458,5.48735 9.51141,5.67027c-0.12194,-1.40232 0.36582,-2.74368 1.15844,-3.90212c4.32891,-6.34094 13.65742,-12.92577 21.09583,-14.08421c3.65824,-0.54874 7.49938,-1.09747 11.27956,-1.09747c0.30485,0 0.60971,0 0.97553,0c4.81668,0.12194 6.95065,2.80465 10.97471,4.32891c4.26794,1.58524 9.69433,6.03609 12.98674,9.38947c2.74368,2.80465 5.85318,5.67027 8.17006,8.65783c0.97553,1.28038 4.63377,7.56035 6.52385,7.56035c0,0 0.06097,0 0.06097,0c2.74368,-0.18291 2.073,-8.41394 1.46329,-10.12112l-0.42679,-10.48694c0.18291,-11.52344 -0.42679,-23.10786 -1.64621,-34.69227c-0.60971,-7.92618 1.21941,-15.85236 0.60971,-24.02242l0,-4.69474c-0.60971,-13.35256 -1.21941,-27.3758 -0.60971,-40.78933c1.21941,-12.80383 3.04853,-24.99795 3.04853,-37.80177c0,-2.43882 0,-4.87765 -0.12194,-7.19453c-0.06097,-1.58524 0.12194,-3.84115 1.52427,-4.87765c-1.09747,0.24388 -2.25591,0.30485 -3.41435,0.30485c-4.5728,0 -9.26753,-1.46329 -13.65742,-1.76815c-1.34135,0.12194 -2.68271,0.06097 -4.08503,0.06097l0,0l0.00003,0zm22.80301,1.09747c-0.67068,0 -1.21941,0.18291 -1.64621,0.48776c0.60971,-0.12194 1.21941,-0.30485 1.82912,-0.48776c-0.06097,0 -0.12194,0 -0.18291,0l0,0z' id='svg_4'/%3E%3Cpath class='st3' d='m235.75674,146.69126c-3.1095,3.41435 -4.38988,9.81627 -4.81668,14.20615c-0.60971,6.03609 -1.46329,10.97471 2.74368,15.66945c4.63377,5.12153 12.55994,9.87724 19.20574,11.64539c3.47532,0.97553 7.49938,-0.73165 10.7918,-1.40232c7.92618,-1.70718 11.95024,-6.52385 15.42556,-13.9013c4.20697,-8.77977 0.67068,-15.73042 -2.86562,-23.96145c-3.84115,-8.90171 -15.5475,-12.92577 -24.81504,-11.70636c-3.78018,0.48776 -5.91415,2.80465 -8.90171,4.87765c-1.64621,1.15844 -6.52385,2.80465 -6.76774,4.5728l0.00001,-0.00001z' id='svg_5'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E",width:n,height:a,alt:l},o))};kr.propTypes={width:F.a.number,height:F.a.number,className:F.a.string,product:F.a.object,alt:F.a.string},kr.defaultProps={width:33,height:33,className:""};var Er=kr,Cr={name:"products",className:"woocommerce-search__product-result",options:function(e){var t=e?{search:e,per_page:10,orderby:"popularity"}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/products",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.name,e.sku]},getFreeTextOptions:function(e){return[{key:"title",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All products with titles that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e}}]},getOptionLabel:function(e,t){var r=ir(e.name,t)||{};return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(Er,{key:"thumbnail",className:"woocommerce-search__result-thumbnail",product:e,width:18,height:18,alt:""}),Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.name},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch))},getOptionCompletion:function(e){return{key:e.id,label:e.name}}},Sr={name:"taxes",className:"woocommerce-search__tax-result",options:function(e){var t=e?{code:e,per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/taxes",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.id,lr(e)]},getFreeTextOptions:function(e){return[{key:"code",label:Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name"},Ot()({mixedString:Object(j.__)("All taxes with codes that include {{query /}}","wc_pos"),components:{query:Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e}}]},getOptionLabel:function(e,t){var r=ir(lr(e),t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.code},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:lr(e)}}},Rr={name:"usernames",className:"woocommerce-search__usernames-result",options:function(e){var t=e?{search:e,searchby:"username",per_page:10}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/customers",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.username]},getOptionLabel:function(e,t){var r=ir(e.username,t)||{};return Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.username},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch)},getOptionCompletion:function(e){return{key:e.id,label:e.username}}};function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Dr=Fr(Fr({},Cr),{},{name:"products",options:function(e){var t=e?{search:e,per_page:10,orderby:"popularity",type:"variable"}:{};return Be()({path:Object(be.addQueryArgs)("/wc-analytics/products",t)})}});function Tr(e){var t=e.attributes,r=e.name,n=window.wcSettings.variationTitleAttributesSeparator||" - ";if(r.indexOf(n)>-1)return r;var a=t.map((function(e){return e.option})).join(", ");return a?r+n+a:r}var Nr={name:"variations",className:"woocommerce-search__product-result",options:function(e){var t=e?{search:e,per_page:30,_fields:["attributes","description","id","name","sku"]}:{},r=Object(ce.getQuery)().products;return r?(r.includes(",")&&console.warn("Invalid product id supplied to Variations autocompleter"),Be()({path:Object(be.addQueryArgs)("/wc-analytics/products/".concat(r,"/variations"),t)})):Be()({path:Object(be.addQueryArgs)("/wc-analytics/variations",t)})},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[Tr(e),e.sku]},getOptionLabel:function(e,t){var r=ir(Tr(e),t)||{};return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(Er,{key:"thumbnail",className:"woocommerce-search__result-thumbnail",product:e,width:18,height:18,alt:""}),Object(f.createElement)("span",{key:"name",className:"woocommerce-search__result-name","aria-label":e.description},r.suggestionBeforeMatch,Object(f.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch))},getOptionCompletion:function(e){return{key:e.id,label:Tr(e)}}};function Pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var qr=function(e){l()(r,e);var t=Pr(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).state={options:[]},n.appendFreeTextSearch=n.appendFreeTextSearch.bind(pt()(n)),n.fetchOptions=n.fetchOptions.bind(pt()(n)),n.updateSelected=n.updateSelected.bind(pt()(n)),n}return s()(r,[{key:"getAutocompleter",value:function(){switch(this.props.type){case"attributes":return ur;case"categories":return pr;case"countries":return yr;case"coupons":return gr;case"customers":return vr;case"downloadIps":return Or;case"emails":return _r;case"orders":return jr;case"products":return Cr;case"taxes":return Sr;case"usernames":return Rr;case"variableProducts":return Dr;case"variations":return Nr;case"custom":if(!this.props.autocompleter||"object"!==Pt()(this.props.autocompleter))throw new Error("Invalid autocompleter provided to Search component, it requires a completer object when using 'custom' type.");return this.props.autocompleter;default:return{}}}},{key:"getFormattedOptions",value:function(e,t){var r=this.getAutocompleter(),n=[];return e.forEach((function(e){var a={key:r.getOptionIdentifier(e),label:r.getOptionLabel(e,t),keywords:r.getOptionKeywords(e).filter(Boolean),value:e};n.push(a)})),n}},{key:"fetchOptions",value:function(e,t){var r=this;if(!t)return[];var n=this.getAutocompleter().options;return Promise.resolve("function"==typeof n?n(t):n||[]).then(function(){var e=de()(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getFormattedOptions(n,t),r.setState({options:a}),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"updateSelected",value:function(e){var t=this.props.onChange,r=this.getAutocompleter();t(e.map((function(e){return e.value?r.getOptionCompletion(e.value):e})))}},{key:"appendFreeTextSearch",value:function(e,t){var r=this.props.allowFreeTextSearch;if(!t||!t.length)return[];if(!r)return e;var n=this.getAutocompleter();return[].concat(bt()(n.getFreeTextOptions(t)),bt()(e))}},{key:"render",value:function(){var e=this.getAutocompleter(),t=this.props,r=t.className,n=t.inlineTags,a=t.placeholder,c=t.selected,o=t.showClearButton,s=t.staticResults,i=t.disabled,l=t.multiple,u=this.state.options,p=e.inputType?e.inputType:"text";return Object(f.createElement)("div",null,Object(f.createElement)(sr,{className:k()("woocommerce-search",r,{"is-static-results":s}),disabled:i,hideBeforeSearch:!0,inlineTags:n,isSearchable:!0,getSearchExpression:e.getSearchExpression,multiple:l,placeholder:a,onChange:this.updateSelected,onFilter:this.appendFreeTextSearch,onSearch:this.fetchOptions,options:u,searchDebounceTime:500,searchInputType:p,selected:c,showClearButton:o}))}}]),r}(f.Component);qr.propTypes={allowFreeTextSearch:F.a.bool,className:F.a.string,onChange:F.a.func,type:F.a.oneOf(["attributes","categories","countries","coupons","customers","downloadIps","emails","orders","products","taxes","usernames","variableProducts","variations","custom"]).isRequired,autocompleter:F.a.object,placeholder:F.a.string,selected:F.a.oneOfType([F.a.string,F.a.arrayOf(F.a.shape({key:F.a.oneOfType([F.a.number,F.a.string]).isRequired,label:F.a.string}))]),inlineTags:F.a.bool,showClearButton:F.a.bool,staticResults:F.a.bool,disabled:F.a.bool},qr.defaultProps={allowFreeTextSearch:!1,onChange:ae.noop,selected:[],inlineTags:!1,showClearButton:!1,staticResults:!1,disabled:!1,multiple:!0};var Ar=qr;function Ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Lr=function(e){l()(r,e);var t=Mr(r);function r(e){var n,a=e.filter,o=e.config,s=e.query;return c()(this,r),(n=t.apply(this,arguments)).onSearchChange=n.onSearchChange.bind(pt()(n)),n.state={selected:[]},n.updateLabels=n.updateLabels.bind(pt()(n)),a.value.length&&o.input.getLabels(a.value,s).then((function(e){var t=e.map((function(e){return Br({key:e.id},e)}));n.updateLabels(t)})),n}return s()(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.config,n=t.filter,a=t.query,c=e.filter;if(n.value.length&&!Object(ae.isEqual)(c,n)){var o=this.state.selected.map((function(e){return e.key}));Object(ce.getIdsFromQuery)(n.value).every((function(e){return!o.includes(e)}))&&r.input.getLabels(n.value,a).then(this.updateLabels)}}},{key:"updateLabels",value:function(e){var t=this.state.selected.map((function(e){return e.key})),r=e.map((function(e){return e.key}));Object(ae.isEqual)(r.sort(),t.sort())||this.setState({selected:e})}},{key:"onSearchChange",value:function(e){this.setState({selected:e}),(0,this.props.onFilterChange)("value",e.map((function(e){return e.key})).join(","))}},{key:"getScreenReaderText",value:function(e,t){var r=this.state.selected;if(0===r.length)return"";var n=Object(ae.find)(t.rules,{value:e.rule})||{},a=r.map((function(e){return e.label})).join(", ");return xt(Ot()({mixedString:t.labels.title,components:{filter:Object(f.createElement)(f.Fragment,null,a),rule:Object(f.createElement)(f.Fragment,null,n.label),title:Object(f.createElement)(f.Fragment,null)}}))}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.config,n=e.filter,a=e.onFilterChange,c=e.isEnglish,o=this.state.selected,s=n.rule,i=r.input,l=r.labels,u=r.rules,p=Ot()({mixedString:l.title,components:{title:Object(f.createElement)("span",{className:t}),rule:Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__rule"),options:u,value:s,onChange:Object(ae.partial)(a,"rule"),"aria-label":l.rule}),filter:Object(f.createElement)(Ar,{className:k()(t,"woocommerce-filters-advanced__input"),onChange:this.onSearchChange,type:i.type,autocompleter:i.autocompleter,placeholder:l.placeholder,selected:o,inlineTags:!0,"aria-label":l.filter})}}),d=this.getScreenReaderText(n,r);return Object(f.createElement)("fieldset",{className:"woocommerce-filters-advanced__line-item",tabIndex:"0"},Object(f.createElement)("legend",{className:"screen-reader-text"},l.add||""),Object(f.createElement)("div",{className:k()("woocommerce-filters-advanced__fieldset",{"is-english":c})},p),d&&Object(f.createElement)("span",{className:"screen-reader-text"},d))}}]),r}(f.Component);Lr.propTypes={config:F.a.shape({labels:F.a.shape({placeholder:F.a.string,rule:F.a.string,title:F.a.string}),rules:F.a.arrayOf(F.a.object),input:F.a.object}).isRequired,filter:F.a.shape({key:F.a.string,rule:F.a.string,value:F.a.string}).isRequired,onFilterChange:F.a.func.isRequired,query:F.a.object};var Ur=Lr,Qr=r(633),Vr=r(380),Kr=["label","value","help","className","instanceId","onChange","onClick","prefix","suffix","type","disabled"];function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Yr=function(e){l()(r,e);var t=Hr(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).state={isFocused:!1},n}return s()(r,[{key:"handleFocusOutside",value:function(){this.setState({isFocused:!1})}},{key:"handleOnClick",value:function(e,t){this.setState({isFocused:!0}),"function"==typeof t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.label,n=t.value,a=t.help,c=t.className,o=t.instanceId,s=t.onChange,i=t.onClick,l=t.prefix,u=t.suffix,p=t.type,d=t.disabled,m=_()(t,Kr),b=this.state.isFocused,h="inspector-text-control-with-affixes-".concat(o),y=[];a&&y.push("".concat(h,"__help")),l&&y.push("".concat(h,"__prefix")),u&&y.push("".concat(h,"__suffix"));var g=k()(c,{"with-value":""!==n,empty:""===n,active:b&&!d}),v=k()("text-control-with-affixes",{"text-control-with-prefix":l,"text-control-with-suffix":u,disabled:d});return Object(f.createElement)(Vr.a,{label:r,id:h,help:a,className:g,onClick:function(t){return e.handleOnClick(t,i)}},Object(f.createElement)("div",{className:v},l&&Object(f.createElement)("span",{id:"".concat(h,"__prefix"),className:"text-control-with-affixes__prefix"},l),Object(f.createElement)("input",mt()({className:"components-text-control__input",type:p,id:h,value:n,onChange:function(e){return s(e.target.value)},"aria-describedby":y.join(" "),disabled:d,onFocus:function(){return e.setState({isFocused:!0})}},m)),u&&Object(f.createElement)("span",{id:"".concat(h,"__suffix"),className:"text-control-with-affixes__suffix"},u)))}}]),r}(f.Component);Yr.defaultProps={type:"text"},Yr.propTypes={label:F.a.string,help:F.a.string,type:F.a.string,value:F.a.string.isRequired,className:F.a.string,onChange:F.a.func.isRequired,prefix:F.a.node,suffix:F.a.node,disabled:F.a.bool};var zr=Object(It.a)([Bt.a,At.a])(Yr);function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Wr=function(e){l()(r,e);var t=Gr(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"getBetweenString",value:function(){return Object(j._x)("{{rangeStart /}}{{span}} and {{/span}}{{rangeEnd /}}","Numerical range inputs arranged on a single line","wc_pos")}},{key:"getScreenReaderText",value:function(e,t){var r=this.props.currency,n=Object(ae.find)(t.rules,{value:e.rule})||{},a=Object(ae.isArray)(e.value)?e.value:[e.value],c=v()(a,2),o=c[0],s=c[1];if(!o||"between"===n.value&&!s)return"";if("currency"===Object(ae.get)(t,["input","type"],"number")){var i=ve()(r).formatAmount;o=i(o),s=i(s)}var l=o;return"between"===n.value&&(l=Ot()({mixedString:this.getBetweenString(),components:{rangeStart:Object(f.createElement)(f.Fragment,null,o),rangeEnd:Object(f.createElement)(f.Fragment,null,s),span:Object(f.createElement)(f.Fragment,null)}})),xt(Ot()({mixedString:t.labels.title,components:{filter:Object(f.createElement)(f.Fragment,null,l),rule:Object(f.createElement)(f.Fragment,null,n.label),title:Object(f.createElement)(f.Fragment,null)}}))}},{key:"getFormControl",value:function(e){var t=e.type,r=e.value,n=e.label,a=e.onChange,c=e.currencySymbol,o=e.symbolPosition;return"currency"===t?0===o.indexOf("right")?Object(f.createElement)(zr,{suffix:Object(f.createElement)("span",{dangerouslySetInnerHTML:{__html:c}}),className:"woocommerce-filters-advanced__input",type:"number",value:r||"","aria-label":n,onChange:a}):Object(f.createElement)(zr,{prefix:Object(f.createElement)("span",{dangerouslySetInnerHTML:{__html:c}}),className:"woocommerce-filters-advanced__input",type:"number",value:r||"","aria-label":n,onChange:a}):Object(f.createElement)(Qr.a,{className:"woocommerce-filters-advanced__input",type:"number",value:r||"","aria-label":n,onChange:a})}},{key:"getFilterInputs",value:function(){var e=this.props,t=e.config,r=e.filter,n=e.onFilterChange,a=e.currency,c=a.symbol,o=a.symbolPosition;if("between"===r.rule)return this.getRangeInput();var s=Object(ae.get)(t,["input","type"],"number"),i=Object(ae.isArray)(r.value)?r.value:[r.value],l=v()(i,2),u=l[0],p=l[1];Boolean(p)&&n("value",u||p);var d="";return d="lessthan"===r.rule?Object(j._x)("%(field)s maximum amount","maximum value input","wc_pos"):Object(j._x)("%(field)s minimum amount","minimum value input","wc_pos"),this.getFormControl({type:s,value:u||p,label:Object(j.sprintf)(d,{field:Object(ae.get)(t,["labels","add"])}),onChange:Object(ae.partial)(n,"value"),currencySymbol:c,symbolPosition:o})}},{key:"getRangeInput",value:function(){var e=this.props,t=e.config,r=e.filter,n=e.onFilterChange,a=e.currency,c=a.symbol,o=a.symbolPosition,s=Object(ae.get)(t,["input","type"],"number"),i=Object(ae.isArray)(r.value)?r.value:[r.value],l=v()(i,2),u=l[0],p=l[1];return Ot()({mixedString:this.getBetweenString(),components:{rangeStart:this.getFormControl({type:s,value:u||"",label:Object(j.sprintf)(Object(j.__)("%(field)s range start","wc_pos"),{field:Object(ae.get)(t,["labels","add"])}),onChange:function(e){n("value",[e,p])},currencySymbol:c,symbolPosition:o}),rangeEnd:this.getFormControl({type:s,value:p||"",label:Object(j.sprintf)(Object(j.__)("%(field)s range end","wc_pos"),{field:Object(ae.get)(t,["labels","add"])}),onChange:function(e){n("value",[u,e])},currencySymbol:c,symbolPosition:o}),span:Object(f.createElement)("span",{className:"separator"})}})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.config,n=e.filter,a=e.onFilterChange,c=e.isEnglish,o=n.rule,s=r.labels,i=r.rules,l=Ot()({mixedString:s.title,components:{title:Object(f.createElement)("span",{className:t}),rule:Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__rule"),options:i,value:o,onChange:Object(ae.partial)(a,"rule"),"aria-label":s.rule}),filter:Object(f.createElement)("div",{className:k()(t,"woocommerce-filters-advanced__input-range",{"is-between":"between"===o})},this.getFilterInputs())}}),u=this.getScreenReaderText(n,r);return Object(f.createElement)("fieldset",{className:"woocommerce-filters-advanced__line-item",tabIndex:"0"},Object(f.createElement)("legend",{className:"screen-reader-text"},s.add||""),Object(f.createElement)("div",{className:k()("woocommerce-filters-advanced__fieldset",{"is-english":c})},l),u&&Object(f.createElement)("span",{className:"screen-reader-text"},u))}}]),r}(f.Component),$r=r(1183),Jr=r(1295),Xr=function(e){var t=e.disabled,r=e.value,n=e.onChange,a=e.dateFormat,c=e.label,o=e.describedBy,s=e.error,i=e.onFocus,l=e.onKeyDown,u=e.errorPosition,p=k()("woocommerce-calendar__input",{"is-empty":0===r.length,"is-error":s}),d=Object(ae.uniqueId)("_woo-dates-input");return Object(f.createElement)("div",{className:p},Object(f.createElement)("input",{type:"text",className:"woocommerce-calendar__input-text",value:r,onChange:n,"aria-label":c,id:d,"aria-describedby":"".concat(d,"-message"),placeholder:a.toLowerCase(),onFocus:i,onKeyDown:l,disabled:t}),s&&Object(f.createElement)(Kt.a,{className:"woocommerce-calendar__input-error",focusOnMount:!1,position:u},s),Object(f.createElement)(A.a,{icon:Jr.a,className:"calendar-icon"}),Object(f.createElement)("p",{className:"screen-reader-text",id:"".concat(d,"-message")},s||o))};Xr.propTypes={disabled:F.a.bool,value:F.a.string,onChange:F.a.func.isRequired,dateFormat:F.a.string.isRequired,label:F.a.string.isRequired,describedBy:F.a.string.isRequired,error:F.a.string,errorPosition:F.a.string,onFocus:F.a.func,onKeyDown:F.a.func},Xr.defaultProps={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:ae.noop};var Zr=Xr,en=["component","children"];function tn(e){var t=e.component,r=e.children,n=_()(e,en),a=t||"div";return Object(f.createElement)(Q.Consumer,null,(function(e){return Object(f.createElement)(Q.Provider,{value:e+1},!1===t?r:Object(f.createElement)(a,n,r))}))}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}tn.propTypes={component:F.a.oneOfType([F.a.func,F.a.string,F.a.bool]),children:F.a.node,className:F.a.string};var nn=function(e){l()(r,e);var t=rn(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).onDateChange=n.onDateChange.bind(pt()(n)),n.onInputChange=n.onInputChange.bind(pt()(n)),n}return s()(r,[{key:"handleKeyDown",value:function(e,t,r){var n=r.keyCode;Mt.TAB===n&&e&&t()}},{key:"handleFocus",value:function(e,t){e||t()}},{key:"onDateChange",value:function(e,t){var r=this.props,n=r.onUpdate,a=r.dateFormat,c=fe()(t);n({date:c,text:t?c.format(a):"",error:null}),e()}},{key:"onInputChange",value:function(e){var t=e.target.value,r=this.props.dateFormat,n=Object(W.toMoment)(r,t),a=n?null:W.dateValidationMessages.invalid;this.props.onUpdate({date:n,text:t,error:t.length>0?a:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.date,n=t.disabled,a=t.text,c=t.dateFormat,o=t.error,s=t.isInvalidDate;return Object(f.createElement)(q.a,{position:"bottom center",focusOnMount:!1,renderToggle:function(t){var r=t.isOpen,s=t.onToggle;return Object(f.createElement)(Zr,{disabled:n,value:a,onChange:e.onInputChange,dateFormat:c,label:Object(j.__)("Choose a date","wc_pos"),error:o,onFocus:Object(ae.partial)(e.handleFocus,r,s),"aria-expanded":r,focusOnMount:!1,onKeyDown:Object(ae.partial)(e.handleKeyDown,r,s),errorPosition:"top center"})},renderContent:function(t){var n=t.onToggle;return Object(f.createElement)(tn,{component:!1},Object(f.createElement)(V,{className:"woocommerce-calendar__date-picker-title"},Object(j.__)("select a date","wc_pos")),Object(f.createElement)("div",{className:"woocommerce-calendar__react-dates is-core-datepicker"},Object(f.createElement)($r.a,{currentDate:r,onChange:Object(ae.partial)(e.onDateChange,n),isInvalidDate:s})))}})}}]),r}(f.Component);nn.propTypes={date:F.a.object,disabled:F.a.bool,text:F.a.string,error:F.a.string,onUpdate:F.a.func.isRequired,dateFormat:F.a.string.isRequired,isInvalidDate:F.a.func};var an=nn;function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var sn=Object(j.__)("MMM D, YYYY","wc_pos"),ln=Object(j.__)("MM/DD/YYYY","wc_pos"),un=function(e){l()(r,e);var t=on(r);function r(e){var n,a=e.filter;c()(this,r),n=t.apply(this,arguments);var o=Array.isArray(a.value)?a.value:[null,a.value],s=v()(o,2),i=s[0],l=s[1],u=i?Object(W.toMoment)(W.isoDateFormat,i):null,p=l?Object(W.toMoment)(W.isoDateFormat,l):null;return n.state={before:p,beforeText:p?p.format(ln):"",beforeError:null,after:u,afterText:u?u.format(ln):"",afterError:null,rule:a.rule},n.onSingleDateChange=n.onSingleDateChange.bind(pt()(n)),n.onRangeDateChange=n.onRangeDateChange.bind(pt()(n)),n.onRuleChange=n.onRuleChange.bind(pt()(n)),n}return s()(r,[{key:"getBetweenString",value:function(){return Object(j._x)("{{after /}}{{span}} and {{/span}}{{before /}}","Date range inputs arranged on a single line","wc_pos")}},{key:"getScreenReaderText",value:function(e,t){var r=Object(ae.find)(t.rules,{value:e})||{},n=this.state,a=n.before,c=n.after;if(!a||"between"===r.value&&!c)return"";var o=a.format(sn);return"between"===r.value&&(o=Ot()({mixedString:this.getBetweenString(),components:{after:Object(f.createElement)(f.Fragment,null,c.format(sn)),before:Object(f.createElement)(f.Fragment,null,a.format(sn)),span:Object(f.createElement)(f.Fragment,null)}})),xt(Ot()({mixedString:t.labels.title,components:{filter:Object(f.createElement)(f.Fragment,null,o),rule:Object(f.createElement)(f.Fragment,null,r.label),title:Object(f.createElement)(f.Fragment,null)}}))}},{key:"onSingleDateChange",value:function(e){var t=e.date,r=e.text,n=e.error,a=this.props.onFilterChange;this.setState({before:t,beforeText:r,beforeError:n}),t&&a("value",t.format(W.isoDateFormat))}},{key:"onRangeDateChange",value:function(e,t){var r,n=t.date,a=t.text,c=t.error,o=this.props.onFilterChange;if(this.setState((r={},y()(r,e,n),y()(r,e+"Text",a),y()(r,e+"Error",c),r)),n){var s=this.state,i=s.before,l=s.after,u=null,p=null;"after"===e&&(u=n.format(W.isoDateFormat),p=i?i.format(W.isoDateFormat):null),"before"===e&&(u=l?l.format(W.isoDateFormat):null,p=n.format(W.isoDateFormat)),u&&p&&o("value",[u,p])}}},{key:"onRuleChange",value:function(e){var t=this.props.onFilterChange,r=null,n=!1;[this.state.rule,e].includes("between")&&(r={before:null,beforeText:"",beforeError:null,after:null,afterText:"",afterError:null},n=!0),this.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({rule:e},r)),t("rule",e,n)}},{key:"isFutureDate",value:function(e){return fe()().isBefore(fe()(e),"day")}},{key:"getFormControl",value:function(e){var t=e.date,r=e.error,n=e.onUpdate,a=e.text;return Object(f.createElement)(an,{date:t,dateFormat:ln,error:r,isInvalidDate:this.isFutureDate,onUpdate:n,text:a})}},{key:"getRangeInput",value:function(){var e=this.state,t=e.before,r=e.beforeText,n=e.beforeError,a=e.after,c=e.afterText,o=e.afterError;return Ot()({mixedString:this.getBetweenString(),components:{after:this.getFormControl({date:a,error:o,onUpdate:Object(ae.partial)(this.onRangeDateChange,"after"),text:c}),before:this.getFormControl({date:t,error:n,onUpdate:Object(ae.partial)(this.onRangeDateChange,"before"),text:r}),span:Object(f.createElement)("span",{className:"separator"})}})}},{key:"getFilterInputs",value:function(){var e=this.state,t=e.before,r=e.beforeText,n=e.beforeError;return"between"===e.rule?this.getRangeInput():this.getFormControl({date:t,error:n,onUpdate:this.onSingleDateChange,text:r})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.config,n=e.isEnglish,a=this.state.rule,c=r.labels,o=r.rules,s=this.getScreenReaderText(a,r),i=Ot()({mixedString:c.title,components:{title:Object(f.createElement)("span",{className:t}),rule:Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__rule"),options:o,value:a,onChange:this.onRuleChange,"aria-label":c.rule}),filter:Object(f.createElement)("div",{className:k()(t,"woocommerce-filters-advanced__input-range",{"is-between":"between"===a})},this.getFilterInputs())}});return Object(f.createElement)("fieldset",{className:"woocommerce-filters-advanced__line-item",tabIndex:"0"},Object(f.createElement)("legend",{className:"screen-reader-text"},c.add||""),Object(f.createElement)("div",{className:k()("woocommerce-filters-advanced__fieldset",{"is-english":n})},i),s&&Object(f.createElement)("span",{className:"screen-reader-text"},s))}}]),r}(f.Component),pn=function(e){var t=e.className,r=e.config,n=e.filter,a=e.isEnglish,c=e.onFilterChange,o=n.rule,s=n.value,i=r.labels,l=r.rules,u=Object(f.useState)([]),p=v()(u,2),d=p[0],m=p[1];Object(f.useEffect)((function(){!d.length&&Array.isArray(s)&&s[0]&&Be()({path:"/wc-analytics/products/attributes/".concat(s[0])}).then((function(e){var t=e.id,r=e.name;return[{key:t.toString(),label:r}]})).then(m)}),[s,d]);var b=Object(f.useState)([]),h=v()(b,2),y=h[0],g=h[1];Object(f.useEffect)((function(){d.length&&(g(!1),Be()({path:"/wc-analytics/products/attributes/".concat(d[0].key,"/terms?per_page=100")}).then((function(e){return e.map((function(e){var t=e.id,r=e.name;return{key:t.toString(),label:r}}))})).then(g))}),[d]);var O=Object(f.useState)(Array.isArray(s)&&s[1]||""),_=v()(O,2),w=_[0],E=_[1],C=function(e){var t=e.attributeTerms,r=e.config,n=e.filter,a=e.selectedAttribute,c=e.selectedAttributeTerm;if(!t||0===t.length||!a||0===a.length||""===c)return"";var o=Array.isArray(r.rules)&&r.rules.find((function(e){return e.value===n.rule}))||{},s=a[0].label,i=t.find((function(e){return e.key===c})),l=i&&i.label;if(!s||!l)return"";var u=Ot()({mixedString:Object(j.__)("{{attribute /}} {{equals /}} {{value /}}","wc_pos"),components:{attribute:Object(f.createElement)(f.Fragment,null,s),equals:Object(f.createElement)(f.Fragment,null,o.label),value:Object(f.createElement)(f.Fragment,null,l)}});return xt(Ot()({mixedString:r.labels.title,components:{filter:Object(f.createElement)(f.Fragment,null,u),rule:Object(f.createElement)(f.Fragment,null),title:Object(f.createElement)(f.Fragment,null)}}))}({attributeTerms:y,config:r,filter:n,selectedAttribute:d,selectedAttributeTerm:w});return Object(f.createElement)("fieldset",{className:"woocommerce-filters-advanced__line-item",tabIndex:"0"},Object(f.createElement)("legend",{className:"screen-reader-text"},i.add||""),Object(f.createElement)("div",{className:k()("woocommerce-filters-advanced__fieldset",{"is-english":a})},Ot()({mixedString:i.title,components:{title:Object(f.createElement)("span",{className:t}),rule:Object(f.createElement)(D.a,{className:k()(t,"woocommerce-filters-advanced__rule"),options:l,value:o,onChange:Object(ae.partial)(c,"rule"),"aria-label":i.rule}),filter:Object(f.createElement)("div",{className:k()(t,"woocommerce-filters-advanced__attribute-fieldset")},Array.isArray(s)&&s.length&&!d.length?Object(f.createElement)(Rt.a,null):Object(f.createElement)(Ar,{className:"woocommerce-filters-advanced__input woocommerce-search",onChange:function(e){var t=v()(e,1)[0];m(t?[t]:[]),E(""),c("value",[t&&t.key].filter(Boolean))},type:"attributes",placeholder:Object(j.__)("Attribute name","wc_pos"),multiple:!1,selected:d,inlineTags:!0,"aria-label":Object(j.__)("Attribute name","wc_pos")}),d.length>0&&(y.length?Object(f.createElement)(f.Fragment,null,Object(f.createElement)("span",{className:"woocommerce-filters-advanced__attribute-field-separator"},"="),Object(f.createElement)(sr,{className:"woocommerce-filters-advanced__input woocommerce-search",placeholder:Object(j.__)("Attribute value","wc_pos"),inlineTags:!0,isSearchable:!0,multiple:!1,showAllOnFocus:!0,options:y,selected:w,onChange:function(e){"string"!=typeof e&&(e=""),E(e),c("value",[d[0].key,e].filter(Boolean))}})):Object(f.createElement)(Rt.a,null)))}})),C&&Object(f.createElement)("span",{className:"screen-reader-text"},C))};pn.propTypes={config:F.a.shape({labels:F.a.shape({rule:F.a.string,title:F.a.string,filter:F.a.string}),rules:F.a.arrayOf(F.a.object),input:F.a.object}).isRequired,filter:F.a.shape({key:F.a.string,rule:F.a.string,value:F.a.arrayOf(F.a.oneOfType([F.a.string,F.a.number]))}).isRequired,onFilterChange:F.a.func.isRequired};var dn=pn;function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bn=function(e){var t=e.config,r=e.currency,n=e.filter,a=e.isEnglish,c=e.onFilterChange,o=e.query,s=e.removeFilter,i=n.key,l=t.filters[i],u=l,p=u.input,d=u.labels,m={Currency:Wr,Date:un,Number:Wr,ProductAttribute:dn,Search:Ur,SelectControl:Tt};if(m.hasOwnProperty(p.component)){"Currency"===p.component&&(l=fn(fn({},l),{input:{type:"currency",component:"Currency"}}));var b=m[p.component];return Object(f.createElement)("li",{className:"woocommerce-filters-advanced__list-item"},Object(f.createElement)(b,{className:"woocommerce-filters-advanced__fieldset-item",currency:r,filter:n,config:l,onFilterChange:c,isEnglish:a,query:o}),Object(f.createElement)(T.a,{className:k()("woocommerce-filters-advanced__line-item","woocommerce-filters-advanced__remove"),label:d.remove,onClick:s},Object(f.createElement)(St.a,null)))}};function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var vn=[{value:"all",label:Object(j.__)("All","wc_pos")},{value:"any",label:Object(j.__)("Any","wc_pos")}],On=function(e){l()(r,e);var t=gn(r);function r(e){var n,a=e.query,o=e.config;c()(this,r),(n=t.apply(this,arguments)).instanceCounts={};var s=Object(ce.getActiveFiltersFromQuery)(a,o.filters),i=s.map((function(e){return o.filters[e.key].allowMultiple&&(e.instance=n.getInstanceNumber(e.key)),e}));return n.state={match:a.match||"all",activeFilters:i},n.filterListRef=Object(f.createRef)(),n.onMatchChange=n.onMatchChange.bind(pt()(n)),n.onFilterChange=n.onFilterChange.bind(pt()(n)),n.getAvailableFilterKeys=n.getAvailableFilterKeys.bind(pt()(n)),n.addFilter=n.addFilter.bind(pt()(n)),n.removeFilter=n.removeFilter.bind(pt()(n)),n.clearFilters=n.clearFilters.bind(pt()(n)),n.getUpdateHref=n.getUpdateHref.bind(pt()(n)),n.onFilter=n.onFilter.bind(pt()(n)),n}return s()(r,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.config,a=r.query,c=e.query;if(!Object(ae.isEqual)(c,a)){var o=Object(ce.getActiveFiltersFromQuery)(a,n.filters);this.instanceCounts={};var s=o.map((function(e){return n.filters[e.key].allowMultiple&&(e.instance=t.getInstanceNumber(e.key)),e}));this.setState({activeFilters:s})}}},{key:"getInstanceNumber",value:function(e){return this.instanceCounts.hasOwnProperty(e)||(this.instanceCounts[e]=1),this.instanceCounts[e]++}},{key:"onMatchChange",value:function(e){var t=this.props.onAdvancedFilterAction;this.setState({match:e}),t("match",{match:e})}},{key:"onFilterChange",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=bt()(this.state.activeFilters);a[e]=yn(yn({},a[e]),{},y()({},t,r),!0===n?{value:null}:{}),this.setState({activeFilters:a})}},{key:"removeFilter",value:function(e){var t=this.props.onAdvancedFilterAction,r=bt()(this.state.activeFilters);(t("remove",r[e]),r.splice(e,1),this.setState({activeFilters:r}),0===r.length)&&Object(ce.getHistory)().push(this.getUpdateHref([]))}},{key:"getTitle",value:function(){var e=this.state.match,t=this.props.config;return Ot()({mixedString:t.title,components:{select:Object(f.createElement)(D.a,{className:"woocommerce-filters-advanced__title-select",options:vn,value:e,onChange:this.onMatchChange,"aria-label":Object(j.__)("Choose to apply any or all filters","wc_pos")})}})}},{key:"getAvailableFilterKeys",value:function(){var e=this.props.config,t=this.state.activeFilters.map((function(e){return e.key})),r=Object.keys(e.filters).filter((function(t){return e.filters[t].allowMultiple||!1})),n=Object(ae.difference)(Object.keys(e.filters),t,r);return[].concat(bt()(n),bt()(r))}},{key:"addFilter",value:function(e,t){var r=this,n=this.props,a=n.onAdvancedFilterAction,c=n.config.filters[e],o={key:e};Array.isArray(c.rules)&&c.rules.length&&(o.rule=c.rules[0].value),c.input&&c.input.options&&(o.value=Object(ce.getDefaultOptionValue)(c,c.input.options)),c.input&&"Search"===c.input.component&&(o.value=""),c.allowMultiple&&(o.instance=this.getInstanceNumber(e)),this.setState((function(e){return{activeFilters:[].concat(bt()(e.activeFilters),[o])}})),a("add",o),t(),setTimeout((function(){r.filterListRef.current.querySelector("li:last-of-type fieldset").focus()}))}},{key:"clearFilters",value:function(){(0,this.props.onAdvancedFilterAction)("clear_all"),this.setState({activeFilters:[],match:"all"})}},{key:"getUpdateHref",value:function(e,t){var r=this.props,n=r.path,a=r.query,c=r.config,o=Object(ce.getQueryFromActiveFilters)(e,a,c.filters),s="all"===t?void 0:t;return Object(ce.getNewPath)(yn(yn({},o),{},{match:s}),n,a)}},{key:"isEnglish",value:function(){return/en[-|_]/.test(this.props.siteLocale)}},{key:"onFilter",value:function(){var e=this.props,t=e.onAdvancedFilterAction,r=e.query,n=e.config,a=this.state,c=a.activeFilters,o=a.match;t("filter",yn(yn({},Object(ce.getQueryFromActiveFilters)(c,r,n.filters)),{},{match:o}))}},{key:"orderFilters",value:function(e,t){var r=window.location.search,n=r.indexOf(e.key),a=r.indexOf(t.key);return-1===n||-1===a?0:n-a}},{key:"render",value:function(){var e=this,t=this.props,r=t.config,n=t.query,a=t.currency,c=this.state,o=c.activeFilters,s=c.match,i=this.getAvailableFilterKeys(),l=this.getUpdateHref(o,s),u="admin.php"+window.location.search===l||0===o.length,p=this.isEnglish();return Object(f.createElement)($.a,{className:"woocommerce-filters-advanced",size:"small"},Object(f.createElement)(J.a,{justify:"flex-start"},Object(f.createElement)(re,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px",isBlock:"false"},this.getTitle())),!!o.length&&Object(f.createElement)(X.a,{size:null},Object(f.createElement)("ul",{className:"woocommerce-filters-advanced__list",ref:this.filterListRef},o.sort(this.orderFilters).map((function(t,c){var o=t.instance,s=t.key;return Object(f.createElement)(bn,{key:s+(o||""),config:r,currency:a,filter:t,isEnglish:p,onFilterChange:Object(ae.partial)(e.onFilterChange,c),query:n,removeFilter:function(){return e.removeFilter(c)}})})))),i.length>0&&Object(f.createElement)(X.a,null,Object(f.createElement)("div",{className:"woocommerce-filters-advanced__add-filter"},Object(f.createElement)(q.a,{className:"woocommerce-filters-advanced__add-filter-dropdown",position:"bottom center",renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(f.createElement)(T.a,{className:"woocommerce-filters-advanced__add-button",onClick:r,"aria-expanded":t},Object(f.createElement)(gt.a,null),Object(j.__)("Add a Filter","wc_pos"))},renderContent:function(t){var n=t.onClose;return Object(f.createElement)("ul",{className:"woocommerce-filters-advanced__add-dropdown"},i.map((function(t){return Object(f.createElement)("li",{key:t},Object(f.createElement)(T.a,{onClick:Object(ae.partial)(e.addFilter,t,n)},r.filters[t].labels.add))})))}}))),Object(f.createElement)(ht.a,{align:"center"},Object(f.createElement)("div",{className:"woocommerce-filters-advanced__controls"},u&&Object(f.createElement)(T.a,{isPrimary:!0,disabled:!0},Object(j.__)("Filter","wc_pos")),!u&&Object(f.createElement)(Et,{className:"components-button is-primary is-button",type:"wc-admin",href:l,onClick:this.onFilter},Object(j.__)("Filter","wc_pos")),o.length>0&&Object(f.createElement)(Et,{type:"wc-admin",href:this.getUpdateHref([]),onClick:this.clearFilters},Object(j.__)("Clear all filters","wc_pos")))))}}]),r}(f.Component);On.propTypes={config:F.a.shape({title:F.a.string,filters:F.a.objectOf(F.a.shape({labels:F.a.shape({add:F.a.string,remove:F.a.string,rule:F.a.string,title:F.a.string,filter:F.a.string}),rules:F.a.arrayOf(F.a.object),input:F.a.object}))}).isRequired,path:F.a.string.isRequired,query:F.a.object,onAdvancedFilterAction:F.a.func,siteLocale:F.a.string,currency:F.a.object.isRequired},On.defaultProps={query:{},onAdvancedFilterAction:function(){},siteLocale:"en_US"};var _n=On,jn=r(448),wn=function(e){var t=e.className,r=e.count,n=e.children,a=e.disabled,c=e.helpText,o=e.onClick;return!a&&r<2?Object(f.createElement)(jn.a,{text:c},Object(f.createElement)("span",{className:t},Object(f.createElement)(T.a,{className:"woocommerce-compare-button",disabled:!0,isSecondary:!0},n))):Object(f.createElement)(T.a,{className:k()("woocommerce-compare-button",t),onClick:o,disabled:a,isSecondary:!0},n)};wn.propTypes={className:F.a.string,count:F.a.number.isRequired,children:F.a.node.isRequired,helpText:F.a.string.isRequired,onClick:F.a.func.isRequired,disabled:F.a.bool};var kn=wn;function En(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Cn=function(e){l()(r,e);var t=En(r);function r(e){var n,a=e.getLabels,o=e.param,s=e.query;return c()(this,r),(n=t.apply(this,arguments)).state={selected:[]},n.clearQuery=n.clearQuery.bind(pt()(n)),n.updateQuery=n.updateQuery.bind(pt()(n)),n.updateLabels=n.updateLabels.bind(pt()(n)),n.onButtonClicked=n.onButtonClicked.bind(pt()(n)),s[o]&&a(s[o],s).then(n.updateLabels),n}return s()(r,[{key:"componentDidUpdate",value:function(e,t){var r=e.param,n=e.query,a=t.selected,c=this.props,o=c.getLabels,s=c.param,i=c.query,l=this.state.selected;if(r!==s||a.length>0&&0===l.length)this.clearQuery();else{var u=Object(ce.getIdsFromQuery)(n[s]),p=Object(ce.getIdsFromQuery)(i[s]);Object(ae.isEqual)(u.sort(),p.sort())||o(i[s],i).then(this.updateLabels)}}},{key:"clearQuery",value:function(){var e=this.props,t=e.param,r=e.path,n=e.query;this.setState({selected:[]}),Object(ce.updateQueryString)(y()({},t,void 0),r,n)}},{key:"updateLabels",value:function(e){this.setState({selected:e})}},{key:"updateQuery",value:function(){var e=this.props,t=e.param,r=e.path,n=e.query,a=this.state.selected.map((function(e){return e.key}));Object(ce.updateQueryString)(y()({},t,a.join(",")),r,n)}},{key:"onButtonClicked",value:function(e){this.updateQuery(e),Object(ae.isFunction)(this.props.onClick)&&this.props.onClick(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.labels,n=t.type,a=t.autocompleter,c=this.state.selected;return Object(f.createElement)($.a,{className:"woocommerce-filters__compare"},Object(f.createElement)(J.a,null,Object(f.createElement)(re,{variant:"subtitle.small",weight:"600",size:"14",lineHeight:"20px"},r.title)),Object(f.createElement)(X.a,null,Object(f.createElement)(Ar,{autocompleter:a,type:n,selected:c,placeholder:r.placeholder,onChange:function(t){e.setState({selected:t})}})),Object(f.createElement)(ht.a,{justify:"flex-start"},Object(f.createElement)(kn,{count:c.length,helpText:r.helpText,onClick:this.onButtonClicked},r.update),c.length>0&&Object(f.createElement)(T.a,{isLink:!0,onClick:this.clearQuery},Object(j.__)("Clear all","wc_pos"))))}}]),r}(f.Component);Cn.propTypes={getLabels:F.a.func.isRequired,labels:F.a.shape({placeholder:F.a.string,title:F.a.string,update:F.a.string}),param:F.a.string.isRequired,path:F.a.string.isRequired,query:F.a.object,type:F.a.string.isRequired,autocompleter:F.a.object},Cn.defaultProps={labels:{},query:{}};var Sn=r(657),Rn=r(649);function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Fn=function(e){l()(r,e);var t=xn(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.options,n=e.selected,a=e.onSelect,c=e.name,o=e.legend;return Object(f.createElement)("fieldset",{className:"woocommerce-segmented-selection"},Object(f.createElement)("legend",{className:"screen-reader-text"},o),Object(f.createElement)("div",{className:k()(t,"woocommerce-segmented-selection__container")},r.map((function(e){var t=e.value,r=e.label;if(!t||!r)return null;var o=Object(ae.uniqueId)("".concat(t,"_"));return Object(f.createElement)("div",{className:"woocommerce-segmented-selection__item",key:t},Object(f.createElement)("input",{className:"woocommerce-segmented-selection__input",type:"radio",name:c,id:o,checked:n===t,onChange:Object(ae.partial)(a,y()({},c,t))}),Object(f.createElement)("label",{htmlFor:o},Object(f.createElement)("span",{className:"woocommerce-segmented-selection__label"},r)))}))))}}]),r}(f.Component);Fn.propTypes={className:F.a.string,options:F.a.arrayOf(F.a.shape({value:F.a.string.isRequired,label:F.a.string.isRequired})).isRequired,selected:F.a.string,onSelect:F.a.func.isRequired,name:F.a.string.isRequired,legend:F.a.string.isRequired};var Dn=Fn;function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Nn=function(e){l()(r,e);var t=Tn(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.onSelect,r=e.compare;return Object(f.createElement)(Dn,{options:W.periods,selected:r,onSelect:t,name:"compare"})}}]),r}(f.Component);Nn.propTypes={onSelect:F.a.func.isRequired,compare:F.a.string};var Pn=Nn,qn=r(1184),An=(r(570),{calendarLabel:Object(j.__)("Calendar","wc_pos"),closeDatePicker:Object(j.__)("Close","wc_pos"),focusStartDate:Object(j.__)("Interact with the calendar and select start and end dates.","wc_pos"),clearDate:Object(j.__)("Clear Date","wc_pos"),clearDates:Object(j.__)("Clear Dates","wc_pos"),jumpToPrevMonth:Object(j.__)("Move backward to switch to the previous month.","wc_pos"),jumpToNextMonth:Object(j.__)("Move forward to switch to the next month.","wc_pos"),enterKey:Object(j.__)("Enter key","wc_pos"),leftArrowRightArrow:Object(j.__)("Right and left arrow keys","wc_pos"),upArrowDownArrow:Object(j.__)("up and down arrow keys","wc_pos"),pageUpPageDown:Object(j.__)("page up and page down keys","wc_pos"),homeEnd:Object(j.__)("Home and end keys","wc_pos"),escape:Object(j.__)("Escape key","wc_pos"),questionMark:Object(j.__)("Question mark","wc_pos"),selectFocusedDate:Object(j.__)("Select the date in focus.","wc_pos"),moveFocusByOneDay:Object(j.__)("Move backward (left) and forward (right) by one day.","wc_pos"),moveFocusByOneWeek:Object(j.__)("Move backward (up) and forward (down) by one week.","wc_pos"),moveFocusByOneMonth:Object(j.__)("Switch months.","wc_pos"),moveFocustoStartAndEndOfWeek:Object(j.__)("Go to the first or last day of a week.","wc_pos"),returnFocusToInput:Object(j.__)("Return to the date input field.","wc_pos"),keyboardNavigationInstructions:Object(j.__)("Press the down arrow key to interact with the calendar and select a date.","wc_pos"),chooseAvailableStartDate:function(e){var t=e.date;return Object(j.sprintf)(Object(j.__)("Select %s as a start date.","wc_pos"),t)},chooseAvailableEndDate:function(e){var t=e.date;return Object(j.sprintf)(Object(j.__)("Select %s as an end date.","wc_pos"),t)},chooseAvailableDate:function(e){return e.date},dateIsUnavailable:function(e){var t=e.date;return Object(j.sprintf)(Object(j.__)("%s is not selectable.","wc_pos"),t)},dateIsSelected:function(e){var t=e.date;return Object(j.sprintf)(Object(j.__)("Selected. %s","wc_pos"),t)}});function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Bn=function(e){l()(r,e);var t=In(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).onDatesChange=n.onDatesChange.bind(pt()(n)),n.onFocusChange=n.onFocusChange.bind(pt()(n)),n.onInputChange=n.onInputChange.bind(pt()(n)),n.nodeRef=Object(f.createRef)(),n.keepFocusInside=n.keepFocusInside.bind(pt()(n)),n}return s()(r,[{key:"keepFocusInside",value:function(e,t){if(this.nodeRef.current){var r=this.props.losesFocusTo;if("container"!==e||!t.target||!t.target.classList.contains("DayPickerNavigation_button")&&!t.target.classList.contains("CalendarDay")||t.relatedTarget&&(t.relatedTarget.classList.contains("DayPickerNavigation_button")||t.relatedTarget.classList.contains("CalendarDay"))){if("onPrevMonthClick"===e||"onNextMonthClick"===e){var n=this.nodeRef.current.querySelector(".DayPickerNavigation_button");n&&n.focus()}}else{if(t.relatedTarget&&(t.relatedTarget.classList.contains("DayPickerNavigation_button")||t.relatedTarget.classList.contains("CalendarDay")))return;if(t.relatedTarget&&r&&r.contains(t.relatedTarget))return;var a=this.nodeRef.current.querySelector(".DayPicker_focusRegion");a&&a.focus()}}}},{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,a=n.onUpdate,c=n.shortDateFormat;a({after:t,before:r,afterText:t?t.format(c):"",beforeText:r?r.format(c):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r,n=t.target.value,a=this.props,c=a.after,o=a.before,s=a.shortDateFormat,i=Object(W.validateDateInputForRange)(e,n,o,c,s),l=i.date,u=i.error;this.props.onUpdate((r={},y()(r,e,l),y()(r,e+"Text",n),y()(r,e+"Error",n.length>0?u:null),r))}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||fe()();return e?r.clone().subtract(1,"month"):r}}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,n=t.before,a=t.focusedInput,c=t.afterText,o=t.beforeText,s=t.afterError,i=t.beforeError,l=t.shortDateFormat,u=t.isViewportMobile,p=t.isViewportSmall,d=t.isInvalidDate,m=u&&!p;return Object(f.createElement)("div",{className:k()("woocommerce-calendar",{"is-mobile":u})},Object(f.createElement)("div",{className:"woocommerce-calendar__inputs"},Object(f.createElement)(Zr,{value:c,onChange:Object(ae.partial)(this.onInputChange,"after"),dateFormat:l,label:Object(j.__)("Start Date","wc_pos"),error:s,onFocus:function(){return e.onFocusChange("startDate")}}),Object(f.createElement)("div",{className:"woocommerce-calendar__inputs-to"},Object(j.__)("to","wc_pos")),Object(f.createElement)(Zr,{value:o,onChange:Object(ae.partial)(this.onInputChange,"before"),dateFormat:l,label:Object(j.__)("End Date","wc_pos"),error:i,onFocus:function(){return e.onFocusChange("endDate")}})),Object(f.createElement)("div",{className:"woocommerce-calendar__react-dates",ref:this.nodeRef,onBlur:Object(ae.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(f.createElement)(qn.DayPickerRangeController,{onNextMonthClick:Object(ae.partial)(this.keepFocusInside,"onNextMonthClick"),onPrevMonthClick:Object(ae.partial)(this.keepFocusInside,"onPrevMonthClick"),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:a,startDate:r,endDate:n,orientation:"horizontal",numberOfMonths:m?2:1,isOutsideRange:function(e){return d&&d(e.toDate())},minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:"rtl"===document.documentElement.dir,initialVisibleMonth:this.setTnitialVisibleMonth(m,n),phrases:An})))}}]),r}(f.Component);Bn.propTypes={after:F.a.object,afterError:F.a.string,afterText:F.a.string,before:F.a.object,beforeError:F.a.string,beforeText:F.a.string,focusedInput:F.a.string,isInvalidDate:F.a.func,onUpdate:F.a.func.isRequired,shortDateFormat:F.a.string.isRequired,losesFocusTo:F.a.instanceOf(Element)};var Mn=Object(Sn.a)({isViewportMobile:"< medium",isViewportSmall:"< small"})(Bn);function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Un=function(e){l()(r,e);var t=Ln(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.onSelect,r=e.period;return Object(f.createElement)(Dn,{options:Object(ae.filter)(W.presetValues,(function(e){return"custom"!==e.value})),selected:r,onSelect:t,name:"period"})}}]),r}(f.Component);Un.propTypes={onSelect:F.a.func.isRequired,period:F.a.string};var Qn=Un;function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Kn=function(e){l()(r,e);var t=Vn(r);function r(){var e;return c()(this,r),(e=t.call(this)).onTabSelect=e.onTabSelect.bind(pt()(e)),e.controlsRef=Object(f.createRef)(),e}return s()(r,[{key:"onTabSelect",value:function(e){var t=this.props,r=t.onUpdate,n=t.period;"period"===e&&"custom"===n&&r({period:"today"})}},{key:"isFutureDate",value:function(e){return fe()().isBefore(fe()(e),"day")}},{key:"render",value:function(){var e=this,t=this.props,r=t.period,n=t.compare,a=t.after,c=t.before,o=t.onUpdate,s=t.onClose,i=t.onSelect,l=t.isValidSelection,u=t.resetCustomValues,p=t.focusedInput,d=t.afterText,m=t.beforeText,b=t.afterError,h=t.beforeError,y=t.shortDateFormat;return Object(f.createElement)("div",null,Object(f.createElement)(tn,{component:!1},Object(f.createElement)(V,{className:"woocommerce-filters-date__text"},Object(j.__)("select a date range","wc_pos")),Object(f.createElement)(Rn.a,{tabs:[{name:"period",title:Object(j.__)("Presets","wc_pos"),className:"woocommerce-filters-date__tab"},{name:"custom",title:Object(j.__)("Custom","wc_pos"),className:"woocommerce-filters-date__tab"}],className:"woocommerce-filters-date__tabs",activeClass:"is-active",initialTabName:"custom"===r?"custom":"period",onSelect:this.onTabSelect},(function(t){return Object(f.createElement)(f.Fragment,null,"period"===t.name&&Object(f.createElement)(Qn,{onSelect:o,period:r}),"custom"===t.name&&Object(f.createElement)(Mn,{after:a,before:c,onUpdate:o,isInvalidDate:e.isFutureDate,focusedInput:p,afterText:d,beforeText:m,afterError:b,beforeError:h,shortDateFormat:y,losesFocusTo:e.controlsRef.current}),Object(f.createElement)("div",{className:k()("woocommerce-filters-date__content-controls",{"is-custom":"custom"===t.name}),ref:e.controlsRef},Object(f.createElement)(V,{className:"woocommerce-filters-date__text"},Object(j.__)("compare to","wc_pos")),Object(f.createElement)(Pn,{onSelect:o,compare:n}),Object(f.createElement)("div",{className:"woocommerce-filters-date__button-group"},"custom"===t.name&&Object(f.createElement)(T.a,{className:"woocommerce-filters-date__button",isSecondary:!0,onClick:u,disabled:!(a||c)},Object(j.__)("Reset","wc_pos")),l(t.name)?Object(f.createElement)(T.a,{className:"woocommerce-filters-date__button",onClick:i(t.name,s),isPrimary:!0},Object(j.__)("Update","wc_pos")):Object(f.createElement)(T.a,{className:"woocommerce-filters-date__button",isPrimary:!0,disabled:!0},Object(j.__)("Update","wc_pos")))))}))))}}]),r}(f.Component);Kn.propTypes={period:F.a.string.isRequired,compare:F.a.string.isRequired,onUpdate:F.a.func.isRequired,onClose:F.a.func.isRequired,onSelect:F.a.func.isRequired,resetCustomValues:F.a.func.isRequired,focusedInput:F.a.string,afterText:F.a.string,beforeText:F.a.string,afterError:F.a.string,beforeError:F.a.string,shortDateFormat:F.a.string.isRequired};var Hn=Kn,Yn=["labels","isOpen"],zn=function(e){var t=e.labels,r=e.isOpen,n=_()(e,Yn),a=k()("woocommerce-dropdown-button",{"is-open":r,"is-multi-line":t.length>1});return Object(f.createElement)(T.a,mt()({className:a,"aria-expanded":r},n),Object(f.createElement)("div",{className:"woocommerce-dropdown-button__labels"},t.map((function(e,t){return Object(f.createElement)("span",{key:t},Object(Ht.decodeEntities)(e))}))))};zn.propTypes={labels:F.a.array.isRequired,isOpen:F.a.bool};var Gn=zn;function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var $n=Object(j.__)("MM/DD/YYYY","wc_pos"),Jn=function(e){l()(r,e);var t=Wn(r);function r(e){var n;return c()(this,r),(n=t.call(this,e)).state=n.getResetState(),n.update=n.update.bind(pt()(n)),n.onSelect=n.onSelect.bind(pt()(n)),n.isValidSelection=n.isValidSelection.bind(pt()(n)),n.resetCustomValues=n.resetCustomValues.bind(pt()(n)),n}return s()(r,[{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"getResetState",value:function(){var e=this.props.dateQuery,t=e.period,r=e.compare,n=e.before,a=e.after;return{period:t,compare:r,before:n,after:a,focusedInput:"startDate",afterText:this.formatDate(a,$n),beforeText:this.formatDate(n,$n),afterError:null,beforeError:null}}},{key:"update",value:function(e){this.setState(e)}},{key:"onSelect",value:function(e,t){var r=this,n=this.props,a=n.isoDateFormat,c=n.onRangeSelect;return function(n){var o=r.state,s=o.period,i=o.compare,l=o.after,u=o.before,p={period:"custom"===e?"custom":s,compare:i};"custom"===e?(p.after=r.formatDate(l,a),p.before=r.formatDate(u,a)):(p.after=void 0,p.before=void 0),c(p),t(n)}}},{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate;return["".concat(t.label," (").concat(t.range,")"),"".concat(Object(j.__)("vs.","wc_pos")," ").concat(r.label," (").concat(r.range,")")]}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,a=t.before;return"custom"!==e||r&&n&&a}},{key:"resetCustomValues",value:function(){this.setState({after:null,before:null,focusedInput:"startDate",afterText:"",beforeText:"",afterError:null,beforeError:null})}},{key:"render",value:function(){var e=this,t=this.state,r=t.period,n=t.compare,a=t.after,c=t.before,o=t.focusedInput,s=t.afterText,i=t.beforeText,l=t.afterError,u=t.beforeError,p=this.props.isViewportMobile,d=k()("woocommerce-filters-date__content",{"is-mobile":p});return Object(f.createElement)("div",{className:"woocommerce-filters-filter"},Object(f.createElement)("span",{className:"woocommerce-filters-label"},Object(j.__)("Date range","wc_pos"),":"),Object(f.createElement)("div",{className:"reports-dropdown"},Object(f.createElement)(q.a,{contentClassName:d,position:"bottom",expandOnMobile:!0,renderToggle:function(t){var r=t.isOpen,n=t.onToggle;return Object(f.createElement)(Gn,{onClick:n,isOpen:r,labels:e.getButtonLabel()})},renderContent:function(t){var p=t.onClose;return Object(f.createElement)(Hn,{period:r,compare:n,after:a,before:c,onUpdate:e.update,onClose:p,onSelect:e.onSelect,isValidSelection:e.isValidSelection,resetCustomValues:e.resetCustomValues,focusedInput:o,afterText:s,beforeText:i,afterError:l,beforeError:u,shortDateFormat:$n})}})))}}]),r}(f.Component);Jn.propTypes={onRangeSelect:F.a.func.isRequired,dateQuery:F.a.shape({period:F.a.string.isRequired,compare:F.a.string.isRequired,before:F.a.object,after:F.a.object,primaryDate:F.a.shape({label:F.a.string.isRequired,range:F.a.string.isRequired}).isRequired,secondaryDate:F.a.shape({label:F.a.string.isRequired,range:F.a.string.isRequired}).isRequired}).isRequired};var Xn=Object(Sn.a)({isViewportMobile:"< medium"})(Jn),Zn=r(1211),ea=r(1287),ta=r(1190);function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var na=function(e){l()(r,e);var t=ra(r);function r(){var e;return c()(this,r),(e=t.call(this)).state={animate:null},e.container=Object(f.createRef)(),e.onExited=e.onExited.bind(pt()(e)),e}return s()(r,[{key:"onExited",value:function(){var e=this.props.onExited;e&&e(this.container.current)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.animationKey,n=e.animate,a=k()("woocommerce-slide-animation",n&&"animate-".concat(n));return Object(f.createElement)("div",{className:a,ref:this.container},Object(f.createElement)(ta.TransitionGroup,null,Object(f.createElement)(ta.CSSTransition,mt()({timeout:200,classNames:"slide",key:r},this.props,{onExited:this.onExited}),(function(e){return t({status:e})}))))}}]),r}(f.Component);na.propTypes={children:F.a.func.isRequired,animationKey:F.a.any.isRequired,animate:F.a.oneOf([null,"left","right"]),onExited:F.a.func};var aa=na;function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var ia=function(e){l()(r,e);var t=sa(r);function r(e){var n;c()(this,r);var a=(n=t.call(this,e)).getFilter();if(n.state={nav:a.path||[],animate:null,selectedTag:null},n.selectSubFilter=n.selectSubFilter.bind(pt()(n)),n.getVisibleFilters=n.getVisibleFilters.bind(pt()(n)),n.updateSelectedTag=n.updateSelectedTag.bind(pt()(n)),n.onTagChange=n.onTagChange.bind(pt()(n)),n.onContentMount=n.onContentMount.bind(pt()(n)),n.goBack=n.goBack.bind(pt()(n)),a.settings&&a.settings.getLabels){var o=n.props.query,s=a.settings,i=s.param;(0,s.getLabels)(o[i],o).then(n.updateSelectedTag)}return n}return s()(r,[{key:"componentDidUpdate",value:function(e){var t=e.query,r=this.props,n=r.query,a=r.config;if(t[a.param]!==n[[a.param]]){var c=this.getFilter();if(c&&"Search"===c.component){this.setState({nav:c.path||[]});var o=c.settings,s=o.param;(0,o.getLabels)(n[s],n).then(this.updateSelectedTag)}}}},{key:"updateSelectedTag",value:function(e){this.setState({selectedTag:e[0]})}},{key:"getFilter",value:function(e){var t=this.props,r=t.config,n=t.query,a=Object(ce.flattenFilters)(r.filters);return e=e||n[r.param]||r.defaultValue||"all",Object(ae.find)(a,{value:e})||{}}},{key:"getButtonLabel",value:function(e){if("Search"===e.component){var t=this.state.selectedTag;return[t&&t.label,Object(ae.get)(e,"settings.labels.button")]}return e?[e.label]:[]}},{key:"getVisibleFilters",value:function(e,t){if(0===t.length)return e;var r=t[0],n=Object(ae.find)(e,{value:r});return this.getVisibleFilters(n&&n.subFilters,t.slice(1))}},{key:"selectSubFilter",value:function(e){this.setState((function(t){return{nav:[].concat(bt()(t.nav),[e]),animate:"left"}}))}},{key:"goBack",value:function(){this.setState((function(e){return{nav:e.nav.slice(0,-1),animate:"right"}}))}},{key:"getAllFilterParams",value:function(){var e=this.props.config,t=[];return function e(r){r.forEach((function(r){r.settings&&!t.includes(r.settings.param)&&t.push(r.settings.param),r.subFilters&&e(r.subFilters)}))}(e.filters),t}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props,n=r.path,a=r.query,c=r.config,o=r.onFilterSelect,s=r.advancedFilters,i=oa(y()({},c.param,(c.defaultValue||"all")===e?void 0:e),t);if(c.staticParams.forEach((function(e){i[e]=a[e]})),this.getAllFilterParams().forEach((function(e){i[e]||(i[e]=void 0)})),"filter"===c.param&&"advanced"!==e){var l=Object(ce.getQueryFromActiveFilters)([],a,s.filters||{});i=oa(oa({},i),l)}Object(ce.updateQueryString)(i,n,a),o(i)}},{key:"onTagChange",value:function(e,t,r,n){var a=Object(ae.last)(n),c=e.value,o=e.settings.param;a?(this.update(c,y()({},o,a.key)),t()):this.update(r.defaultValue||"all"),this.updateSelectedTag([a])}},{key:"renderButton",value:function(e,t,r){var n=this;if(e.component){var a=e.settings,c=a.type,o=a.labels,s=a.autocompleter,i=this.getFilter().value===e.value?this.state.selectedTag:null;return Object(f.createElement)(Ar,{autocompleter:s,className:"woocommerce-filters-filter__search",type:c,placeholder:o.placeholder,selected:i?[i]:[],onChange:Object(ae.partial)(this.onTagChange,e,t,r),inlineTags:!0,staticResults:!0})}var l=Object(ae.partial)(this.selectSubFilter,e.value),u=this.getFilter(),p=u.value===e.value||u.path&&Object(ae.includes)(u.path,e.value);return Object(f.createElement)(T.a,{className:"woocommerce-filters-filter__button",onClick:function(r){p?t(r):e.subFilters?l(r):function(r){t(r),n.update(e.value,e.query||{}),n.setState({selectedTag:null})}(r)}},e.label)}},{key:"onContentMount",value:function(e){var t=this.state.nav,r=!!t.length&&this.getFilter(t[t.length-1])?1:0,n=Zn.a.tabbable.find(e)[r];setTimeout((function(){n.focus()}),0)}},{key:"render",value:function(){var e=this,t=this.props.config,r=this.state,n=r.nav,a=r.animate,c=this.getVisibleFilters(t.filters,n),o=!!n.length&&this.getFilter(n[n.length-1]),s=this.getFilter();return Object(f.createElement)("div",{className:"woocommerce-filters-filter"},t.label&&Object(f.createElement)("span",{className:"woocommerce-filters-label"},t.label,":"),Object(f.createElement)(q.a,{contentClassName:"woocommerce-filters-filter__content",position:"bottom",expandOnMobile:!0,headerTitle:Object(j.__)("filter report to show:","wc_pos"),renderToggle:function(t){var r=t.isOpen,n=t.onToggle;return Object(f.createElement)(Gn,{onClick:n,isOpen:r,labels:e.getButtonLabel(s)})},renderContent:function(r){var i=r.onClose;return Object(f.createElement)(aa,{animationKey:n,animate:a,onExited:e.onContentMount},(function(){return Object(f.createElement)("ul",{className:"woocommerce-filters-filter__content-list"},o&&Object(f.createElement)("li",{className:"woocommerce-filters-filter__content-list-item"},Object(f.createElement)(T.a,{className:"woocommerce-filters-filter__button",onClick:e.goBack},Object(f.createElement)(A.a,{icon:ea.a}),o.label)),c.map((function(r){return Object(f.createElement)("li",{key:r.value,className:k()("woocommerce-filters-filter__content-list-item",{"is-selected":s.value===r.value||s.path&&Object(ae.includes)(s.path,r.value)})},e.renderButton(r,i,t))})))}))}}))}}]),r}(f.Component);ia.propTypes={config:F.a.shape({label:F.a.string,staticParams:F.a.array.isRequired,param:F.a.string.isRequired,defaultValue:F.a.string,showFilters:F.a.func.isRequired,filters:F.a.arrayOf(F.a.shape({chartMode:F.a.oneOf(["item-comparison","time-comparison"]),component:F.a.string,label:F.a.string,path:F.a.string,subFilters:F.a.array,value:F.a.string.isRequired}))}).isRequired,path:F.a.string.isRequired,query:F.a.object,onFilterSelect:F.a.func,advancedFilters:F.a.object},ia.defaultProps={query:{},onFilterSelect:function(){}};var la=ia;function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var pa=function(e){l()(r,e);var t=ua(r);function r(){var e;return c()(this,r),(e=t.call(this)).renderCard=e.renderCard.bind(pt()(e)),e.onRangeSelect=e.onRangeSelect.bind(pt()(e)),e}return s()(r,[{key:"renderCard",value:function(e){var t=this.props,r=t.siteLocale,n=t.advancedFilters,a=t.query,c=t.path,o=t.onAdvancedFilterAction,s=t.currency,i=e.filters,l=e.param;if(!a[l])return null;if(0===a[l].indexOf("compare")){var u=Object(ae.find)(i,{value:a[l]});if(!u)return null;var p=u.settings,d=void 0===p?{}:p;return Object(f.createElement)("div",{key:l,className:"woocommerce-filters__advanced-filters"},Object(f.createElement)(Cn,mt()({path:c,query:a},d)))}return"advanced"===a[l]?Object(f.createElement)("div",{key:l,className:"woocommerce-filters__advanced-filters"},Object(f.createElement)(_n,{siteLocale:r,currency:s,config:n,path:c,query:a,onAdvancedFilterAction:o})):void 0}},{key:"onRangeSelect",value:function(e){var t=this.props,r=t.query,n=t.path,a=t.onDateSelect;Object(ce.updateQueryString)(e,n,r),a(e)}},{key:"getDateQuery",value:function(e){var t=Object(W.getDateParamsFromQuery)(e),r=t.period,n=t.compare,a=t.before,c=t.after,o=Object(W.getCurrentDates)(e);return{period:r,compare:n,before:a,after:c,primaryDate:o.primary,secondaryDate:o.secondary}}},{key:"render",value:function(){var e=this.props,t=e.dateQuery,r=e.filters,n=e.query,a=e.path,c=e.showDatePicker,o=e.onFilterSelect,s=e.isoDateFormat,i=e.advancedFilters;return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(V,{className:"screen-reader-text"},Object(j.__)("Filters","wc_pos")),Object(f.createElement)(tn,{component:"div",className:"woocommerce-filters"},Object(f.createElement)("div",{className:"woocommerce-filters__basic-filters"},c&&Object(f.createElement)(Xn,{key:JSON.stringify(n),dateQuery:t||this.getDateQuery(n),onRangeSelect:this.onRangeSelect,isoDateFormat:s}),r.map((function(e){return e.showFilters(n)?Object(f.createElement)(la,{key:e.param,config:e,advancedFilters:i,query:n,path:a,onFilterSelect:o}):null}))),r.map(this.renderCard)))}}]),r}(f.Component);pa.propTypes={siteLocale:F.a.string,advancedFilters:F.a.object,filters:F.a.array,path:F.a.string.isRequired,query:F.a.object,showDatePicker:F.a.bool,onDateSelect:F.a.func,onFilterSelect:F.a.func,onAdvancedFilterAction:F.a.func,currency:F.a.object,dateQuery:F.a.shape({period:F.a.string.isRequired,compare:F.a.string.isRequired,before:F.a.object,after:F.a.object,primaryDate:F.a.shape({label:F.a.string.isRequired,range:F.a.string.isRequired}).isRequired,secondaryDate:F.a.shape({label:F.a.string.isRequired,range:F.a.string.isRequired})}),isoDateFormat:F.a.string},pa.defaultProps={siteLocale:"en_US",advancedFilters:{title:"",filters:{}},filters:[],query:{},showDatePicker:!0,onDateSelect:function(){},currency:ve()().getCurrencyConfig()};var da=pa,ma=r(218);function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ha={adminUrl:"",countries:[],currency:{code:"USD",precision:2,symbol:"$",symbolPosition:"left",decimalSeparator:".",priceFormat:"%1$s%2$s",thousandSeparator:","},defaultDateRange:"period=month&compare=previous_year",locale:{siteLocale:"en_US",userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},orderStatuses:[],siteTitle:"",wcAssetUrl:""},ya="object"===(void 0==={adminUrl:"https://vagrant.local/wp/wp-admin/",locale:"en-US",currency:{code:"USD",precision:2,symbol:"$"},date:{dow:0},orderStatuses:{pending:"Pending payment",processing:"Processing","on-hold":"On hold",completed:"Completed",cancelled:"Cancelled",refunded:"Refunded",failed:"Failed"},l10n:{userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},wcAdminSettings:{woocommerce_actionable_order_statuses:[],woocommerce_excluded_report_order_statuses:[]}}?"undefined":Pt()({adminUrl:"https://vagrant.local/wp/wp-admin/",locale:"en-US",currency:{code:"USD",precision:2,symbol:"$"},date:{dow:0},orderStatuses:{pending:"Pending payment",processing:"Processing","on-hold":"On hold",completed:"Completed",cancelled:"Cancelled",refunded:"Refunded",failed:"Failed"},l10n:{userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},wcAdminSettings:{woocommerce_actionable_order_statuses:[],woocommerce_excluded_report_order_statuses:[]}}))?{adminUrl:"https://vagrant.local/wp/wp-admin/",locale:"en-US",currency:{code:"USD",precision:2,symbol:"$"},date:{dow:0},orderStatuses:{pending:"Pending payment",processing:"Processing","on-hold":"On hold",completed:"Completed",cancelled:"Cancelled",refunded:"Refunded",failed:"Failed"},l10n:{userLocale:"en_US",weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},wcAdminSettings:{woocommerce_actionable_order_statuses:[],woocommerce_excluded_report_order_statuses:[]}}:{},ga=ba(ba({},ha),ya);ga.currency=ba(ba({},ha.currency),ga.currency),ga.locale=ba(ba({},ha.locale),ga.locale);var va=ga.adminUrl,Oa=ga.countries,_a=ga.currency,ja=ga.locale,wa=ga.orderStatuses,ka=ga.siteTitle,Ea=ga.wcAssetUrl,Ca=ga.defaultDateRange;function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=ga.hasOwnProperty(e)?ga[e]:t;return r(n,t)}function Ra(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};ga[e]=r(t)}function xa(e){return(va||"")+e}var Fa=ma&&void 0!==ma.getSetting?ma:n,Da=(Fa.ADMIN_URL,Fa.COUNTRIES,Fa.CURRENCY),Ta=Fa.LOCALE,Na=(Fa.ORDER_STATUSES,Fa.SITE_TITLE,Fa.WC_ASSET_URL,Fa.DEFAULT_DATE_RANGE,Fa.getSetting),Pa=(Fa.setSetting,Fa.getAdminLink,r(627)),qa=r.n(Pa)()("wc-admin:tracks");function Aa(e,t){if(qa("recordevent %s %o","wcadmin_"+e,t),!window.wcTracks||"function"!=typeof window.wcTracks.recordEvent)return!1;window.wcTracks.recordEvent(e,t)}var Ia=new ve.a(Da),Ba=(Ia.formatCurrency.bind(Ia),Ia.formatDecimal.bind(Ia),Ia.formatDecimalString.bind(Ia),Ia.render.bind(Ia),Ia.setCurrency.bind(Ia),Na("wcAdminSettings",{}).woocommerce_default_date_range),Ma=void 0===Ba?"period=month&compare=previous_year":Ba,La=Object(ae.partialRight)(W.getDateParamsFromQuery,Ma),Ua=Object(ae.partialRight)(W.getCurrentDates,Ma);function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Ka=function(e){l()(r,e);var t=Va(r);function r(){var e;return c()(this,r),(e=t.call(this)).trackDateSelect=e.trackDateSelect.bind(pt()(e)),e.trackFilterSelect=e.trackFilterSelect.bind(pt()(e)),e.trackAdvancedFilterAction=e.trackAdvancedFilterAction.bind(pt()(e)),e}return s()(r,[{key:"trackDateSelect",value:function(e){Aa("datepicker_update",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){y()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({report:this.props.report},Object(ae.omitBy)(e,ae.isUndefined)))}},{key:"trackFilterSelect",value:function(e){Aa("analytics_filter",{report:this.props.report,filter:e.filter||"all"})}},{key:"trackAdvancedFilterAction",value:function(e,t){var r=this.props.report;switch(e){case"add":Aa("analytics_filters_add",{report:r,filter:t.key});break;case"remove":Aa("analytics_filters_remove",{report:r,filter:t.key});break;case"filter":Aa("analytics_filters_filter",{report:r,snakeCaseData:Object.keys(t).reduce((function(e,r){return e[Object(ae.snakeCase)(r)]=t[r],e}),{})});break;case"clear_all":Aa("analytics_filters_clear_all",{report:r});break;case"match":Aa("analytics_filters_all_any",{report:r,value:t.match})}}},{key:"render",value:function(){var e=this.props,t=e.advancedFilters,r=e.filters,n=e.path,a=e.query,c=e.showDatePicker,o=La(a),s=o.period,i=o.compare,l=o.before,u=o.after,p=Ua(a),d={period:s,compare:i,before:l,after:u,primaryDate:p.primary,secondaryDate:p.secondary};return Object(f.createElement)(da,{query:a,siteLocale:Ta.siteLocale,currency:Ia,path:n,filters:r,advancedFilters:t,showDatePicker:c,onDateSelect:this.trackDateSelect,onFilterSelect:this.trackFilterSelect,onAdvancedFilterAction:this.trackAdvancedFilterAction,dateQuery:d,isoDateFormat:W.isoDateFormat})}}]),r}(f.Component);function Ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}Ka.propTypes={advancedFilters:F.a.object,filters:F.a.array,path:F.a.string.isRequired,query:F.a.object,showDatePicker:F.a.bool,report:F.a.string.isRequired};var Ya=function(e){l()(r,e);var t=Ha(r);function r(){return c()(this,r),t.apply(this,arguments)}return s()(r,[{key:"getQuery",value:function(e){if(!e)return{};var t=(e=e.replace("#/","")).substring(1);return Object(lt.parse)(t)}},{key:"render",value:function(){var e={};null!=this.props.location.search?e=this.getQuery(this.props.location.search):this.props.location.hash&&(e=this.getQuery(this.props.location.hash));return Object(f.createElement)(b.Fragment,null,Object(f.createElement)(Ka,{query:e,path:"/"}),Object(f.createElement)(it,{query:e,path:"/",hiddenBlocks:[]}))}}]),r}(b.Component);function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var Ga=function(e){l()(r,e);var t=za(r);function r(e){return c()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){return Object(f.createElement)("div",{className:"woocommerce-layout__primary pos-tabContent pos-report",id:"woocommerce-layout__primary"},Object(f.createElement)("div",{className:"woocommerce-layout__main"},Object(f.createElement)(Ya,{location:this.props.location})))}}]),r}(b.Component);t.default=Ga},967:function(e,t,r){}}]);