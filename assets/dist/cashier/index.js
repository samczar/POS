(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1279:function(e,t,a){"use strict";a.r(t),a.d(t,"CASHIER_TABS_FILTER",(function(){return R})),a.d(t,"CASHIER_ADD_NEW_COMPONENT_FILTER",(function(){return x})),a.d(t,"CASHIER_ADD_CUSTOM_COMPONENT_FILTER",(function(){return A}));var r=a(14),n=a.n(r),i=a(15),c=a.n(i),o=a(10),s=a.n(o),l=a(16),u=a.n(l),p=a(17),f=a.n(p),d=a(9),_=a.n(d),m=a(0),b=a(5),h=a(22),g=a(20),v=a(31),w=a(3),y=a(62),O=a(248),j=a(7),S=a(23),C=a(6),E=(a(958),a(36)),k=a(4);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=_()(e);if(t){var n=_()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var D=Object(m.lazy)((function(){return a.e(3).then(a.bind(null,1198))})),F=Object(m.lazy)((function(){return a.e(17).then(a.bind(null,1199))})),L=Object(m.lazy)((function(){return a.e(14).then(a.bind(null,1200))})),R="wkwcpos_cashier_modify_tabs",x="wkwcpos_cashier_add_new_component",A="wkwcpos_cashier_add_custom_component",N=function(e){u()(a,e);var t=T(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).getTabComponent=r.getTabComponent.bind(s()(r)),r.getCashierTabLinks=r.getCashierTabLinks.bind(s()(r)),r}return c()(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(Object(E.b)()),e(Object(y.b)()),e(Object(O.a)())}},{key:"getTabComponent",value:function(e,t,a,r){if(Object(C.applyFilters)(A,!1,e))return Object(C.applyFilters)(x,"",e,t,a,r,k.a);switch(e){case"Cashier":case"Cashier Drawer":return Object(m.createElement)(m.Suspense,{fallback:Object(m.createElement)(v.Spinner,null)},Object(m.createElement)(D,{currency:t,orders:a}));case"Cashier Today":return Object(m.createElement)(m.Suspense,{fallback:Object(m.createElement)(v.Spinner,null)},Object(m.createElement)(F,{orders:r,currency:t}));case"Cashier Sale":return Object(m.createElement)(m.Suspense,{fallback:Object(m.createElement)(v.Spinner,null)},Object(m.createElement)(L,{currency:t}))}}},{key:"getCashierTabLinks",value:function(){var e=w.a.sale_history,t=w.a.today_cash,a=w.a.close_counter,r="wkwcpos-tabs",n="wkwcpos-tabs",i="wkwcpos-tabs";if(null!=this.props.page.name)switch(this.props.page.name){case"Cashier":case"Cashier Drawer":r+=" pos-active";break;case"Cashier Today":n+=" pos-active";break;case"Cashier Sale":i+=" pos-active"}var c=[{to:"/pos/cashier/tab/drawer",classname:r,text:a},{to:"/pos/cashier/tab/today",classname:n,text:t},{to:"/pos/cashier/tab/sale",classname:i,text:e}];return Object(C.applyFilters)(R,c,this.props.page.name)}},{key:"render",value:function(){var e=this.props.currency,t="";null!=e.length&&e.length>0&&(t=e[0].symbol);var a=Array.from(this.props.orders),r=apif_script.logged_in.current_date,n=a.filter((function(e){var t=e.order_date;r=new Date(Date.parse(r)).toDateString();var a=new Date(Date.parse(t)).toDateString();if(a=a.split(" ").slice(0,4).join(" "),r.trim()==a.trim())return e})),i=this.props.page.name,c=this.getCashierTabLinks().map((function(e){return Object(m.createElement)("li",null,Object(m.createElement)(S.a,{className:e.classname,key:e.to,to:j.a.HOME_URL+e.to},e.text))}));return Object(m.createElement)("div",{className:"pos-tabContent",id:"pos-cashier"},Object(m.createElement)("div",{className:"pos-2-col"},Object(m.createElement)("nav",{className:"pos-tabs"},Object(m.createElement)("ul",null,c))),this.getTabComponent(i,t,a,n))}}]),a}(b.Component);t.default=Object(h.b)((function(e){return{orders:e.orders.list,currency:e.currency.default}}),(function(e){return Object.assign({dispatch:e},Object(g.bindActionCreators)({},e))}))(N)},248:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var r=a(3),n=a(6),i=a(2),c=function(e){return{type:"LOGGIN_USER",user:e}},o=function(){return function(e){var t=apif_script.logged_in,a=apif_script.logout_url;if(""!=t){var r={first_name:t.fname,last_name:t.lname,email:t.email,isLoggedIn:!0,cashier_id:t.user_id,profile_pic:t.profile_pic,isFetching:1,logout_url:a,opening_amount:parseFloat(0)};e(c(r))}}},s=function(){return function(e){var t=apif_script.logged_in,a=apif_script.logout_url;if(""!=t&&void 0===localStorage.cashdrawer)if(Object(n.applyFilters)("wkwcpos_show_set_drawer_amount_popup",!0))jQuery.confirm({title:r.a.drawer_text,content:'<div><div class="form-group"><input autofocus type="text" id="input-drawer" placeholder="'+r.a.validated_text+'" class="form-control"></div></div>',buttons:{apply:{text:r.a.okay_text,btnClass:"btn-global",action:function(){var n=this.$content.find("input#input-drawer");if(!n.val().trim()||n.val().length>15||0==/^-?(?:\d+|\d{1,3}(?:[\s\.,]\d{3})+)(?:[\.,]\d+)?$/.test(n.val())||parseFloat(n.val())<0)return jQuery.alert({content:r.a.drawer_validate_text,type:"red"}),!1;var i=n.val();if(i&&(null==localStorage.cashdrawer||""==localStorage.cashdrawer||"{}"==localStorage.cashdrawer)){var o={};if(o.initialAmount={initialAmount:i},localStorage.cashdrawer=JSON.stringify(o),""!=t){var s={first_name:t.fname,last_name:t.lname,email:t.email,isLoggedIn:!0,cashier_id:t.user_id,profile_pic:t.profile_pic,isFetching:1,logout_url:a,opening_amount:i};e(c(s))}}}},later:{text:Object(i.__)("Later","wc_pos"),action:function(){}}}});else{var o=Object(n.applyFilters)("wkwcpos_set_default_opening_amount_filter",0);if(o&&(null==localStorage.cashdrawer||""==localStorage.cashdrawer||"{}"==localStorage.cashdrawer)){var s={};if(s.initialAmount={initialAmount:o},localStorage.cashdrawer=JSON.stringify(s),""!=t){var l={first_name:t.fname,last_name:t.lname,email:t.email,isLoggedIn:!0,cashier_id:t.user_id,profile_pic:t.profile_pic,isFetching:1,logout_url:a,opening_amount:o};e(c(l))}}}}}},958:function(e,t,a){}}]);